;
/*!
 * SlickNav Responsive Mobile Menu v1.0.10
 * (c) 2016 Josh Cope
 * licensed under MIT
 */
(function($,document,window){var
defaults={label:'MENU',duplicate:true,duration:200,easingOpen:'swing',easingClose:'swing',closedSymbol:'&#9658;',openedSymbol:'&#9660;',prependTo:'body',appendTo:'',parentTag:'a',closeOnClick:false,allowParentLinks:false,nestedParentLinks:true,showChildren:false,removeIds:true,removeClasses:false,removeStyles:false,brand:'',animations:'jquery',init:function(){},beforeOpen:function(){},beforeClose:function(){},afterOpen:function(){},afterClose:function(){}},mobileMenu='slicknav',prefix='slicknav';Keyboard={DOWN:40,ENTER:13,ESCAPE:27,LEFT:37,RIGHT:39,SPACE:32,TAB:9,UP:38,};function Plugin(element,options){this.element=element;this.settings=$.extend({},defaults,options);if(!this.settings.duplicate&&!options.hasOwnProperty("removeIds")){this.settings.removeIds=false;}
this._defaults=defaults;this._name=mobileMenu;this.init();}
Plugin.prototype.init=function(){var $this=this,menu=$(this.element),settings=this.settings,iconClass,menuBar;if(settings.duplicate){$this.mobileNav=menu.clone();}else{$this.mobileNav=menu;}
if(settings.removeIds){$this.mobileNav.removeAttr('id');$this.mobileNav.find('*').each(function(i,e){$(e).removeAttr('id');});}
if(settings.removeClasses){$this.mobileNav.removeAttr('class');$this.mobileNav.find('*').each(function(i,e){$(e).removeAttr('class');});}
if(settings.removeStyles){$this.mobileNav.removeAttr('style');$this.mobileNav.find('*').each(function(i,e){$(e).removeAttr('style');});}
iconClass=prefix+'_icon';if(settings.label===''){iconClass+=' '+prefix+'_no-text';}
if(settings.parentTag=='a'){settings.parentTag='a href="#"';}
$this.mobileNav.attr('class',prefix+'_nav');menuBar=$('<div class="'+prefix+'_menu"></div>');if(settings.brand!==''){var brand=$('<div class="'+prefix+'_brand">'+settings.brand+'</div>');$(menuBar).append(brand);}
$this.btn=$(['<'+settings.parentTag+' aria-haspopup="true" role="button" tabindex="0" class="'+prefix+'_btn '+prefix+'_collapsed">','<span class="'+prefix+'_menutxt">'+settings.label+'</span>','<span class="'+iconClass+'">','<span class="'+prefix+'_icon-bar"></span>','<span class="'+prefix+'_icon-bar"></span>','<span class="'+prefix+'_icon-bar"></span>','</span>','</'+settings.parentTag+'>'].join(''));$(menuBar).append($this.btn);if(settings.appendTo!==''){$(settings.appendTo).append(menuBar);}else{$(settings.prependTo).prepend(menuBar);}
menuBar.append($this.mobileNav);var items=$this.mobileNav.find('li');$(items).each(function(){var item=$(this),data={};data.children=item.children('ul').attr('role','menu');item.data('menu',data);if(data.children.length>0){var a=item.contents(),containsAnchor=false,nodes=[];$(a).each(function(){if(!$(this).is('ul')){nodes.push(this);}else{return false;}
if($(this).is("a")){containsAnchor=true;}});var wrapElement=$('<'+settings.parentTag+' role="menuitem" aria-haspopup="true" tabindex="-1" class="'+prefix+'_item"/>');if((!settings.allowParentLinks||settings.nestedParentLinks)||!containsAnchor){var $wrap=$(nodes).wrapAll(wrapElement).parent();$wrap.addClass(prefix+'_row');}else
$(nodes).wrapAll('<span class="'+prefix+'_parent-link '+prefix+'_row"/>').parent();if(!settings.showChildren){item.addClass(prefix+'_collapsed');}else{item.addClass(prefix+'_open');}
item.addClass(prefix+'_parent');var arrowElement=$('<span class="'+prefix+'_arrow">'+(settings.showChildren?settings.openedSymbol:settings.closedSymbol)+'</span>');if(settings.allowParentLinks&&!settings.nestedParentLinks&&containsAnchor)
arrowElement=arrowElement.wrap(wrapElement).parent();$(nodes).last().after(arrowElement);}else if(item.children().length===0){item.addClass(prefix+'_txtnode');}
item.children('a').attr('role','menuitem').click(function(event){if(settings.closeOnClick&&!$(event.target).parent().closest('li').hasClass(prefix+'_parent')){$($this.btn).click();}});if(settings.closeOnClick&&settings.allowParentLinks){item.children('a').children('a').click(function(event){$($this.btn).click();});item.find('.'+prefix+'_parent-link a:not(.'+prefix+'_item)').click(function(event){$($this.btn).click();});}});$(items).each(function(){var data=$(this).data('menu');if(!settings.showChildren){$this._visibilityToggle(data.children,null,false,null,true);}});$this._visibilityToggle($this.mobileNav,null,false,'init',true);$this.mobileNav.attr('role','menu');$(document).mousedown(function(){$this._outlines(false);});$(document).keyup(function(){$this._outlines(true);});$($this.btn).click(function(e){e.preventDefault();$this._menuToggle();});$this.mobileNav.on('click','.'+prefix+'_item',function(e){e.preventDefault();$this._itemClick($(this));});$($this.btn).keydown(function(e){var ev=e||event;switch(ev.keyCode){case Keyboard.ENTER:case Keyboard.SPACE:case Keyboard.DOWN:e.preventDefault();if(ev.keyCode!==Keyboard.DOWN||!$($this.btn).hasClass(prefix+'_open')){$this._menuToggle();}
$($this.btn).next().find('[role="menuitem"]').first().focus();break;}});$this.mobileNav.on('keydown','.'+prefix+'_item',function(e){var ev=e||event;switch(ev.keyCode){case Keyboard.ENTER:e.preventDefault();$this._itemClick($(e.target));break;case Keyboard.RIGHT:e.preventDefault();if($(e.target).parent().hasClass(prefix+'_collapsed')){$this._itemClick($(e.target));}
$(e.target).next().find('[role="menuitem"]').first().focus();break;}});$this.mobileNav.on('keydown','[role="menuitem"]',function(e){var ev=e||event;switch(ev.keyCode){case Keyboard.DOWN:e.preventDefault();var allItems=$(e.target).parent().parent().children().children('[role="menuitem"]:visible');var idx=allItems.index(e.target);var nextIdx=idx+1;if(allItems.length<=nextIdx){nextIdx=0;}
var next=allItems.eq(nextIdx);next.focus();break;case Keyboard.UP:e.preventDefault();var allItems=$(e.target).parent().parent().children().children('[role="menuitem"]:visible');var idx=allItems.index(e.target);var next=allItems.eq(idx-1);next.focus();break;case Keyboard.LEFT:e.preventDefault();if($(e.target).parent().parent().parent().hasClass(prefix+'_open')){var parent=$(e.target).parent().parent().prev();parent.focus();$this._itemClick(parent);}else if($(e.target).parent().parent().hasClass(prefix+'_nav')){$this._menuToggle();$($this.btn).focus();}
break;case Keyboard.ESCAPE:e.preventDefault();$this._menuToggle();$($this.btn).focus();break;}});if(settings.allowParentLinks&&settings.nestedParentLinks){$('.'+prefix+'_item a').click(function(e){e.stopImmediatePropagation();});}};Plugin.prototype._menuToggle=function(el){var $this=this;var btn=$this.btn;var mobileNav=$this.mobileNav;if(btn.hasClass(prefix+'_collapsed')){btn.removeClass(prefix+'_collapsed');btn.addClass(prefix+'_open');}else{btn.removeClass(prefix+'_open');btn.addClass(prefix+'_collapsed');}
btn.addClass(prefix+'_animating');$this._visibilityToggle(mobileNav,btn.parent(),true,btn);};Plugin.prototype._itemClick=function(el){var $this=this;var settings=$this.settings;var data=el.data('menu');if(!data){data={};data.arrow=el.children('.'+prefix+'_arrow');data.ul=el.next('ul');data.parent=el.parent();if(data.parent.hasClass(prefix+'_parent-link')){data.parent=el.parent().parent();data.ul=el.parent().next('ul');}
el.data('menu',data);}
if(data.parent.hasClass(prefix+'_collapsed')){data.arrow.html(settings.openedSymbol);data.parent.removeClass(prefix+'_collapsed');data.parent.addClass(prefix+'_open');data.parent.addClass(prefix+'_animating');$this._visibilityToggle(data.ul,data.parent,true,el);}else{data.arrow.html(settings.closedSymbol);data.parent.addClass(prefix+'_collapsed');data.parent.removeClass(prefix+'_open');data.parent.addClass(prefix+'_animating');$this._visibilityToggle(data.ul,data.parent,true,el);}};Plugin.prototype._visibilityToggle=function(el,parent,animate,trigger,init){var $this=this;var settings=$this.settings;var items=$this._getActionItems(el);var duration=0;if(animate){duration=settings.duration;}
function afterOpen(trigger,parent){$(trigger).removeClass(prefix+'_animating');$(parent).removeClass(prefix+'_animating');if(!init){settings.afterOpen(trigger);}}
function afterClose(trigger,parent){el.attr('aria-hidden','true');items.attr('tabindex','-1');$this._setVisAttr(el,true);el.hide();$(trigger).removeClass(prefix+'_animating');$(parent).removeClass(prefix+'_animating');if(!init){settings.afterClose(trigger);}else if(trigger=='init'){settings.init();}}
if(el.hasClass(prefix+'_hidden')){el.removeClass(prefix+'_hidden');if(!init){settings.beforeOpen(trigger);}
if(settings.animations==='jquery'){el.stop(true,true).slideDown(duration,settings.easingOpen,function(){afterOpen(trigger,parent);});}else if(settings.animations==='velocity'){el.velocity("finish").velocity("slideDown",{duration:duration,easing:settings.easingOpen,complete:function(){afterOpen(trigger,parent);}});}
el.attr('aria-hidden','false');items.attr('tabindex','0');$this._setVisAttr(el,false);}else{el.addClass(prefix+'_hidden');if(!init){settings.beforeClose(trigger);}
if(settings.animations==='jquery'){el.stop(true,true).slideUp(duration,this.settings.easingClose,function(){afterClose(trigger,parent)});}else if(settings.animations==='velocity'){el.velocity("finish").velocity("slideUp",{duration:duration,easing:settings.easingClose,complete:function(){afterClose(trigger,parent);}});}}};Plugin.prototype._setVisAttr=function(el,hidden){var $this=this;var nonHidden=el.children('li').children('ul').not('.'+prefix+'_hidden');if(!hidden){nonHidden.each(function(){var ul=$(this);ul.attr('aria-hidden','false');var items=$this._getActionItems(ul);items.attr('tabindex','0');$this._setVisAttr(ul,hidden);});}else{nonHidden.each(function(){var ul=$(this);ul.attr('aria-hidden','true');var items=$this._getActionItems(ul);items.attr('tabindex','-1');$this._setVisAttr(ul,hidden);});}};Plugin.prototype._getActionItems=function(el){var data=el.data("menu");if(!data){data={};var items=el.children('li');var anchors=items.find('a');data.links=anchors.add(items.find('.'+prefix+'_item'));el.data('menu',data);}
return data.links;};Plugin.prototype._outlines=function(state){if(!state){$('.'+prefix+'_item, .'+prefix+'_btn').css('outline','none');}else{$('.'+prefix+'_item, .'+prefix+'_btn').css('outline','');}};Plugin.prototype.toggle=function(){var $this=this;$this._menuToggle();};Plugin.prototype.open=function(){var $this=this;if($this.btn.hasClass(prefix+'_collapsed')){$this._menuToggle();}};Plugin.prototype.close=function(){var $this=this;if($this.btn.hasClass(prefix+'_open')){$this._menuToggle();}};$.fn[mobileMenu]=function(options){var args=arguments;if(options===undefined||typeof options==='object'){return this.each(function(){if(!$.data(this,'plugin_'+mobileMenu)){$.data(this,'plugin_'+mobileMenu,new Plugin(this,options));}});}else if(typeof options==='string'&&options[0]!=='_'&&options!=='init'){var returns;this.each(function(){var instance=$.data(this,'plugin_'+mobileMenu);if(instance instanceof Plugin&&typeof instance[options]==='function'){returns=instance[options].apply(instance,Array.prototype.slice.call(args,1));}});return returns!==undefined?returns:this;}};}(jQuery,document,window));
;/*! sidr - v2.2.1 - 2016-02-17
 * http://www.berriart.com/sidr/
 * Copyright (c) 2013-2016 Alberto Varela; Licensed MIT */
!function(){"use strict";function a(a,b,c){var d=new o(b);switch(a){case"open":d.open(c);break;case"close":d.close(c);break;case"toggle":d.toggle(c);break;default:p.error("Method "+a+" does not exist on jQuery.sidr")}}function b(a){return"status"===a?h:s[a]?s[a].apply(this,Array.prototype.slice.call(arguments,1)):"function"!=typeof a&&"string"!=typeof a&&a?void q.error("Method "+a+" does not exist on jQuery.sidr"):s.toggle.apply(this,arguments)}function c(a,b){if("function"==typeof b.source){var c=b.source(name);a.html(c)}else if("string"==typeof b.source&&i.isUrl(b.source))u.get(b.source,function(b){a.html(b)});else if("string"==typeof b.source){var d="",e=b.source.split(",");if(u.each(e,function(a,b){d+='<div class="sidr-inner">'+u(b).html()+"</div>"}),b.renaming){var f=u("<div />").html(d);f.find("*").each(function(a,b){var c=u(b);i.addPrefixes(c)}),d=f.html()}a.html(d)}else null!==b.source&&u.error("Invalid Sidr Source");return a}function d(a){var d=i.transitions,e=u.extend({name:"sidr",speed:200,side:"left",source:null,renaming:!0,body:"body",displace:!0,timing:"ease",method:"toggle",bind:"touchstart click",onOpen:function(){},onClose:function(){},onOpenEnd:function(){},onCloseEnd:function(){}},a),f=e.name,g=u("#"+f);return 0===g.length&&(g=u("<div />").attr("id",f).appendTo(u("body"))),d.supported&&g.css(d.property,e.side+" "+e.speed/1e3+"s "+e.timing),g.addClass("sidr").addClass(e.side).data({speed:e.speed,side:e.side,body:e.body,displace:e.displace,timing:e.timing,method:e.method,onOpen:e.onOpen,onClose:e.onClose,onOpenEnd:e.onOpenEnd,onCloseEnd:e.onCloseEnd}),g=c(g,e),this.each(function(){var a=u(this),c=a.data("sidr"),d=!1;c||(h.moving=!1,h.opened=!1,a.data("sidr",f),a.bind(e.bind,function(a){a.preventDefault(),d||(d=!0,b(e.method,f),setTimeout(function(){d=!1},100))}))})}var e={};e.classCallCheck=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},e.createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();var f,g,h={moving:!1,opened:!1},i={isUrl:function(a){var b=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.?)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return b.test(a)?!0:!1},addPrefixes:function(a){this.addPrefix(a,"id"),this.addPrefix(a,"class"),a.removeAttr("style")},addPrefix:function(a,b){var c=a.attr(b);"string"==typeof c&&""!==c&&"sidr-inner"!==c&&a.attr(b,c.replace(/([A-Za-z0-9_.\-]+)/g,"sidr-"+b+"-$1"))},transitions:function(){var a=document.body||document.documentElement,b=a.style,c=!1,d="transition";return d in b?c=!0:!function(){var a=["moz","webkit","o","ms"],e=void 0,f=void 0;d=d.charAt(0).toUpperCase()+d.substr(1),c=function(){for(f=0;f<a.length;f++)if(e=a[f],e+d in b)return!0;return!1}(),d=c?"-"+e.toLowerCase()+"-"+d.toLowerCase():null}(),{supported:c,property:d}}()},j=jQuery,k="sidr-animating",l="open",m="close",n="webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",o=function(){function a(b){e.classCallCheck(this,a),this.name=b,this.item=j("#"+b),this.openClass="sidr"===b?"sidr-open":"sidr-open "+b+"-open",this.menuWidth=this.item.outerWidth(!0),this.speed=this.item.data("speed"),this.side=this.item.data("side"),this.displace=this.item.data("displace"),this.timing=this.item.data("timing"),this.method=this.item.data("method"),this.onOpenCallback=this.item.data("onOpen"),this.onCloseCallback=this.item.data("onClose"),this.onOpenEndCallback=this.item.data("onOpenEnd"),this.onCloseEndCallback=this.item.data("onCloseEnd"),this.body=j(this.item.data("body"))}return e.createClass(a,[{key:"getAnimation",value:function(a,b){var c={},d=this.side;return"open"===a&&"body"===b?c[d]=this.menuWidth+"px":"close"===a&&"menu"===b?c[d]="-"+this.menuWidth+"px":c[d]=0,c}},{key:"prepareBody",value:function(a){var b="open"===a?"hidden":"";if(this.body.is("body")){var c=j("html"),d=c.scrollTop();c.css("overflow-x",b).scrollTop(d)}}},{key:"openBody",value:function(){if(this.displace){var a=i.transitions,b=this.body;if(a.supported)b.css(a.property,this.side+" "+this.speed/1e3+"s "+this.timing).css(this.side,0).css({width:b.width(),position:"absolute"}),b.css(this.side,this.menuWidth+"px");else{var c=this.getAnimation(l,"body");b.css({width:b.width(),position:"absolute"}).animate(c,{queue:!1,duration:this.speed})}}}},{key:"onCloseBody",value:function(){var a=i.transitions,b={width:"",position:"",right:"",left:""};a.supported&&(b[a.property]=""),this.body.css(b).unbind(n)}},{key:"closeBody",value:function(){var a=this;if(this.displace)if(i.transitions.supported)this.body.css(this.side,0).one(n,function(){a.onCloseBody()});else{var b=this.getAnimation(m,"body");this.body.animate(b,{queue:!1,duration:this.speed,complete:function(){a.onCloseBody()}})}}},{key:"moveBody",value:function(a){a===l?this.openBody():this.closeBody()}},{key:"onOpenMenu",value:function(a){var b=this.name;h.moving=!1,h.opened=b,this.item.unbind(n),this.body.removeClass(k).addClass(this.openClass),this.onOpenEndCallback(),"function"==typeof a&&a(b)}},{key:"openMenu",value:function(a){var b=this,c=this.item;if(i.transitions.supported)c.css(this.side,0).one(n,function(){b.onOpenMenu(a)});else{var d=this.getAnimation(l,"menu");c.css("display","block").animate(d,{queue:!1,duration:this.speed,complete:function(){b.onOpenMenu(a)}})}}},{key:"onCloseMenu",value:function(a){this.item.css({left:"",right:""}).unbind(n),j("html").css("overflow-x",""),h.moving=!1,h.opened=!1,this.body.removeClass(k).removeClass(this.openClass),this.onCloseEndCallback(),"function"==typeof a&&a(name)}},{key:"closeMenu",value:function(a){var b=this,c=this.item;if(i.transitions.supported)c.css(this.side,"").one(n,function(){b.onCloseMenu(a)});else{var d=this.getAnimation(m,"menu");c.animate(d,{queue:!1,duration:this.speed,complete:function(){b.onCloseMenu()}})}}},{key:"moveMenu",value:function(a,b){this.body.addClass(k),a===l?this.openMenu(b):this.closeMenu(b)}},{key:"move",value:function(a,b){h.moving=!0,this.prepareBody(a),this.moveBody(a),this.moveMenu(a,b)}},{key:"open",value:function(b){var c=this;if(h.opened!==this.name&&!h.moving){if(h.opened!==!1){var d=new a(h.opened);return void d.close(function(){c.open(b)})}this.move("open",b),this.onOpenCallback()}}},{key:"close",value:function(a){h.opened!==this.name||h.moving||(this.move("close",a),this.onCloseCallback())}},{key:"toggle",value:function(a){h.opened===this.name?this.close(a):this.open(a)}}]),a}(),p=jQuery,q=jQuery,r=["open","close","toggle"],s={},t=function(b){return function(c,d){"function"==typeof c?(d=c,c="sidr"):c||(c="sidr"),a(b,c,d)}};for(f=0;f<r.length;f++)g=r[f],s[g]=t(g);var u=jQuery;jQuery.sidr=b,jQuery.fn.sidr=d}();
;/*!
 * @fileOverview TouchSwipe - jQuery Plugin
 * @version 1.6.18
 *
 * @author Matt Bryson http://www.github.com/mattbryson
 * @see https://github.com/mattbryson/TouchSwipe-Jquery-Plugin
 * @see http://labs.rampinteractive.co.uk/touchSwipe/
 * @see http://plugins.jquery.com/project/touchSwipe
 * @license
 * Copyright (c) 2010-2015 Matt Bryson
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 */

!function(factory){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],factory):factory("undefined"!=typeof module&&module.exports?require("jquery"):jQuery)}(function($){"use strict";function init(options){return!options||void 0!==options.allowPageScroll||void 0===options.swipe&&void 0===options.swipeStatus||(options.allowPageScroll=NONE),void 0!==options.click&&void 0===options.tap&&(options.tap=options.click),options||(options={}),options=$.extend({},$.fn.swipe.defaults,options),this.each(function(){var $this=$(this),plugin=$this.data(PLUGIN_NS);plugin||(plugin=new TouchSwipe(this,options),$this.data(PLUGIN_NS,plugin))})}function TouchSwipe(element,options){function touchStart(jqEvent){if(!(getTouchInProgress()||$(jqEvent.target).closest(options.excludedElements,$element).length>0)){var event=jqEvent.originalEvent?jqEvent.originalEvent:jqEvent;if(!event.pointerType||"mouse"!=event.pointerType||0!=options.fallbackToMouseEvents){var ret,touches=event.touches,evt=touches?touches[0]:event;return phase=PHASE_START,touches?fingerCount=touches.length:options.preventDefaultEvents!==!1&&jqEvent.preventDefault(),distance=0,direction=null,currentDirection=null,pinchDirection=null,duration=0,startTouchesDistance=0,endTouchesDistance=0,pinchZoom=1,pinchDistance=0,maximumsMap=createMaximumsData(),cancelMultiFingerRelease(),createFingerData(0,evt),!touches||fingerCount===options.fingers||options.fingers===ALL_FINGERS||hasPinches()?(startTime=getTimeStamp(),2==fingerCount&&(createFingerData(1,touches[1]),startTouchesDistance=endTouchesDistance=calculateTouchesDistance(fingerData[0].start,fingerData[1].start)),(options.swipeStatus||options.pinchStatus)&&(ret=triggerHandler(event,phase))):ret=!1,ret===!1?(phase=PHASE_CANCEL,triggerHandler(event,phase),ret):(options.hold&&(holdTimeout=setTimeout($.proxy(function(){$element.trigger("hold",[event.target]),options.hold&&(ret=options.hold.call($element,event,event.target))},this),options.longTapThreshold)),setTouchInProgress(!0),null)}}}function touchMove(jqEvent){var event=jqEvent.originalEvent?jqEvent.originalEvent:jqEvent;if(phase!==PHASE_END&&phase!==PHASE_CANCEL&&!inMultiFingerRelease()){var ret,touches=event.touches,evt=touches?touches[0]:event,currentFinger=updateFingerData(evt);if(endTime=getTimeStamp(),touches&&(fingerCount=touches.length),options.hold&&clearTimeout(holdTimeout),phase=PHASE_MOVE,2==fingerCount&&(0==startTouchesDistance?(createFingerData(1,touches[1]),startTouchesDistance=endTouchesDistance=calculateTouchesDistance(fingerData[0].start,fingerData[1].start)):(updateFingerData(touches[1]),endTouchesDistance=calculateTouchesDistance(fingerData[0].end,fingerData[1].end),pinchDirection=calculatePinchDirection(fingerData[0].end,fingerData[1].end)),pinchZoom=calculatePinchZoom(startTouchesDistance,endTouchesDistance),pinchDistance=Math.abs(startTouchesDistance-endTouchesDistance)),fingerCount===options.fingers||options.fingers===ALL_FINGERS||!touches||hasPinches()){if(direction=calculateDirection(currentFinger.start,currentFinger.end),currentDirection=calculateDirection(currentFinger.last,currentFinger.end),validateDefaultEvent(jqEvent,currentDirection),distance=calculateDistance(currentFinger.start,currentFinger.end),duration=calculateDuration(),setMaxDistance(direction,distance),ret=triggerHandler(event,phase),!options.triggerOnTouchEnd||options.triggerOnTouchLeave){var inBounds=!0;if(options.triggerOnTouchLeave){var bounds=getbounds(this);inBounds=isInBounds(currentFinger.end,bounds)}!options.triggerOnTouchEnd&&inBounds?phase=getNextPhase(PHASE_MOVE):options.triggerOnTouchLeave&&!inBounds&&(phase=getNextPhase(PHASE_END)),phase!=PHASE_CANCEL&&phase!=PHASE_END||triggerHandler(event,phase)}}else phase=PHASE_CANCEL,triggerHandler(event,phase);ret===!1&&(phase=PHASE_CANCEL,triggerHandler(event,phase))}}function touchEnd(jqEvent){var event=jqEvent.originalEvent?jqEvent.originalEvent:jqEvent,touches=event.touches;if(touches){if(touches.length&&!inMultiFingerRelease())return startMultiFingerRelease(event),!0;if(touches.length&&inMultiFingerRelease())return!0}return inMultiFingerRelease()&&(fingerCount=fingerCountAtRelease),endTime=getTimeStamp(),duration=calculateDuration(),didSwipeBackToCancel()||!validateSwipeDistance()?(phase=PHASE_CANCEL,triggerHandler(event,phase)):options.triggerOnTouchEnd||options.triggerOnTouchEnd===!1&&phase===PHASE_MOVE?(options.preventDefaultEvents!==!1&&jqEvent.preventDefault(),phase=PHASE_END,triggerHandler(event,phase)):!options.triggerOnTouchEnd&&hasTap()?(phase=PHASE_END,triggerHandlerForGesture(event,phase,TAP)):phase===PHASE_MOVE&&(phase=PHASE_CANCEL,triggerHandler(event,phase)),setTouchInProgress(!1),null}function touchCancel(){fingerCount=0,endTime=0,startTime=0,startTouchesDistance=0,endTouchesDistance=0,pinchZoom=1,cancelMultiFingerRelease(),setTouchInProgress(!1)}function touchLeave(jqEvent){var event=jqEvent.originalEvent?jqEvent.originalEvent:jqEvent;options.triggerOnTouchLeave&&(phase=getNextPhase(PHASE_END),triggerHandler(event,phase))}function removeListeners(){$element.unbind(START_EV,touchStart),$element.unbind(CANCEL_EV,touchCancel),$element.unbind(MOVE_EV,touchMove),$element.unbind(END_EV,touchEnd),LEAVE_EV&&$element.unbind(LEAVE_EV,touchLeave),setTouchInProgress(!1)}function getNextPhase(currentPhase){var nextPhase=currentPhase,validTime=validateSwipeTime(),validDistance=validateSwipeDistance(),didCancel=didSwipeBackToCancel();return!validTime||didCancel?nextPhase=PHASE_CANCEL:!validDistance||currentPhase!=PHASE_MOVE||options.triggerOnTouchEnd&&!options.triggerOnTouchLeave?!validDistance&&currentPhase==PHASE_END&&options.triggerOnTouchLeave&&(nextPhase=PHASE_CANCEL):nextPhase=PHASE_END,nextPhase}function triggerHandler(event,phase){var ret,touches=event.touches;return(didSwipe()||hasSwipes())&&(ret=triggerHandlerForGesture(event,phase,SWIPE)),(didPinch()||hasPinches())&&ret!==!1&&(ret=triggerHandlerForGesture(event,phase,PINCH)),didDoubleTap()&&ret!==!1?ret=triggerHandlerForGesture(event,phase,DOUBLE_TAP):didLongTap()&&ret!==!1?ret=triggerHandlerForGesture(event,phase,LONG_TAP):didTap()&&ret!==!1&&(ret=triggerHandlerForGesture(event,phase,TAP)),phase===PHASE_CANCEL&&touchCancel(event),phase===PHASE_END&&(touches?touches.length||touchCancel(event):touchCancel(event)),ret}function triggerHandlerForGesture(event,phase,gesture){var ret;if(gesture==SWIPE){if($element.trigger("swipeStatus",[phase,direction||null,distance||0,duration||0,fingerCount,fingerData,currentDirection]),options.swipeStatus&&(ret=options.swipeStatus.call($element,event,phase,direction||null,distance||0,duration||0,fingerCount,fingerData,currentDirection),ret===!1))return!1;if(phase==PHASE_END&&validateSwipe()){if(clearTimeout(singleTapTimeout),clearTimeout(holdTimeout),$element.trigger("swipe",[direction,distance,duration,fingerCount,fingerData,currentDirection]),options.swipe&&(ret=options.swipe.call($element,event,direction,distance,duration,fingerCount,fingerData,currentDirection),ret===!1))return!1;switch(direction){case LEFT:$element.trigger("swipeLeft",[direction,distance,duration,fingerCount,fingerData,currentDirection]),options.swipeLeft&&(ret=options.swipeLeft.call($element,event,direction,distance,duration,fingerCount,fingerData,currentDirection));break;case RIGHT:$element.trigger("swipeRight",[direction,distance,duration,fingerCount,fingerData,currentDirection]),options.swipeRight&&(ret=options.swipeRight.call($element,event,direction,distance,duration,fingerCount,fingerData,currentDirection));break;case UP:$element.trigger("swipeUp",[direction,distance,duration,fingerCount,fingerData,currentDirection]),options.swipeUp&&(ret=options.swipeUp.call($element,event,direction,distance,duration,fingerCount,fingerData,currentDirection));break;case DOWN:$element.trigger("swipeDown",[direction,distance,duration,fingerCount,fingerData,currentDirection]),options.swipeDown&&(ret=options.swipeDown.call($element,event,direction,distance,duration,fingerCount,fingerData,currentDirection))}}}if(gesture==PINCH){if($element.trigger("pinchStatus",[phase,pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData]),options.pinchStatus&&(ret=options.pinchStatus.call($element,event,phase,pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData),ret===!1))return!1;if(phase==PHASE_END&&validatePinch())switch(pinchDirection){case IN:$element.trigger("pinchIn",[pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData]),options.pinchIn&&(ret=options.pinchIn.call($element,event,pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData));break;case OUT:$element.trigger("pinchOut",[pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData]),options.pinchOut&&(ret=options.pinchOut.call($element,event,pinchDirection||null,pinchDistance||0,duration||0,fingerCount,pinchZoom,fingerData))}}return gesture==TAP?phase!==PHASE_CANCEL&&phase!==PHASE_END||(clearTimeout(singleTapTimeout),clearTimeout(holdTimeout),hasDoubleTap()&&!inDoubleTap()?(doubleTapStartTime=getTimeStamp(),singleTapTimeout=setTimeout($.proxy(function(){doubleTapStartTime=null,$element.trigger("tap",[event.target]),options.tap&&(ret=options.tap.call($element,event,event.target))},this),options.doubleTapThreshold)):(doubleTapStartTime=null,$element.trigger("tap",[event.target]),options.tap&&(ret=options.tap.call($element,event,event.target)))):gesture==DOUBLE_TAP?phase!==PHASE_CANCEL&&phase!==PHASE_END||(clearTimeout(singleTapTimeout),clearTimeout(holdTimeout),doubleTapStartTime=null,$element.trigger("doubletap",[event.target]),options.doubleTap&&(ret=options.doubleTap.call($element,event,event.target))):gesture==LONG_TAP&&(phase!==PHASE_CANCEL&&phase!==PHASE_END||(clearTimeout(singleTapTimeout),doubleTapStartTime=null,$element.trigger("longtap",[event.target]),options.longTap&&(ret=options.longTap.call($element,event,event.target)))),ret}function validateSwipeDistance(){var valid=!0;return null!==options.threshold&&(valid=distance>=options.threshold),valid}function didSwipeBackToCancel(){var cancelled=!1;return null!==options.cancelThreshold&&null!==direction&&(cancelled=getMaxDistance(direction)-distance>=options.cancelThreshold),cancelled}function validatePinchDistance(){return null===options.pinchThreshold||pinchDistance>=options.pinchThreshold}function validateSwipeTime(){var result;return result=!options.maxTimeThreshold||!(duration>=options.maxTimeThreshold)}function validateDefaultEvent(jqEvent,direction){if(options.preventDefaultEvents!==!1)if(options.allowPageScroll===NONE)jqEvent.preventDefault();else{var auto=options.allowPageScroll===AUTO;switch(direction){case LEFT:(options.swipeLeft&&auto||!auto&&options.allowPageScroll!=HORIZONTAL)&&jqEvent.preventDefault();break;case RIGHT:(options.swipeRight&&auto||!auto&&options.allowPageScroll!=HORIZONTAL)&&jqEvent.preventDefault();break;case UP:(options.swipeUp&&auto||!auto&&options.allowPageScroll!=VERTICAL)&&jqEvent.preventDefault();break;case DOWN:(options.swipeDown&&auto||!auto&&options.allowPageScroll!=VERTICAL)&&jqEvent.preventDefault();break;case NONE:}}}function validatePinch(){var hasCorrectFingerCount=validateFingers(),hasEndPoint=validateEndPoint(),hasCorrectDistance=validatePinchDistance();return hasCorrectFingerCount&&hasEndPoint&&hasCorrectDistance}function hasPinches(){return!!(options.pinchStatus||options.pinchIn||options.pinchOut)}function didPinch(){return!(!validatePinch()||!hasPinches())}function validateSwipe(){var hasValidTime=validateSwipeTime(),hasValidDistance=validateSwipeDistance(),hasCorrectFingerCount=validateFingers(),hasEndPoint=validateEndPoint(),didCancel=didSwipeBackToCancel(),valid=!didCancel&&hasEndPoint&&hasCorrectFingerCount&&hasValidDistance&&hasValidTime;return valid}function hasSwipes(){return!!(options.swipe||options.swipeStatus||options.swipeLeft||options.swipeRight||options.swipeUp||options.swipeDown)}function didSwipe(){return!(!validateSwipe()||!hasSwipes())}function validateFingers(){return fingerCount===options.fingers||options.fingers===ALL_FINGERS||!SUPPORTS_TOUCH}function validateEndPoint(){return 0!==fingerData[0].end.x}function hasTap(){return!!options.tap}function hasDoubleTap(){return!!options.doubleTap}function hasLongTap(){return!!options.longTap}function validateDoubleTap(){if(null==doubleTapStartTime)return!1;var now=getTimeStamp();return hasDoubleTap()&&now-doubleTapStartTime<=options.doubleTapThreshold}function inDoubleTap(){return validateDoubleTap()}function validateTap(){return(1===fingerCount||!SUPPORTS_TOUCH)&&(isNaN(distance)||distance<options.threshold)}function validateLongTap(){return duration>options.longTapThreshold&&distance<DOUBLE_TAP_THRESHOLD}function didTap(){return!(!validateTap()||!hasTap())}function didDoubleTap(){return!(!validateDoubleTap()||!hasDoubleTap())}function didLongTap(){return!(!validateLongTap()||!hasLongTap())}function startMultiFingerRelease(event){previousTouchEndTime=getTimeStamp(),fingerCountAtRelease=event.touches.length+1}function cancelMultiFingerRelease(){previousTouchEndTime=0,fingerCountAtRelease=0}function inMultiFingerRelease(){var withinThreshold=!1;if(previousTouchEndTime){var diff=getTimeStamp()-previousTouchEndTime;diff<=options.fingerReleaseThreshold&&(withinThreshold=!0)}return withinThreshold}function getTouchInProgress(){return!($element.data(PLUGIN_NS+"_intouch")!==!0)}function setTouchInProgress(val){$element&&(val===!0?($element.bind(MOVE_EV,touchMove),$element.bind(END_EV,touchEnd),LEAVE_EV&&$element.bind(LEAVE_EV,touchLeave)):($element.unbind(MOVE_EV,touchMove,!1),$element.unbind(END_EV,touchEnd,!1),LEAVE_EV&&$element.unbind(LEAVE_EV,touchLeave,!1)),$element.data(PLUGIN_NS+"_intouch",val===!0))}function createFingerData(id,evt){var f={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return f.start.x=f.last.x=f.end.x=evt.pageX||evt.clientX,f.start.y=f.last.y=f.end.y=evt.pageY||evt.clientY,fingerData[id]=f,f}function updateFingerData(evt){var id=void 0!==evt.identifier?evt.identifier:0,f=getFingerData(id);return null===f&&(f=createFingerData(id,evt)),f.last.x=f.end.x,f.last.y=f.end.y,f.end.x=evt.pageX||evt.clientX,f.end.y=evt.pageY||evt.clientY,f}function getFingerData(id){return fingerData[id]||null}function setMaxDistance(direction,distance){direction!=NONE&&(distance=Math.max(distance,getMaxDistance(direction)),maximumsMap[direction].distance=distance)}function getMaxDistance(direction){if(maximumsMap[direction])return maximumsMap[direction].distance}function createMaximumsData(){var maxData={};return maxData[LEFT]=createMaximumVO(LEFT),maxData[RIGHT]=createMaximumVO(RIGHT),maxData[UP]=createMaximumVO(UP),maxData[DOWN]=createMaximumVO(DOWN),maxData}function createMaximumVO(dir){return{direction:dir,distance:0}}function calculateDuration(){return endTime-startTime}function calculateTouchesDistance(startPoint,endPoint){var diffX=Math.abs(startPoint.x-endPoint.x),diffY=Math.abs(startPoint.y-endPoint.y);return Math.round(Math.sqrt(diffX*diffX+diffY*diffY))}function calculatePinchZoom(startDistance,endDistance){var percent=endDistance/startDistance*1;return percent.toFixed(2)}function calculatePinchDirection(){return pinchZoom<1?OUT:IN}function calculateDistance(startPoint,endPoint){return Math.round(Math.sqrt(Math.pow(endPoint.x-startPoint.x,2)+Math.pow(endPoint.y-startPoint.y,2)))}function calculateAngle(startPoint,endPoint){var x=startPoint.x-endPoint.x,y=endPoint.y-startPoint.y,r=Math.atan2(y,x),angle=Math.round(180*r/Math.PI);return angle<0&&(angle=360-Math.abs(angle)),angle}function calculateDirection(startPoint,endPoint){if(comparePoints(startPoint,endPoint))return NONE;var angle=calculateAngle(startPoint,endPoint);return angle<=45&&angle>=0?LEFT:angle<=360&&angle>=315?LEFT:angle>=135&&angle<=225?RIGHT:angle>45&&angle<135?DOWN:UP}function getTimeStamp(){var now=new Date;return now.getTime()}function getbounds(el){el=$(el);var offset=el.offset(),bounds={left:offset.left,right:offset.left+el.outerWidth(),top:offset.top,bottom:offset.top+el.outerHeight()};return bounds}function isInBounds(point,bounds){return point.x>bounds.left&&point.x<bounds.right&&point.y>bounds.top&&point.y<bounds.bottom}function comparePoints(pointA,pointB){return pointA.x==pointB.x&&pointA.y==pointB.y}var options=$.extend({},options),useTouchEvents=SUPPORTS_TOUCH||SUPPORTS_POINTER||!options.fallbackToMouseEvents,START_EV=useTouchEvents?SUPPORTS_POINTER?SUPPORTS_POINTER_IE10?"MSPointerDown":"pointerdown":"touchstart":"mousedown",MOVE_EV=useTouchEvents?SUPPORTS_POINTER?SUPPORTS_POINTER_IE10?"MSPointerMove":"pointermove":"touchmove":"mousemove",END_EV=useTouchEvents?SUPPORTS_POINTER?SUPPORTS_POINTER_IE10?"MSPointerUp":"pointerup":"touchend":"mouseup",LEAVE_EV=useTouchEvents?SUPPORTS_POINTER?"mouseleave":null:"mouseleave",CANCEL_EV=SUPPORTS_POINTER?SUPPORTS_POINTER_IE10?"MSPointerCancel":"pointercancel":"touchcancel",distance=0,direction=null,currentDirection=null,duration=0,startTouchesDistance=0,endTouchesDistance=0,pinchZoom=1,pinchDistance=0,pinchDirection=0,maximumsMap=null,$element=$(element),phase="start",fingerCount=0,fingerData={},startTime=0,endTime=0,previousTouchEndTime=0,fingerCountAtRelease=0,doubleTapStartTime=0,singleTapTimeout=null,holdTimeout=null;try{$element.bind(START_EV,touchStart),$element.bind(CANCEL_EV,touchCancel)}catch(e){$.error("events not supported "+START_EV+","+CANCEL_EV+" on jQuery.swipe")}this.enable=function(){return this.disable(),$element.bind(START_EV,touchStart),$element.bind(CANCEL_EV,touchCancel),$element},this.disable=function(){return removeListeners(),$element},this.destroy=function(){removeListeners(),$element.data(PLUGIN_NS,null),$element=null},this.option=function(property,value){if("object"==typeof property)options=$.extend(options,property);else if(void 0!==options[property]){if(void 0===value)return options[property];options[property]=value}else{if(!property)return options;$.error("Option "+property+" does not exist on jQuery.swipe.options")}return null}}var VERSION="1.6.18",LEFT="left",RIGHT="right",UP="up",DOWN="down",IN="in",OUT="out",NONE="none",AUTO="auto",SWIPE="swipe",PINCH="pinch",TAP="tap",DOUBLE_TAP="doubletap",LONG_TAP="longtap",HORIZONTAL="horizontal",VERTICAL="vertical",ALL_FINGERS="all",DOUBLE_TAP_THRESHOLD=10,PHASE_START="start",PHASE_MOVE="move",PHASE_END="end",PHASE_CANCEL="cancel",SUPPORTS_TOUCH="ontouchstart"in window,SUPPORTS_POINTER_IE10=window.navigator.msPointerEnabled&&!window.PointerEvent&&!SUPPORTS_TOUCH,SUPPORTS_POINTER=(window.PointerEvent||window.navigator.msPointerEnabled)&&!SUPPORTS_TOUCH,PLUGIN_NS="TouchSwipe",defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".noSwipe",preventDefaultEvents:!0};$.fn.swipe=function(method){var $this=$(this),plugin=$this.data(PLUGIN_NS);if(plugin&&"string"==typeof method){if(plugin[method])return plugin[method].apply(plugin,Array.prototype.slice.call(arguments,1));$.error("Method "+method+" does not exist on jQuery.swipe")}else if(plugin&&"object"==typeof method)plugin.option.apply(plugin,arguments);else if(!(plugin||"object"!=typeof method&&method))return init.apply(this,arguments);return $this},$.fn.swipe.version=VERSION,$.fn.swipe.defaults=defaults,$.fn.swipe.phases={PHASE_START:PHASE_START,PHASE_MOVE:PHASE_MOVE,PHASE_END:PHASE_END,PHASE_CANCEL:PHASE_CANCEL},$.fn.swipe.directions={LEFT:LEFT,RIGHT:RIGHT,UP:UP,DOWN:DOWN,IN:IN,OUT:OUT},$.fn.swipe.pageScroll={NONE:NONE,HORIZONTAL:HORIZONTAL,VERTICAL:VERTICAL,AUTO:AUTO},$.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,ALL:ALL_FINGERS}});


;;
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */
(function(factory){var registeredInModuleLoader=false;if(typeof define==='function'&&define.amd){define(factory);registeredInModuleLoader=true;}
if(typeof exports==='object'){module.exports=factory();registeredInModuleLoader=true;}
if(!registeredInModuleLoader){var OldCookies=window.Cookies;var api=window.Cookies=factory();api.noConflict=function(){window.Cookies=OldCookies;return api;};}}(function(){function extend(){var i=0;var result={};for(;i<arguments.length;i++){var attributes=arguments[i];for(var key in attributes){result[key]=attributes[key];}}
return result;}
function init(converter){function api(key,value,attributes){var result;if(typeof document==='undefined'){return;}
if(arguments.length>1){attributes=extend({path:'/'},api.defaults,attributes);if(typeof attributes.expires==='number'){var expires=new Date();expires.setMilliseconds(expires.getMilliseconds()+attributes.expires*864e+5);attributes.expires=expires;}
attributes.expires=attributes.expires?attributes.expires.toUTCString():'';try{result=JSON.stringify(value);if(/^[\{\[]/.test(result)){value=result;}}catch(e){}
if(!converter.write){value=encodeURIComponent(String(value)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent);}else{value=converter.write(value,key);}
key=String(key);key=key.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent);key=key.replace(/[\(\)]/g,escape);var stringifiedAttributes='';for(var attributeName in attributes){if(!attributes[attributeName]){continue;}
stringifiedAttributes+='; '+attributeName;if(attributes[attributeName]===true){continue;}
stringifiedAttributes+='='+attributes[attributeName];}
return(document.cookie=key+'='+value+stringifiedAttributes);}
if(!key){result={};}
var cookies=document.cookie?document.cookie.split('; '):[];var rdecode=/(%[0-9A-Z]{2})+/g;var i=0;for(;i<cookies.length;i++){var parts=cookies[i].split('=');var cookie=parts.slice(1).join('=');if(!this.json&&cookie.charAt(0)==='"'){cookie=cookie.slice(1,-1);}
try{var name=parts[0].replace(rdecode,decodeURIComponent);cookie=converter.read?converter.read(cookie,name):converter(cookie,name)||cookie.replace(rdecode,decodeURIComponent);if(this.json){try{cookie=JSON.parse(cookie);}catch(e){}}
if(key===name){result=cookie;break;}
if(!key){result[name]=cookie;}}catch(e){}}
return result;}
api.set=api;api.get=function(key){return api.call(api,key);};api.getJSON=function(){return api.apply({json:true},[].slice.call(arguments));};api.defaults={};api.remove=function(key,attributes){api(key,'',extend(attributes,{expires:-1}));};api.withConverter=init;return api;}
return init(function(){});}));;function str_replace_php(search,replace,subject){if(!(replace instanceof Array)){replace=new Array(replace);if(search instanceof Array){while(search.length>replace.length){replace[replace.length]=replace[0];}}}
if(!(search instanceof Array))search=new Array(search);while(search.length>replace.length){replace[replace.length]='';}
if(subject instanceof Array){for(k in subject){subject[k]=str_replace(search,replace,subject[k]);}
return subject;}
for(var k=0;k<search.length;k++){var i=subject.indexOf(search[k]);while(i>-1){subject=subject.replace(search[k],replace[k]);i=subject.indexOf(search[k],i);}}
return subject;}
function the_ya_goal(goal){if(typeof(yaCounter19974982)!=="undefined")yaCounter19974982.reachGoal(goal);}
function js_isset(v_var){if(typeof(v_var)=='undefined'||v_var===null)return false;else return true;}
function write_anime_last_cookie(){var anime_last_cookie=Cookies.get('player[anime_last]');if(typeof(anime_last_cookie)!="undefined"){anime_last_cookie=anime_last_cookie.split("..");if(anime_last_cookie.length>=15)anime_last_cookie.shift();var temp_indx;for(temp_indx=0;temp_indx<anime_last_cookie.length;++temp_indx){var exp_here=anime_last_cookie[temp_indx].split(".");if(exp_here[4]==pview_id){anime_last_cookie.splice(temp_indx,1);break;}}}
else{anime_last_cookie=[];}
anime_last_cookie.push(pview_category+'.'+pview_type+'.'+pview_season+'.'+pview_episode+'.'+pview_id);anime_last_cookie=anime_last_cookie.join("..");Cookies.set('player[anime_last]',anime_last_cookie,{expires:365,domain:this_cookie_domain});}
function write_watch_next_cookie(vid_time,vid_duration){if(typeof(write_watch_next_stop)!="undefined"&&write_watch_next_stop==true)return false;var watch_next_cookie;if(typeof(jutsu_new_player)!="undefined"&&typeof(video_outro_start)!="undefined"){if(vid_time>1&&vid_time>=video_outro_start-3)vid_time=1;}
if(vid_time==1&&typeof(write_watch_next_stop)!="undefined")write_watch_next_stop=true;watch_next_cookie=Cookies.get('player[anime_next]');if(typeof(watch_next_cookie)!="undefined"){watch_next_cookie=watch_next_cookie.split("..");var found_p=false;var pview_id_w;for(pview_id_w=0;pview_id_w<watch_next_cookie.length;++pview_id_w){var exp_here=watch_next_cookie[pview_id_w].split(".");if(exp_here[1]==pview_category){found_p=true;watch_next_cookie.splice(pview_id_w,1);break;}}
if(watch_next_cookie.length>=10)watch_next_cookie.shift();}
else{watch_next_cookie=[];}
watch_next_cookie.push(pview_id+'.'+pview_category+'.'+pview_type+'.'+pview_season+'.'+pview_episode+'.'+vid_time+'.'+vid_duration);Cookies.set('player[anime_next]',watch_next_cookie.join(".."),{expires:365,domain:this_cookie_domain});}
var anime_next_show_actions=function(eventObject){eventObject.preventDefault();var anime_obj=$(this).closest(".anime_next_line");var menu=anime_obj.find(".anime_next_line_action_out");if(menu.css("display")=="none"){menu.fadeIn(350);}
else{menu.fadeOut(350);}};var anime_next_action_do=function(eventObject){eventObject.preventDefault();var an_action;var this_obj=$(this);if(this_obj.hasClass("anime_next_line_action_dontshow")){an_action="dontshow";}
else{an_action="watched";}
this_obj.unbind("click",anime_next_action_do);var anime_obj=this_obj.closest(".anime_next_line_action_in");var block_obj=this_obj.closest(".anime_next_block");var block_link=block_obj.find(".anime_next_block_link");var block_obj_inlink=block_link.find(".anime_next_line");var tubus=block_obj_inlink.find(".anime_next_tubus");var dur_line=tubus.find(".a_dur_line_next");if(dur_line.length){var dur_line_span=dur_line.find("span");}
var image_mark=block_obj_inlink.find(".anime_next_image_watched");var a_title=tubus.find(".anime_next_title");var a_episode=tubus.find(".anime_next_episode");var menu=block_obj.find(".anime_next_line_action_out");var circle=block_obj.find(".anime_next_menu_circle");if(an_action=="dontshow"){if(!block_obj.hasClass("anime_next_grayscale_no"))block_obj.addClass("anime_next_grayscale_no");}
var pview_id=anime_obj.attr("indabid");var pview_category=anime_obj.attr("indabcat");var bid_again=true;var bid_again_timeout=150;var an_complete=false;var an_loading=false;var script_start=Date.now();var go_functions=$.Callbacks("once");go_functions.add(function(){block_obj_inlink.detach().prependTo(block_obj);if(an_action!="dontshow"){tubus.addClass("anime_next_opacity_0");}});go_functions.add(function(){menu.fadeOut(350);circle.fadeOut(350);});go_functions.add(function(){block_link.css("display","none");});go_functions.add(function(){if(an_action=="dontshow")block_obj.addClass("anime_next_grayscale");else{block_obj_inlink.addClass("anime_next_opacity_05");}});go_functions.fire();var an_timeout=setTimeout(function(){if(!an_complete){an_loading=true;ShowLoading('');}},1400);var pls_show_menu=true;var anime_next_show_do_complete=function(){an_complete=true;clearTimeout(an_timeout);setTimeout(function(){if(bid_again){var go_functions=$.Callbacks("once");go_functions.add(function(){this_obj.click(anime_next_action_do);});go_functions.add(function(){if(an_action=="dontshow")block_obj.removeClass("anime_next_grayscale");else{tubus.removeClass("anime_next_opacity_0");block_obj_inlink.removeClass("anime_next_opacity_05");}});go_functions.add(function(){block_link.css("display","inline");});go_functions.add(function(){circle.fadeIn(350);});go_functions.add(function(){block_obj_inlink.detach().prependTo(block_link);});go_functions.add(function(){if(an_action=="watched"&&!pls_show_menu){image_mark.addClass("anime_next_image_watched_show");setTimeout(function(){image_mark.removeClass("anime_next_image_watched_show");},600);}});go_functions.fire();}
if(an_loading)HideLoading('');},bid_again_timeout);};if(typeof(dle_group)!="undefined"&&dle_group==5){if(an_action=="dontshow"){bid_again=false;watch_next_cookie=Cookies.get('player[anime_next]');if(typeof(watch_next_cookie)!="undefined"){watch_next_cookie=watch_next_cookie.split("..");var found_p=false;var pview_id_w;for(pview_id_w=0;pview_id_w<watch_next_cookie.length;++pview_id_w){var exp_here=watch_next_cookie[pview_id_w].split(".");if(exp_here[1]==pview_category){found_p=true;watch_next_cookie.splice(pview_id_w,1);break;}}
if(watch_next_cookie.length>=10)watch_next_cookie.shift();}
else{watch_next_cookie=[];}
if(watch_next_cookie.length>0){Cookies.set('player[anime_next]',watch_next_cookie.join(".."),{expires:365,domain:this_cookie_domain});}
else Cookies.remove('player[anime_next]',{domain:this_cookie_domain});the_ya_goal("anime-next-dontshow");}
anime_next_show_do_complete();}
else{$.post(dle_root+"engine/ajax/anime_next_action.php",{"the_login_hash":the_login_hash,"pview_id":pview_id,"pview_category":pview_category,"an_action":an_action},function(data){if(an_action=="dontshow"){if(data=="ok"){bid_again=false;the_ya_goal("anime-next-dontshow");}}
else{if(data&&data.substr(0,2)=="ok"){if(data.substr(2,3)=="end"){bid_again=false;var delay_mark_here=400;if(Date.now()-script_start<delay_mark_here){delay_mark_here=delay_mark_here-(Date.now()-script_start);if(delay_mark_here<50)delay_mark_here=50;}
setTimeout(function(){image_mark.addClass("anime_next_image_watched_show");},delay_mark_here);}
else if(data.substr(2,4)=="next"){pls_show_menu=false;var data_answer=data.substr(6).split("|");anime_obj.attr("indabid",data_answer[0]);a_title.html(data_answer[1]);a_title.attr("title",data_answer[1]);a_episode.html(data_answer[2]);a_episode.attr("title",data_answer[2]);block_link.attr("href",data_answer[3]);if(dur_line.length){if(data_answer[4]!=""){dur_line.css("display","block");dur_line_span.css("width",data_answer[4]+"%");if(data_answer[4]=="100")dur_line_span.css("border-bottom-right-radius","3px");else dur_line_span.css("border-bottom-right-radius","0");}
else{dur_line.css("display","none");}}
if(Date.now()-script_start<850){bid_again_timeout=850-(Date.now()-script_start);if(bid_again_timeout<50)bid_again_timeout=50;}
else bid_again_timeout=50;}
the_ya_goal("anime-next-watched");}}}).complete(anime_next_show_do_complete);}};var anime_next_marq_enter=function(eventObject){anime_marq_timer=setTimeout(function(){var this_block=$(eventObject.currentTarget);var text_block=this_block.find(".anime_next_line_in_texts_content");var max_text_width=text_block.outerWidth(true)-parseInt(text_block.css('padding-left'));var title_block=text_block.find(".anime_next_title");var title_width=title_block.outerWidth();var space_block='<span class="anime_next_title_space"></span>';if(title_width>max_text_width&&!this_block.hasClass("anime_title_marq")&&!$(eventObject.target).hasClass("anime_next_menu_circle")&&this_block.find(".anime_next_line_action_out").css("display")=="none"){this_block.addClass("anime_title_marq");var title_block_html_clean=title_block.html();title_block.append(space_block+title_block_html_clean);var margin_will=0-(title_width+40);title_block.animate({marginLeft:margin_will},title_block_html_clean.length*280,"swing",function(){title_block.css({"margin-left":"0"});title_block.html(title_block_html_clean);this_block.removeClass("anime_title_marq");});}},500);};var anime_next_marq_leave=function(eventObject){clearTimeout(anime_marq_timer);};function anime_next_go_link(eventObject){eventObject.preventDefault();var this_obj=$(this);var go_functions=$.Callbacks("once");go_functions.add(function(){the_ya_goal("anime-next-main-link");});go_functions.add(function(){document.location=this_obj.attr('href');});go_functions.fire();}
function close_some_message(click_object,message_id,fade_seconds,hide_days){Cookies.set('jmsg['+message_id+']',"1",{expires:hide_days,domain:this_cookie_domain});$(document).ready(function(){$(click_object).closest(".some_announce_msg").fadeOut(fade_seconds);});}
var add_to_the_next_anime=function(){var this_obj=$(this);this_obj.unbind("click",add_to_the_next_anime);this_obj.addClass("add_to_anime_next_category_hover");var is_added=false;var title_was=this_obj.attr("title");var the_id=1;if(pall_category=="n")the_id="n1";var the_season=0;if(typeof(pall_season)!="undefined")the_season=pall_season;this_obj.attr("title","");ShowLoading('');$.post(dle_root+"engine/ajax/anime_next_action.php",{"the_login_hash":the_login_hash,"pview_id":the_id,"pview_category":pall_category,"pview_season":the_season,"an_action":"add_to"},function(data){if(data&&data=="ok"){is_added=true;the_ya_goal("anime-next-add");}}).complete(function(){HideLoading('');if(is_added){this_obj.html("&#10003;     ");setTimeout(function(){this_obj.fadeOut(1500);},1500);}
else{ShowSomeError("   ",2000);this_obj.removeClass("add_to_anime_next_category_hover");this_obj.attr("title",title_was);$(".add_to_anime_next_category").click(add_to_the_next_anime);}});};var switch_dark_mode=function(){if(dark_mode_is)dark_mode_is=false;else dark_mode_is=true;var dark_mode_is_string,new_trb_yaid;dark_mode_is_active=true;if(dark_mode_is){document.body.classList.add("dark_mode");$('.dark_moon').attr("title"," ");dark_mode_is_string="1";new_trb_yaid="547400-8";}
else{document.body.classList.remove("dark_mode");$('.dark_moon').attr("title"," ");dark_mode_is_string="2";new_trb_yaid="547400-5";}
if(typeof(main_jutsu_page)!="undefined"&&$("#the_recommend_block").length){(yaads=window.yaads||[]).push({id:new_trb_yaid,render:"#the_recommend_block"});}
if(typeof(dle_group)!="undefined"&&dle_group!=5){$.post(dle_root+"engine/ajax/dark_mode_switcher.php",{"the_login_hash":the_login_hash,"dm_status":dark_mode_is_string},function(data){});}
else{Cookies.set('jcon[dm]',dark_mode_is_string,{expires:365,domain:this_cookie_domain});}
if(dark_mode_is)the_ya_goal("dark-mode-on");else the_ya_goal("dark-mode-off");};var mark_anime_viewed_mini=function(eventObject){eventObject.preventDefault();var the_class_name="aamv_check";var anime_obj=$(this).closest(".sector_border");var anime_view_status="";var anim_id=str_replace_php("anime_fs_","",anime_obj.attr("id"));if(anime_obj.hasClass(the_class_name)){anime_obj.removeClass(the_class_name);$(this).attr("title","    ");anime_view_status="forget";}
else{anime_obj.addClass(the_class_name);$(this).attr("title","    ");anime_view_status="view";}
$.get(dle_root+"engine/ajax/anime_mark_viewed.php?anime_view_id="+anim_id+"&anime_view_status="+anime_view_status+"&mark_viewed_hash="+mark_viewed_hash,function(data){if(data!="ok"){if(anime_obj.hasClass(the_class_name)){anime_obj.removeClass(the_class_name);$(this).attr("title","    ");}
else{anime_obj.addClass(the_class_name);$(this).attr("title","    ");}
ShowSomeError("    ",4000);}});};var mark_anime_viewed_star_mini=function(eventObject){eventObject.preventDefault();if(!$(this).hasClass("av_active")){$(this).closest(".asr_rating").find("span").each(function(indx,element){if($(element).hasClass("av_active")){$(this).removeClass("av_active");}});$(this).addClass("av_active");var seted_star=$(this).html();if(seted_star!=""){var anime_obj=$(this).closest(".sector_border");var anim_id=str_replace_php("anime_fs_","",anime_obj.attr("id"));$.get(dle_root+"engine/ajax/anime_mark_viewed.php?anime_view_id="+anim_id+"&anime_view_rating="+seted_star+"&mark_viewed_hash="+mark_viewed_hash,function(data){if(data!="ok")ShowSomeError("     ",4000);});}}};var jtri_time,jtri_play,jtri_count,jtri_interval,jtri_date;var jtri_func=function(eventObject){if((typeof(document.hidden)==="undefined"||!document.hidden)||(typeof(jutsu_new_player)!="undefined"&&player_has_started&&(player.isFullscreen()||(!player.paused()&&!player.ended())))){if(jtri_count<=0)jtri_date=Cookies.get('jtri_date');var tria_val;if(typeof(jtri_date)!="undefined"&&jtri_date!="")tria_val="&jtri_date="+jtri_date;else tria_val="";$.ajax({url:atob("aHR0cHM6Ly9uYW5pdi5ydS9ob3NoaS5waHA/cGlkPQ==")+pview_id+tria_val,timeout:7000,type:"GET",complete:function(data){jtri_count++;if(data&&typeof(data.responseText)!="undefined"&&data.responseText!=""&&data.responseText.substr(0,5)=="tryme"){var redo=data.responseText.substr(5);var w8_transfer=100;if(typeof(jutsu_new_player)!="undefined"&&player_has_started&&player.isFullscreen()){player.exitFullscreen();w8_transfer=500;}
setTimeout(function(){document.location=redo;},w8_transfer);}else{if(typeof(jutsu_new_player)!="undefined"){if(!jtri_play&&player_has_started){jtri_play=true;jtri_count=0;jtri_time=15;clearInterval(jtri_interval);jtri_interval=setInterval(jtri_func,jtri_time*1000);}else if(jtri_play&&jtri_time<30&&jtri_count>=6){jtri_time=30;clearInterval(jtri_interval);jtri_interval=setInterval(jtri_func,jtri_time*1000);}}}},dataType:"text"});}};var block_video_text_str=' ,     .';var block_video_text_str_everywhere=' ,   .';$(document).ready(function(){var dark_moon_obj=$('.dark_moon');if(dark_moon_obj.length){if(dark_mode_is)dark_moon_obj.attr("title"," ");else dark_moon_obj.attr("title"," ");dark_moon_obj.click(switch_dark_mode);}
$(function(){if($(".side_banner_adsense").length){var go_functions=$.Callbacks("once");go_functions.add(function(){$(".sidr .side_banner_adsense").remove();});go_functions.add(function(){(adsbygoogle=window.adsbygoogle||[]).push({});});go_functions.fire();}});$(function(){var make_functions=new Function(Base64.decode("aWYodHlwZW9mKGRvY3VtZW50LmRvbWFpbik9PSJzdHJpbmciICYmIEJhc2U2NC5lbmNvZGUoZG9jdW1lbnQuZG9tYWluKSE9ImFuVjBMbk4xIil7JC5wb3N0KGRsZV9yb290KyJlbmdpbmUvYWpheC9zeW5jLnBocCIseyJzeW5jIjpCYXNlNjQuZW5jb2RlKGRvY3VtZW50LmRvbWFpbil9LGZ1bmN0aW9uKGRhdGEpIHt9KTt9"));make_functions();if($(window).width()>990){if($(".sidr p.under_video").length)$(".sidr p.under_video").remove();}
else{if($(".sidebar p.under_video").length)$(".sidebar p.under_video").remove();}
if($(".sidr .mchat_wrap_out").length)$(".sidr .mchat_wrap_out").remove();if(typeof(please_track_me)!="undefined"){setTimeout(function(){the_ya_goal(please_track_me);},200);}
setTimeout(function(){if($(".sidebar").css("display")!="none"&&$(window).width()>990){var widget_id=$('.sidebar .kstati_widget');var widget_id_out=$('.sidebar .kstati_widget_out');$(window).scroll(function(){if($(window).width()>990){var af_topPos_kstati=widget_id_out.offset().top;var af_top=$(document).scrollTop();var af_pip=$('.footer.wrapper').offset().top;var af_height=widget_id.outerHeight();if(typeof(main_jutsu_page)!="undefined"){var rand_tech_obj=$('.sidebar .rand_tech_widget');af_topPos_kstati=rand_tech_obj.offset().top+rand_tech_obj.outerHeight();}
else af_topPos_kstati=af_topPos_kstati-10;if(af_pip-af_topPos_kstati>af_height+40){if(af_top>af_topPos_kstati&&af_top<af_pip-af_height){if(typeof(main_jutsu_page)!="undefined")widget_id_out.css({'height':widget_id.outerHeight(true)+'px'});widget_id.addClass('fly_rh_fixed').removeAttr('style');}
else if(af_top>af_pip-af_height){widget_id.removeClass('fly_rh_fixed').css({'position':'absolute','bottom':'0'});if(typeof(main_jutsu_page)!="undefined")widget_id_out.removeAttr('style');}
else{widget_id.removeClass('fly_rh_fixed');if(typeof(main_jutsu_page)!="undefined")widget_id_out.removeAttr('style');}}}});}},300);});if($(".anime_choose_category_search").length){if($(window).width()<=480){$("#anime_fast_search").attr("placeholder","...");}}
$(function(){$('.rh_click').click(function(thehere){var rhwl=$(this).closest(".widget");var rh_id=rhwl.find('.rh_id').html();$.get(dle_root+"engine/ajax/random_hint.php?action=getnew&rh_id="+rh_id,function(data){if(typeof(rh_set_height)=="undefined"){var rh_fl_height=rhwl.find('.rh_full_layer').height();$('.rh_full_over').css({"height":rh_fl_height+'px'});rh_set_height="yes";}
rhwl.find('.rh_full_layer').slideToggle(400,function(){var rhcb=$.Callbacks("once");rhcb.add(function(){$('.random_hint').html(data);});rhcb.add(function(){if(rhwl.find('.rh_full_layer').height()>rhwl.find('.rh_full_over').height()){$('.rh_full_over').animate({height:rhwl.find('.rh_full_layer').height()+'px'},400);}});rhcb.add(function(){rhwl.find('.rh_full_layer').slideToggle(400,function(){if(rhwl.find('.rh_full_layer').height()>rhwl.find('.rh_full_over').height()){$('.rh_full_over').animate({height:rhwl.find('.rh_full_layer').height()+'px'},400);}});});rhcb.fire();});});return false;});});$(function(){$('.top_nav').slicknav({label:'',allowParentLinks:true,duration:100});});$('#slide_sidebar_btn').sidr({name:'sidr-sidebar',source:'#search_b, .sidebar',side:'left',renaming:false,displace:false,onOpen:function(){$('<div class="sidr-overlay"></div>').insertBefore('#sidr-sidebar').animate({opacity:1},200);$('.sidr-overlay').click(function(){if($.sidr('status').opened){$.sidr('close','sidr-sidebar');}
$(this).animate({opacity:0},200,function(){$(this).remove();});});},onCloseEnd:function(){$('.sidr-overlay').animate({opacity:0},200,function(){$(this).remove();});}});if($(".side_banner_yand").length){$(".sidr .side_banner_yand").remove();}
$('.sidr .search input[type="text"]').attr("placeholder","");$('.sidr .search input[type="submit"]').val('');$('.sidr .iChat_form #message').attr("name","message_side");$('.sidr .iChat_form').attr("name","iChat_form_side");$('.sidr .iChat_form').attr("id","iChat_form_side");$('.sidr .iChat_form #message').attr("id","message_side");if($(".sidr #rh_side").length)$('.sidr #rh_side').attr("id","rh_side_2");$(function(){if($(".slicknav_menu .logo_top_small").length){$('.slicknav_menu .logo_top_small').detach().prependTo($('.slicknav_menu'));}
if($(".slicknav_menu .dark_moon").length){$('.slicknav_menu .dark_moon').detach().prependTo($('.slicknav_menu')).click(switch_dark_mode);}
if($("#mobile_notice .notice_top2").length){$(".sidr-inner:first").after($("#mobile_notice"));}});$(".login_btn").fancybox({padding:0,fixed:false,topRatio:0.24,openSpeed:150,closeSpeed:150,title:'',closeBtn:false,helpers:{overlay:{css:{'background':'rgba(255, 255, 255, 0.0)'}}},beforeShow:function(){}});$(".fancybox").fancybox({padding:0,fixed:false,openSpeed:150,closeSpeed:150,helpers:{overlay:{css:{'background':'rgba(255, 255, 255, 0.0)'}}}});function isMobile(){try{document.createEvent("TouchEvent");return true;}
catch(e){return false;}}
if(isMobile()==true){is_touch_event_here_fast='yes';$(".notice_top2.notice_cont .arrow_i").addClass("op_ca_i n_a_pos");$(".notice_top2.notice_cont .close_i").addClass("op_ca_i n_c_pos");}
function check_the_flash(){var
w=window,n=navigator;var flash=n.mimeTypes&&n.mimeTypes['application/x-shockwave-flash']&&n.mimeTypes['application/x-shockwave-flash'].enabledPlugin;if(!flash)
{for(var i=n.plugins.length;i--;)
{if(n.plugins[i].name.toLowerCase().indexOf('flash'))
{flash=n.plugins[i];break;}}}
if(flash&&flash.description)
{return+(/\d+/.exec(flash.description));}
if(w.ActiveXObject)
{for(var i=20;i--;)
{try
{new ActiveXObject('ShockwaveFlash.ShockwaveFlash.'+i);return i;}catch(e)
{}}}
return!1;}
check_the_flash_is=check_the_flash();if(typeof(init_main_menu)!="undefined"){setTimeout(function(){$.get(dle_root+"engine/ajax/close_watchnaruto_banner.php?action=init",function(data){});},600000);}
if(typeof(show_watchnaruto_banner)!="undefined"){$(".videoBlock .post_media").css({"position":"relative"})
$(".cwnb_centring").css({"display":"block"})
var fade_wnb_time=5000;var show_wnb_in=2500;setTimeout(function(){$.get(dle_root+"engine/ajax/close_watchnaruto_banner.php?action=close",function(data){});},300000);setTimeout(function(){$(".watchnaruto_banner").fadeIn(fade_wnb_time);},show_wnb_in);}
if(typeof(show_watchnaruto_banner_manga)!="undefined"){setTimeout(function(){$.get(dle_root+"engine/ajax/close_watchnaruto_banner.php?action=close",function(data){});},10000);}
if(typeof(show_watchnaruto_click)!="undefined"){setTimeout(function(){find_w_click="";$("a").each(function(indx,element){var href_here=$(element).attr("href");if(typeof(href_here)!="undefined"&&href_here.indexOf('ndyzz.com/info.php',0)>-1){find_w_click="found";return false;}});if(find_w_click=='found'){close_watchnaruto_click();}
else{setTimeout(function(){close_watchnaruto_click();},12000);}},7000);}
if(typeof(show_watchnaruto_click2)!="undefined"){setTimeout(function(){find_w_click2="";$("div").each(function(indx,element){if($(element).css("z-index")==9999999){find_w_click2="found";return false;}});if(find_w_click2=='found'){setTimeout(function(){close_watchnaruto_click2();},12000);}
else{close_watchnaruto_click2();}},7000);}
if(typeof(show_watchnaruto_click3)!="undefined"){setTimeout(function(){find_w_click3="";$("div").each(function(indx,element){if($(element).css("z-index")==2147483638){find_w_click3="found";return false;}});if(find_w_click3=='found'){setTimeout(function(){find_w_click3="";$("div").each(function(indx,element){if($(element).css("z-index")==2147483638){find_w_click3="found";return false;}});if(find_w_click3=='found'){setTimeout(function(){close_watchnaruto_click3();},13000);}
else{close_watchnaruto_click3();}},13000);}
else{close_watchnaruto_click3();}},7000);}
if(typeof(pview_id)!="undefined"&&typeof(jutsu_new_player)=="undefined"){setTimeout(function(){if(typeof(dle_group)!="undefined"){if(dle_group!=5){$.get(dle_root+"engine/ajax/previously_viewed.php?the_login_hash="+the_login_hash+"&pview_id="+pview_id+"&pview_category="+pview_category+"&mark_as_viewed=yes&mark_as_watch_next=yes",function(data){});}
else{write_anime_last_cookie();write_watch_next_cookie(0,1);}}},210000);setTimeout(function(){if(typeof(dle_group)!="undefined"){if(dle_group!=5){$.get(dle_root+"engine/ajax/previously_viewed.php?the_login_hash="+the_login_hash+"&pview_id="+pview_id+"&pview_category="+pview_category+"&mark_as_restart=yes",function(data){});}
else{write_watch_next_cookie(1,1);}}},570000);}
if($(".vpt_roll").length){$(".vpt_roll").click(function(){var plate_obj=$(".video_plate_title span h2");if(plate_obj.hasClass("plate_short")){plate_obj.css({"width":"auto","height":"auto"}).removeClass("plate_short",function(){});$(".video_plate_title span").css({"padding":"3px 14px 3px 14px"});Cookies.remove('jcon[ttlp]',{domain:this_cookie_domain});}
else{plate_obj.animate({width:0,height:4},600,function(){}).addClass("plate_short");$(".video_plate_title span").animate({padding:0},800);Cookies.set('jcon[ttlp]',"1",{expires:365,domain:this_cookie_domain});}});}});$(document).ready(function(){$(function(){if($('.wap_player').length&&typeof(jutsu_new_player)=="undefined"){$('.wap_player:not(#wap_player_sub)').click(function(thehere){if($(this).hasClass("wap_active"))return false;$(".wap_player").each(function(indx,element){if($(element).hasClass("wap_active"))$(element).removeClass("wap_active");});$(this).addClass("wap_active");$("#the_watch_player").attr('src',$(this).attr('data-player'));Cookies.set('wap_player',$(this).attr('id'),{expires:365,domain:this_cookie_domain});});var wap_p_coo=Cookies.get('wap_player');if((typeof(wap_p_coo)=="undefined"||!$("#"+wap_p_coo).length)&&typeof(set_some_player_force)!="undefined"&&set_some_player_force!="")wap_p_coo=set_some_player_force;if(typeof(wap_p_coo)!="undefined"&&$("#"+wap_p_coo).length){var need_activate_player=$("#"+wap_p_coo);if(need_activate_player.hasClass("wap_active")){}
else{$(".wap_player").each(function(indx,element){if($(element).hasClass("wap_active"))$(element).removeClass("wap_active");});need_activate_player.addClass("wap_active");$("#the_watch_player").attr('src',need_activate_player.attr('data-player'));}}
if($('#wap_player_sub').length){$('#wap_player_sub, .anime_sub_off').click(function(thehere){thehere.preventDefault();var go_functions=$.Callbacks("once");go_functions.add(function(){var anisub_status=Cookies.get('player[old][anime_sub]');if(typeof(anisub_status)!="undefined"&&anisub_status=="yes")Cookies.remove('player[old][anime_sub]',{domain:this_cookie_domain});else Cookies.set('player[old][anime_sub]',"yes",{expires:365,domain:this_cookie_domain});if(window.location.href.indexOf("#")!==-1)history.pushState(null,null,window.location.pathname);});go_functions.add(function(){document.location=window.location;});go_functions.fire();});}}
function to_the_old_player(){var go_functions=$.Callbacks("once");var ya_goal="to-the-old-player";go_functions.add(function(){Cookies.set('player[old][using10]',"yes",{expires:365,domain:this_cookie_domain});if(typeof(some_default_wap_player)!=="undefined"&&some_default_wap_player!=""){Cookies.set('wap_player',some_default_wap_player,{expires:365,domain:this_cookie_domain});}});go_functions.add(function(){the_ya_goal(ya_goal);if(window.location.href.indexOf("#")!==-1)history.pushState(null,null,window.location.pathname);});go_functions.add(function(){document.location=window.location;});go_functions.fire();return false;}
function comment_why_old_player(){var sel_old_pl_title=",  ,       (   )?         .";var selectedText="To the old player. pview_season="+pview_season+","+"pview_episode="+pview_episode+","+"pview_id="+pview_id;var b={};b[dle_act_lang[3]]=function(){$(this).dialog('close');};b[dle_p_send]=function(){if($('#dle-promt-text').val().length>=1){var response=$('#dle-promt-text').val();$(this).dialog('close');$('#dlepopup').remove();$.post(dle_root+'engine/ajax/complaint.php',{seltext:selectedText,text:response,action:"orfo",to_the_old_player:"yes",url:window.location.href},function(data){to_the_old_player();});}
else{to_the_old_player();}};$('#dlepopup').remove();$('body').append("<div id='dlepopup' class='dle-promt' title='"+sel_old_pl_title+"' style='display:none'><textarea name='dle-promt-text' id='dle-promt-text' class='ui-widget-content ui-corner-all' style='width:97%;height:80px; padding: .4em;'></textarea></div>");$('#dlepopup').dialog({autoOpen:true,width:600,resizable:false,dialogClass:"modalfixed",buttons:b});$('.modalfixed.ui-dialog').css({position:"fixed"});$('#dlepopup').dialog("option","position",['0','0']);}
if($(".uop_hover").length&&typeof(not_mobile)!="undefined"){var uop_hover;$(".uop_hover").hover(function(){if(!uop_hover){uop_hover=window.setTimeout(function(){uop_hover=null;if($('#use_old_player_info').css("display")=="none")ShowOrHide('use_old_player_info');},700);}},function(){if(uop_hover){window.clearTimeout(uop_hover);uop_hover=null;}
else{}});}
if($('#wap_player_use_old').length){$('#wap_player_use_old, .wap_player_use_old_off').click(function(thehere){thehere.preventDefault();var go_functions=$.Callbacks("once");var ya_goal="to-the-old-player";go_functions.add(function(){var anisub_status=Cookies.get('player[old][using10]');if(typeof(anisub_status)!="undefined"&&anisub_status=="yes"){Cookies.remove('player[old][using10]',{domain:this_cookie_domain});ya_goal="to-the-new-player";}
else{to_the_old_player();}});go_functions.add(function(){if(ya_goal!="to-the-old-player"){the_ya_goal(ya_goal);if(window.location.href.indexOf("#")!==-1)history.pushState(null,null,window.location.pathname);}});go_functions.add(function(){if(ya_goal!="to-the-old-player"){document.location=window.location;}});go_functions.fire();});}});});$(document).ready(function(){$(function(){});});function do_me_a_sidebar(){if($('#sidr-sidebar').css("display")=="none"){$.sidr('open','sidr-sidebar');}
else{$.sidr('close','sidr-sidebar');}}
function forum_ruletka(hash){$.get(dle_root+"engine/ajax/forum_ruletka.php",{dle_login_hash:hash},function(data){if($("#prize"+data).length){$(".forum_prize").each(function(indx,element){if($(element).attr("id")!="prize"+data){$(element).fadeOut((Math.floor(Math.random()*(20-7+1))+7)*100);}});$(".and_your_prize").css({'display':'inline-block'});$(".ruletka_knopka").attr('disabled',true);$(".ruletka_knopka").fadeTo(600,0.5,function(){$(".ruletka_again").fadeTo(600,1);$(".ruletka_again").attr('disabled',false);});}});return false;}
function forum_ruletka_again(hash){$.get(dle_root+"engine/ajax/forum_ruletka.php",{ruletka_act:'renew',dle_login_hash:hash},function(data){if(data!="0"){$(".my_yen_cnt").html(data);$(".forum_prize").each(function(indx,element){$(element).fadeIn((Math.floor(Math.random()*(20-7+1))+7)*100);});$(".and_your_prize").css({'display':'none'});}
else{if(window.location.href.indexOf("#")!==-1)history.pushState(null,null,window.location.pathname);document.location=window.location;}
$(".ruletka_again").attr('disabled',true);$(".ruletka_again").fadeTo(600,0.5,function(){$(".ruletka_knopka").fadeTo(600,1);$(".ruletka_knopka").attr('disabled',false);});});return false;}
function set_full_view(opt){var go_functions=$.Callbacks("once");go_functions.add(function(){if(opt=="yes")Cookies.set('jcon[sfview]',"1",{expires:1,domain:this_cookie_domain});else Cookies.remove('jcon[sfview]',{domain:this_cookie_domain});});go_functions.add(function(){if(window.location.href.indexOf("#")!==-1)history.pushState(null,null,window.location.pathname);document.location=window.location;});go_functions.fire();};function show_seasons_title(opt){var go_functions=$.Callbacks("once");go_functions.add(function(){if(opt=="yes")Cookies.set('show_seasons_title',"yes",{expires:365,domain:this_cookie_domain});else Cookies.remove('show_seasons_title',{domain:this_cookie_domain});});go_functions.add(function(){if(window.location.href.indexOf("#")!==-1)history.pushState(null,null,window.location.pathname);document.location=window.location;});go_functions.fire();};function show_analitika(opt){$.get(dle_root+"engine/ajax/show_analitika.php?set_act="+opt,function(data){if(data=='ok'){document.location="/new/";}});};function hide_manga_navi(){Cookies.set('hide_manga_navi',"yes",{expires:365,domain:this_cookie_domain});ShowOrHide('manga_navi');};function close_side_banner(){$.get(dle_root+"engine/ajax/close_side_banner.php?action=close",function(data){if(data=='ok'){$(".side_banner_widget1").fadeOut(500);}});};function close_side_banner2(){$.get(dle_root+"engine/ajax/close_side_banner2.php?action=close",function(data){if(data=='ok'){$(".side_banner_widget2").fadeOut(500);}});};function close_watchnaruto_banner(){$.get(dle_root+"engine/ajax/close_watchnaruto_banner.php?action=close",function(data){if(data=='ok'){$(".watchnaruto_banner").fadeOut(500);}});};function close_watchnaruto_click(){$.get(dle_root+"engine/ajax/close_watchnaruto_click.php?action=close",function(data){});};function close_watchnaruto_click2(){$.get(dle_root+"engine/ajax/close_watchnaruto_click2.php?action=close",function(data){});};function close_watchnaruto_click3(){$.get(dle_root+"engine/ajax/close_watchnaruto_click3.php?action=close",function(data){});};function close_profile_top_left_list(){$(".user-block .l_friends").fadeOut(500);return false;};function hide_the_chat(){var chat_cont_elem=$(".sidebar .inwidget_cont_chat");if(!chat_cont_elem.hasClass("hide_the_chat")){Cookies.set('jutsu_config[hide_chat]',"yes",{expires:365,domain:this_cookie_domain});chat_cont_elem.addClass("hide_the_chat");}
else{Cookies.set('jutsu_config[hide_chat]',"no",{expires:365,domain:this_cookie_domain});chat_cont_elem.removeClass("hide_the_chat");}};function achiv_switcher_change(){achievement_is_on=!achievement_is_on;if(dle_group!=5){var ach_act="off";if(achievement_is_on)ach_act="on";$.get(dle_root+"engine/ajax/achiv_switcher.php?the_login_hash="+the_login_hash+"&ach_act="+ach_act,function(data){});}
else{if(achievement_is_on)Cookies.set('jcon[ach_off]',"no",{expires:365,domain:this_cookie_domain});else Cookies.set('jcon[ach_off]',"yes",{expires:365,domain:this_cookie_domain});}
var ya_goal_here="achiv-switcher-off";if(achievement_is_on)ya_goal_here="achiv-switcher-on";the_ya_goal(ya_goal_here);};function plus_settings_change(setting){plus_settings[setting]=!plus_settings[setting];var set_the="0";if(plus_settings[setting])set_the="1";if(setting=="next"){var hd_cl="hide_imp";var autoplay_obj=$(".ps_class_autoplay");if(autoplay_obj.length){if(set_the=="1"&&autoplay_obj.hasClass(hd_cl))autoplay_obj.removeClass(hd_cl);else if(set_the=="0"&&!autoplay_obj.hasClass(hd_cl))autoplay_obj.addClass(hd_cl);}}
else if(setting=="shareplay_sync"){if(shareplay_code!==false&&set_the=="1"&&!player.paused()){shareplay_force_1_sync=true;shareplay_user_sync();}}
$.get(dle_root+"engine/ajax/plus_settings.php?the_login_hash="+the_login_hash+"&setting="+setting+"&set_the="+set_the,function(data){});};function shareplay_user_status(setting){var set_the="0";if(setting!="shareplay_renew"){plus_settings[setting]=!plus_settings[setting];if(plus_settings[setting])set_the="1";}
var was_show_loading=false;ShowLoading('');was_show_loading=true;if(setting=="shareplay_status"){var hd_cl="hide_imp";var autoplay_obj=$(".shareplay_link_active");if(autoplay_obj.length){if(set_the=="1"&&autoplay_obj.hasClass(hd_cl)){autoplay_obj.removeClass(hd_cl);$(".plus_shareplay_video_active").removeClass(hd_cl);}
else if(set_the=="0"&&!autoplay_obj.hasClass(hd_cl)){autoplay_obj.addClass(hd_cl);$(".plus_shareplay_video_active").addClass(hd_cl);}}}
var play_status={};play_status['pview_id']=pview_id;play_status['pause']=player.paused();if(!play_status['pause']&&player.ended())play_status['pause']=true;play_status['time']=player.currentTime();play_status['skip']=plus_settings['skip'];play_status['next']=plus_settings['next'];play_status['autoplay']=plus_settings['autoplay'];$.post(dle_root+"engine/ajax/plus_settings.php?the_login_hash="+the_login_hash+"&setting="+setting+"&set_the="+set_the,{"play_status":JSON.stringify(play_status)},function(data){if(was_show_loading)HideLoading('');if(data&&data.substr(0,2)=="ok"&&(typeof(plus_settings['shareplay_code'])=="undefined"||plus_settings['shareplay_code']==""||setting=="shareplay_renew")){var new_code=data.substr(2);if(new_code!=""){plus_settings['shareplay_code']=new_code;$("#shareplay_link").val("https://jut.su/shareplay/"+new_code+"/");if(setting=="shareplay_renew"){$(".shareplay_link_renew_show").html("  ").addClass("shrpl_rn_success").fadeOut(5000);}}}
else{if(setting=="shareplay_renew"){$(".shareplay_link_renew_show").html("   ").addClass("shrpl_rn_error");}}});};function close_site_msg(id){var item=$("#site_msg_"+id);if(item.length){Cookies.set("site_msg_"+id,"close",{expires:365,domain:this_cookie_domain});item.fadeOut(1000);}};function show_rating_review(){ShowOrHide('rating_review_link');$(".rating_review").fadeTo(1000,1);};function anime_maps_act(action,id,type){ShowLoading('');$.get(dle_root+"anime_maps"+type+"/"+action+"/"+id+"/",function(data){HideLoading('');if(action=="description"){$(".animap_id_"+id).html(data);}
else if(data=='ok'){if(action=="del_res"){$(".animap_res_"+id).addClass("animap_is_deleted");}
else if(action=="restore_res"){$(".animap_res_"+id).removeClass("animap_is_deleted");}
else if(action=="downloaded_res")$(".animap_res_"+id).addClass("animap_is_download");else if(action=="notdownloaded_res")$(".animap_res_"+id).addClass("animap_no_download");else if(action=="uploaded_res")$(".animap_res_"+id).addClass("animap_is_upload");else if(action=="notuploaded_res")$(".animap_res_"+id).addClass("animap_no_upload");else if(action=="bad_res")$(".animap_res_"+id).addClass("animap_is_error");}});};function anime_maps_description(action,id,type){if(action=="save_description"){var the_form=$("#anime_description_"+id);var description=the_form.find('textarea[name="anime_description"]').val();var keywords=the_form.find('textarea[name="keywords"]').val();var save_msg="";ShowLoading('');$.post(dle_root+"anime_maps"+type+"/"+action+"/"+id+"/",{"description":description,"keywords":keywords},function(data){HideLoading('');if(data=="ok")save_msg='<span style="color: green; "></span>';else if(data=="empty")save_msg='<span style="color: red; ">      </span>';else save_msg='<span style="color: red; ">  </span>';the_form.find(".save_result").html(save_msg).css({"opacity":"1"}).fadeTo(6000,0);});}
return false;}
function rus_anime_info(val,type){document.location=dle_root+"anime_maps"+type+"/create/"+val+"/";}
function set_new_fil(name,form_id){selField=name;fombj=document.getElementById(form_id);return false;}
function show_rest_online(){$('.link_for_show_all_us').css({'display':'none'});$('.show_all_hidden_us').toggle('blind',{},700);$('.show_all_hidden_us').css({'display':'inline'});return false;}
function load_achiv_by_scroll(){if($(".load_more_achiv").css("display")!="none"){var af_top=$(document).scrollTop();var af_load=$('.load_more_achiv').offset().top;if(af_top+$(window).height()+1500>af_load)$(".load_more_achiv").click();}}
function load_more_achiv(){var go_functions=$.Callbacks("once");go_functions.add(function(){achiv_page=achiv_page+1;});go_functions.add(function(){load_more_achiv_act(false);});go_functions.add(function(){achiv_load();});go_functions.fire();}
function achiv_load(){ShowLoading('');$.post(dle_root+"user/"+encodeURIComponent(achiv_of_user_s)+"/achievements/",{ajax_load:"yes",start_from_page:achiv_page,achiv_of_user_s_id:achiv_of_user_s_id},function(data){HideLoading('');if(data=="empty"){$(".load_more_achiv").css({"display":"none"});load_more_achiv_act(false);}
else{var go_functions=$.Callbacks("once");go_functions.add(function(){$(".achiv_all_content").append(data);});go_functions.add(function(){var count_new_blocks=(data.split('class="achiv_all_out').length-1);if(count_new_blocks>=50){load_more_achiv_act(true);load_achiv_by_scroll();}
else{$(".load_more_achiv").css({"display":"none"});load_more_achiv_act(false);}});go_functions.fire();}});}
function load_more_achiv_act(activate){if(activate)$(".load_more_achiv").click(load_more_achiv);else $(".load_more_achiv").off("click",load_more_achiv);}
$(document).ready(function(){if(typeof(achiv_of_user_s)!="undefined"){if(!achiv_next_page){$(".load_more_achiv").css({"display":"none"});}else{$(".load_more_achiv").click(load_more_achiv);$(function(){$(window).scroll(function(){load_achiv_by_scroll();});});}}});(function($){$(window).load(function(){$('#jutsu_yt_link').attr("href","https://www.youtube.com/user/Vitassam");$('#jutsu_vk_link').attr("href","https://vk.com/jutsu");$('#jutsu_telegram_link').attr("href","https://t.me/jutsu");function isMobile(){try{document.createEvent("TouchEvent");return true;}
catch(e){return false;}}
if(isMobile()==true){is_touch_event_here='yes';}
if(typeof(is_touch_event_here)!="undefined"){if($(window).width()<=480){if(typeof(set_full_view_var)=="undefined"){$('meta[name=viewport]').attr("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no");}
if(typeof(is_now_manga_view)=="undefined"){$("body").swipe({swipeLeft:function(event,direction,distance,duration,fingerCount){if(typeof(plus_shareplay_active_tab)==="undefined"||!plus_shareplay_active_tab)$.sidr('close','sidr-sidebar');},swipeRight:function(event,direction,distance,duration,fingerCount){if(typeof(plus_shareplay_active_tab)==="undefined"||!plus_shareplay_active_tab)$.sidr('open','sidr-sidebar');},threshold:100});}}}else{$(".elements").mCustomScrollbar({theme:"my-scroll",});$(".stories_row, .review_row").mCustomScrollbar({axis:"x",advanced:{autoExpandHorizontalScroll:true},scrollButtons:{enable:true},theme:"thin"});};});})(jQuery);;
/*! fancyBox v2.1.5 fancyapps.com | fancyapps.com/fancybox/#license */
(function(r,G,f,v){var J=f("html"),n=f(r),p=f(G),b=f.fancybox=function(){b.open.apply(this,arguments)},I=navigator.userAgent.match(/msie/i),B=null,s=G.createTouch!==v,t=function(a){return a&&a.hasOwnProperty&&a instanceof f},q=function(a){return a&&"string"===f.type(a)},E=function(a){return q(a)&&0<a.indexOf("%")},l=function(a,d){var e=parseInt(a,10)||0;d&&E(a)&&(e*=b.getViewport()[d]/100);return Math.ceil(e)},w=function(a,b){return l(a,b)+"px"};f.extend(b,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!s,fitToView:!0,aspectRatio:!1,topRatio:0.5,leftRatio:0.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3E3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+
(I?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:f.noop,beforeLoad:f.noop,afterLoad:f.noop,beforeShow:f.noop,afterShow:f.noop,beforeChange:f.noop,beforeClose:f.noop,afterClose:f.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(a,d){if(a&&(f.isPlainObject(d)||(d={}),!1!==b.close(!0)))return f.isArray(a)||(a=t(a)?f(a).get():[a]),f.each(a,function(e,c){var k={},g,h,j,m,l;"object"===f.type(c)&&(c.nodeType&&(c=f(c)),t(c)?(k={href:c.data("fancybox-href")||c.attr("href"),title:c.data("fancybox-title")||c.attr("title"),isDom:!0,element:c},f.metadata&&f.extend(!0,k,c.metadata())):k=c);g=d.href||k.href||(q(c)?c:null);h=d.title!==v?d.title:k.title||"";m=(j=d.content||k.content)?"html":d.type||k.type;!m&&k.isDom&&(m=c.data("fancybox-type"),m||(m=(m=c.prop("class").match(/fancybox\.(\w+)/))?m[1]:null));q(g)&&(m||(b.isImage(g)?m="image":b.isSWF(g)?m="swf":"#"===g.charAt(0)?m="inline":q(c)&&(m="html",j=c)),"ajax"===m&&(l=g.split(/\s+/,2),g=l.shift(),l=l.shift()));j||("inline"===m?g?j=f(q(g)?g.replace(/.*(?=#[^\s]+$)/,""):g):k.isDom&&(j=c):"html"===m?j=g:!m&&(!g&&k.isDom)&&(m="inline",j=c));f.extend(k,{href:g,type:m,content:j,title:h,selector:l});a[e]=k}),b.opts=f.extend(!0,{},b.defaults,d),d.keys!==v&&(b.opts.keys=d.keys?f.extend({},b.defaults.keys,d.keys):!1),b.group=a,b._start(b.opts.index)},cancel:function(){var a=b.coming;a&&!1!==b.trigger("onCancel")&&(b.hideLoading(),b.ajaxLoad&&b.ajaxLoad.abort(),b.ajaxLoad=null,b.imgPreload&&(b.imgPreload.onload=b.imgPreload.onerror=null),a.wrap&&a.wrap.stop(!0,!0).trigger("onReset").remove(),b.coming=null,b.current||b._afterZoomOut(a))},close:function(a){b.cancel();!1!==b.trigger("beforeClose")&&(b.unbindEvents(),b.isActive&&(!b.isOpen||!0===a?(f(".fancybox-wrap").stop(!0).trigger("onReset").remove(),b._afterZoomOut()):(b.isOpen=b.isOpened=!1,b.isClosing=!0,f(".fancybox-item, .fancybox-nav").remove(),b.wrap.stop(!0,!0).removeClass("fancybox-opened"),b.transitions[b.current.closeMethod]())))},play:function(a){var d=function(){clearTimeout(b.player.timer)},e=function(){d();b.current&&b.player.isActive&&(b.player.timer=setTimeout(b.next,b.current.playSpeed))},c=function(){d();p.unbind(".player");b.player.isActive=!1;b.trigger("onPlayEnd")};if(!0===a||!b.player.isActive&&!1!==a){if(b.current&&(b.current.loop||b.current.index<b.group.length-1))b.player.isActive=!0,p.bind({"onCancel.player beforeClose.player":c,"onUpdate.player":e,"beforeLoad.player":d}),e(),b.trigger("onPlayStart")}else c()},next:function(a){var d=b.current;d&&(q(a)||(a=d.direction.next),b.jumpto(d.index+1,a,"next"))},prev:function(a){var d=b.current;d&&(q(a)||(a=d.direction.prev),b.jumpto(d.index-1,a,"prev"))},jumpto:function(a,d,e){var c=b.current;c&&(a=l(a),b.direction=d||c.direction[a>=c.index?"next":"prev"],b.router=e||"jumpto",c.loop&&(0>a&&(a=c.group.length+a%c.group.length),a%=c.group.length),c.group[a]!==v&&(b.cancel(),b._start(a)))},reposition:function(a,d){var e=b.current,c=e?e.wrap:null,k;c&&(k=b._getPosition(d),a&&"scroll"===a.type?(delete k.position,c.stop(!0,!0).animate(k,200)):(c.css(k),e.pos=f.extend({},e.dim,k)))},update:function(a){var d=a&&a.type,e=!d||"orientationchange"===d;e&&(clearTimeout(B),B=null);b.isOpen&&!B&&(B=setTimeout(function(){var c=b.current;c&&!b.isClosing&&(b.wrap.removeClass("fancybox-tmp"),(e||"load"===d||"resize"===d&&c.autoResize)&&b._setDimension(),"scroll"===d&&c.canShrink||b.reposition(a),b.trigger("onUpdate"),B=null)},e&&!s?0:300))},toggle:function(a){b.isOpen&&(b.current.fitToView="boolean"===f.type(a)?a:!b.current.fitToView,s&&(b.wrap.removeAttr("style").addClass("fancybox-tmp"),b.trigger("onUpdate")),b.update())},hideLoading:function(){p.unbind(".loading");f("#fancybox-loading").remove()},showLoading:function(){var a,d;b.hideLoading();a=f('<div id="fancybox-loading"><div></div></div>').click(b.cancel).appendTo("body");p.bind("keydown.loading",function(a){if(27===(a.which||a.keyCode))a.preventDefault(),b.cancel()});b.defaults.fixed||(d=b.getViewport(),a.css({position:"absolute",top:0.5*d.h+d.y,left:0.5*d.w+d.x}))},getViewport:function(){var a=b.current&&b.current.locked||!1,d={x:n.scrollLeft(),y:n.scrollTop()};a?(d.w=a[0].clientWidth,d.h=a[0].clientHeight):(d.w=s&&r.innerWidth?r.innerWidth:n.width(),d.h=s&&r.innerHeight?r.innerHeight:n.height());return d},unbindEvents:function(){b.wrap&&t(b.wrap)&&b.wrap.unbind(".fb");p.unbind(".fb");n.unbind(".fb")},bindEvents:function(){var a=b.current,d;a&&(n.bind("orientationchange.fb"+(s?"":" resize.fb")+(a.autoCenter&&!a.locked?" scroll.fb":""),b.update),(d=a.keys)&&p.bind("keydown.fb",function(e){var c=e.which||e.keyCode,k=e.target||e.srcElement;if(27===c&&b.coming)return!1;!e.ctrlKey&&(!e.altKey&&!e.shiftKey&&!e.metaKey&&(!k||!k.type&&!f(k).is("[contenteditable]")))&&f.each(d,function(d,k){if(1<a.group.length&&k[c]!==v)return b[d](k[c]),e.preventDefault(),!1;if(-1<f.inArray(c,k))return b[d](),e.preventDefault(),!1})}),f.fn.mousewheel&&a.mouseWheel&&b.wrap.bind("mousewheel.fb",function(d,c,k,g){for(var h=f(d.target||null),j=!1;h.length&&!j&&!h.is(".fancybox-skin")&&!h.is(".fancybox-wrap");)j=h[0]&&!(h[0].style.overflow&&"hidden"===h[0].style.overflow)&&(h[0].clientWidth&&h[0].scrollWidth>h[0].clientWidth||h[0].clientHeight&&h[0].scrollHeight>h[0].clientHeight),h=f(h).parent();if(0!==c&&!j&&1<b.group.length&&!a.canShrink){if(0<g||0<k)b.prev(0<g?"down":"left");else if(0>g||0>k)b.next(0>g?"up":"right");d.preventDefault()}}))},trigger:function(a,d){var e,c=d||b.coming||b.current;if(c){f.isFunction(c[a])&&(e=c[a].apply(c,Array.prototype.slice.call(arguments,1)));if(!1===e)return!1;c.helpers&&f.each(c.helpers,function(d,e){if(e&&b.helpers[d]&&f.isFunction(b.helpers[d][a]))b.helpers[d][a](f.extend(!0,{},b.helpers[d].defaults,e),c)});p.trigger(a)}},isImage:function(a){return q(a)&&a.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(a){return q(a)&&a.match(/\.(swf)((\?|#).*)?$/i)},_start:function(a){var d={},e,c;a=l(a);e=b.group[a]||null;if(!e)return!1;d=f.extend(!0,{},b.opts,e);e=d.margin;c=d.padding;"number"===f.type(e)&&(d.margin=[e,e,e,e]);"number"===f.type(c)&&(d.padding=[c,c,c,c]);d.modal&&f.extend(!0,d,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}});d.autoSize&&(d.autoWidth=d.autoHeight=!0);"auto"===d.width&&(d.autoWidth=!0);"auto"===d.height&&(d.autoHeight=!0);d.group=b.group;d.index=a;b.coming=d;if(!1===b.trigger("beforeLoad"))b.coming=null;else{c=d.type;e=d.href;if(!c)return b.coming=null,b.current&&b.router&&"jumpto"!==b.router?(b.current.index=a,b[b.router](b.direction)):!1;b.isActive=!0;if("image"===c||"swf"===c)d.autoHeight=d.autoWidth=!1,d.scrolling="visible";"image"===c&&(d.aspectRatio=!0);"iframe"===c&&s&&(d.scrolling="scroll");d.wrap=f(d.tpl.wrap).addClass("fancybox-"+(s?"mobile":"desktop")+" fancybox-type-"+c+" fancybox-tmp "+d.wrapCSS).appendTo(d.parent||"body");f.extend(d,{skin:f(".fancybox-skin",d.wrap),outer:f(".fancybox-outer",d.wrap),inner:f(".fancybox-inner",d.wrap)});f.each(["Top","Right","Bottom","Left"],function(a,b){d.skin.css("padding"+b,w(d.padding[a]))});b.trigger("onReady");if("inline"===c||"html"===c){if(!d.content||!d.content.length)return b._error("content")}else if(!e)return b._error("href");"image"===c?b._loadImage():"ajax"===c?b._loadAjax():"iframe"===c?b._loadIframe():b._afterLoad()}},_error:function(a){f.extend(b.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:a,content:b.coming.tpl.error});b._afterLoad()},_loadImage:function(){var a=b.imgPreload=new Image;a.onload=function(){this.onload=this.onerror=null;b.coming.width=this.width/b.opts.pixelRatio;b.coming.height=this.height/b.opts.pixelRatio;b._afterLoad()};a.onerror=function(){this.onload=this.onerror=null;b._error("image")};a.src=b.coming.href;!0!==a.complete&&b.showLoading()},_loadAjax:function(){var a=b.coming;b.showLoading();b.ajaxLoad=f.ajax(f.extend({},a.ajax,{url:a.href,error:function(a,e){b.coming&&"abort"!==e?b._error("ajax",a):b.hideLoading()},success:function(d,e){"success"===e&&(a.content=d,b._afterLoad())}}))},_loadIframe:function(){var a=b.coming,d=f(a.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",s?"auto":a.iframe.scrolling).attr("src",a.href);f(a.wrap).bind("onReset",function(){try{f(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(a){}});a.iframe.preload&&(b.showLoading(),d.one("load",function(){f(this).data("ready",1);s||f(this).bind("load.fb",b.update);f(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();b._afterLoad()}));a.content=d.appendTo(a.inner);a.iframe.preload||b._afterLoad()},_preloadImages:function(){var a=b.group,d=b.current,e=a.length,c=d.preload?Math.min(d.preload,e-1):0,f,g;for(g=1;g<=c;g+=1)f=a[(d.index+g)%e],"image"===f.type&&f.href&&((new Image).src=f.href)},_afterLoad:function(){var a=b.coming,d=b.current,e,c,k,g,h;b.hideLoading();if(a&&!1!==b.isActive)if(!1===b.trigger("afterLoad",a,d))a.wrap.stop(!0).trigger("onReset").remove(),b.coming=null;else{d&&(b.trigger("beforeChange",d),d.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove());b.unbindEvents();e=a.content;c=a.type;k=a.scrolling;f.extend(b,{wrap:a.wrap,skin:a.skin,outer:a.outer,inner:a.inner,current:a,previous:d});g=a.href;switch(c){case"inline":case"ajax":case"html":a.selector?e=f("<div>").html(e).find(a.selector):t(e)&&(e.data("fancybox-placeholder")||e.data("fancybox-placeholder",f('<div class="fancybox-placeholder"></div>').insertAfter(e).hide()),e=e.show().detach(),a.wrap.bind("onReset",function(){f(this).find(e).length&&e.hide().replaceAll(e.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case"image":e=a.tpl.image.replace("{href}",g);break;case"swf":e='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+g+'"></param>',h="",f.each(a.swf,function(a,b){e+='<param name="'+a+'" value="'+b+'"></param>';h+=" "+a+'="'+b+'"'}),e+='<embed src="'+g+'" type="application/x-shockwave-flash" width="100%" height="100%"'+h+"></embed></object>"}(!t(e)||!e.parent().is(a.inner))&&a.inner.append(e);b.trigger("beforeShow");a.inner.css("overflow","yes"===k?"scroll":"no"===k?"hidden":k);b._setDimension();b.reposition();b.isOpen=!1;b.coming=null;b.bindEvents();if(b.isOpened){if(d.prevMethod)b.transitions[d.prevMethod]()}else f(".fancybox-wrap").not(a.wrap).stop(!0).trigger("onReset").remove();b.transitions[b.isOpened?a.nextMethod:a.openMethod]();b._preloadImages()}},_setDimension:function(){var a=b.getViewport(),d=0,e=!1,c=!1,e=b.wrap,k=b.skin,g=b.inner,h=b.current,c=h.width,j=h.height,m=h.minWidth,u=h.minHeight,n=h.maxWidth,p=h.maxHeight,s=h.scrolling,q=h.scrollOutside?h.scrollbarWidth:0,x=h.margin,y=l(x[1]+x[3]),r=l(x[0]+x[2]),v,z,t,C,A,F,B,D,H;e.add(k).add(g).width("auto").height("auto").removeClass("fancybox-tmp");x=l(k.outerWidth(!0)-k.width());v=l(k.outerHeight(!0)-k.height());z=y+x;t=r+v;C=E(c)?(a.w-z)*l(c)/100:c;A=E(j)?(a.h-t)*l(j)/100:j;if("iframe"===h.type){if(H=h.content,h.autoHeight&&1===H.data("ready"))try{H[0].contentWindow.document.location&&(g.width(C).height(9999),F=H.contents().find("body"),q&&F.css("overflow-x","hidden"),A=F.outerHeight(!0))}catch(G){}}else if(h.autoWidth||h.autoHeight)g.addClass("fancybox-tmp"),h.autoWidth||g.width(C),h.autoHeight||g.height(A),h.autoWidth&&(C=g.width()),h.autoHeight&&(A=g.height()),g.removeClass("fancybox-tmp");c=l(C);j=l(A);D=C/A;m=l(E(m)?l(m,"w")-z:m);n=l(E(n)?l(n,"w")-z:n);u=l(E(u)?l(u,"h")-t:u);p=l(E(p)?l(p,"h")-t:p);F=n;B=p;h.fitToView&&(n=Math.min(a.w-z,n),p=Math.min(a.h-t,p));z=a.w-y;r=a.h-r;h.aspectRatio?(c>n&&(c=n,j=l(c/D)),j>p&&(j=p,c=l(j*D)),c<m&&(c=m,j=l(c/D)),j<u&&(j=u,c=l(j*D))):(c=Math.max(m,Math.min(c,n)),h.autoHeight&&"iframe"!==h.type&&(g.width(c),j=g.height()),j=Math.max(u,Math.min(j,p)));if(h.fitToView)if(g.width(c).height(j),e.width(c+x),a=e.width(),y=e.height(),h.aspectRatio)for(;(a>z||y>r)&&(c>m&&j>u)&&!(19<d++);)j=Math.max(u,Math.min(p,j-10)),c=l(j*D),c<m&&(c=m,j=l(c/D)),c>n&&(c=n,j=l(c/D)),g.width(c).height(j),e.width(c+x),a=e.width(),y=e.height();else c=Math.max(m,Math.min(c,c-(a-z))),j=Math.max(u,Math.min(j,j-(y-r)));q&&("auto"===s&&j<A&&c+x+q<z)&&(c+=q);g.width(c).height(j);e.width(c+x);a=e.width();y=e.height();e=(a>z||y>r)&&c>m&&j>u;c=h.aspectRatio?c<F&&j<B&&c<C&&j<A:(c<F||j<B)&&(c<C||j<A);f.extend(h,{dim:{width:w(a),height:w(y)},origWidth:C,origHeight:A,canShrink:e,canExpand:c,wPadding:x,hPadding:v,wrapSpace:y-k.outerHeight(!0),skinSpace:k.height()-j});!H&&(h.autoHeight&&j>u&&j<p&&!c)&&g.height("auto")},_getPosition:function(a){var d=b.current,e=b.getViewport(),c=d.margin,f=b.wrap.width()+c[1]+c[3],g=b.wrap.height()+c[0]+c[2],c={position:"absolute",top:c[0],left:c[3]};d.autoCenter&&d.fixed&&!a&&g<=e.h&&f<=e.w?c.position="fixed":d.locked||(c.top+=e.y,c.left+=e.x);c.top=w(Math.max(c.top,c.top+(e.h-g)*d.topRatio));c.left=w(Math.max(c.left,c.left+(e.w-f)*d.leftRatio));return c},_afterZoomIn:function(){var a=b.current;a&&(b.isOpen=b.isOpened=!0,b.wrap.css("overflow","visible").addClass("fancybox-opened"),b.update(),(a.closeClick||a.nextClick&&1<b.group.length)&&b.inner.css("cursor","pointer").bind("click.fb",function(d){!f(d.target).is("a")&&!f(d.target).parent().is("a")&&(d.preventDefault(),b[a.closeClick?"close":"next"]())}),a.closeBtn&&f(a.tpl.closeBtn).appendTo(b.skin).bind("click.fb",function(a){a.preventDefault();b.close()}),a.arrows&&1<b.group.length&&((a.loop||0<a.index)&&f(a.tpl.prev).appendTo(b.outer).bind("click.fb",b.prev),(a.loop||a.index<b.group.length-1)&&f(a.tpl.next).appendTo(b.outer).bind("click.fb",b.next)),b.trigger("afterShow"),!a.loop&&a.index===a.group.length-1?b.play(!1):b.opts.autoPlay&&!b.player.isActive&&(b.opts.autoPlay=!1,b.play()))},_afterZoomOut:function(a){a=a||b.current;f(".fancybox-wrap").trigger("onReset").remove();f.extend(b,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null});b.trigger("afterClose",a)}});b.transitions={getOrigPosition:function(){var a=b.current,d=a.element,e=a.orig,c={},f=50,g=50,h=a.hPadding,j=a.wPadding,m=b.getViewport();!e&&(a.isDom&&d.is(":visible"))&&(e=d.find("img:first"),e.length||(e=d));t(e)?(c=e.offset(),e.is("img")&&(f=e.outerWidth(),g=e.outerHeight())):(c.top=m.y+(m.h-g)*a.topRatio,c.left=m.x+(m.w-f)*a.leftRatio);if("fixed"===b.wrap.css("position")||a.locked)c.top-=m.y,c.left-=m.x;return c={top:w(c.top-h*a.topRatio),left:w(c.left-j*a.leftRatio),width:w(f+j),height:w(g+h)}},step:function(a,d){var e,c,f=d.prop;c=b.current;var g=c.wrapSpace,h=c.skinSpace;if("width"===f||"height"===f)e=d.end===d.start?1:(a-d.start)/(d.end-d.start),b.isClosing&&(e=1-e),c="width"===f?c.wPadding:c.hPadding,c=a-c,b.skin[f](l("width"===f?c:c-g*e)),b.inner[f](l("width"===f?c:c-g*e-h*e))},zoomIn:function(){var a=b.current,d=a.pos,e=a.openEffect,c="elastic"===e,k=f.extend({opacity:1},d);delete k.position;c?(d=this.getOrigPosition(),a.openOpacity&&(d.opacity=0.1)):"fade"===e&&(d.opacity=0.1);b.wrap.css(d).animate(k,{duration:"none"===e?0:a.openSpeed,easing:a.openEasing,step:c?this.step:null,complete:b._afterZoomIn})},zoomOut:function(){var a=b.current,d=a.closeEffect,e="elastic"===d,c={opacity:0.1};e&&(c=this.getOrigPosition(),a.closeOpacity&&(c.opacity=0.1));b.wrap.animate(c,{duration:"none"===d?0:a.closeSpeed,easing:a.closeEasing,step:e?this.step:null,complete:b._afterZoomOut})},changeIn:function(){var a=b.current,d=a.nextEffect,e=a.pos,c={opacity:1},f=b.direction,g;e.opacity=0.1;"elastic"===d&&(g="down"===f||"up"===f?"top":"left","down"===f||"right"===f?(e[g]=w(l(e[g])-200),c[g]="+=200px"):(e[g]=w(l(e[g])+200),c[g]="-=200px"));"none"===d?b._afterZoomIn():b.wrap.css(e).animate(c,{duration:a.nextSpeed,easing:a.nextEasing,complete:b._afterZoomIn})},changeOut:function(){var a=b.previous,d=a.prevEffect,e={opacity:0.1},c=b.direction;"elastic"===d&&(e["down"===c||"up"===c?"top":"left"]=("up"===c||"left"===c?"-":"+")+"=200px");a.wrap.animate(e,{duration:"none"===d?0:a.prevSpeed,easing:a.prevEasing,complete:function(){f(this).trigger("onReset").remove()}})}};b.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!s,fixed:!0},overlay:null,fixed:!1,el:f("html"),create:function(a){a=f.extend({},this.defaults,a);this.overlay&&this.close();this.overlay=f('<div class="fancybox-overlay"></div>').appendTo(b.coming?b.coming.parent:a.parent);this.fixed=!1;a.fixed&&b.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(a){var d=this;a=f.extend({},this.defaults,a);this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(a);this.fixed||(n.bind("resize.overlay",f.proxy(this.update,this)),this.update());a.closeClick&&this.overlay.bind("click.overlay",function(a){if(f(a.target).hasClass("fancybox-overlay"))return b.isActive?b.close():d.close(),!1});this.overlay.css(a.css).show()},close:function(){var a,b;n.unbind("resize.overlay");this.el.hasClass("fancybox-lock")&&(f(".fancybox-margin").removeClass("fancybox-margin"),a=n.scrollTop(),b=n.scrollLeft(),this.el.removeClass("fancybox-lock"),n.scrollTop(a).scrollLeft(b));f(".fancybox-overlay").remove().hide();f.extend(this,{overlay:null,fixed:!1})},update:function(){var a="100%",b;this.overlay.width(a).height("100%");I?(b=Math.max(G.documentElement.offsetWidth,G.body.offsetWidth),p.width()>b&&(a=p.width())):p.width()>n.width()&&(a=p.width());this.overlay.width(a).height(p.height())},onReady:function(a,b){var e=this.overlay;f(".fancybox-overlay").stop(!0,!0);e||this.create(a);a.locked&&(this.fixed&&b.fixed)&&(e||(this.margin=p.height()>n.height()?f("html").css("margin-right").replace("px",""):!1),b.locked=this.overlay.append(b.wrap),b.fixed=!1);!0===a.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(a,b){var e,c;b.locked&&(!1!==this.margin&&(f("*").filter(function(){return"fixed"===f(this).css("position")&&!f(this).hasClass("fancybox-overlay")&&!f(this).hasClass("fancybox-wrap")}).addClass("fancybox-margin"),this.el.addClass("fancybox-margin")),e=n.scrollTop(),c=n.scrollLeft(),this.el.addClass("fancybox-lock"),n.scrollTop(e).scrollLeft(c));this.open(a)},onUpdate:function(){this.fixed||this.update()},afterClose:function(a){this.overlay&&!b.coming&&this.overlay.fadeOut(a.speedOut,f.proxy(this.close,this))}};b.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(a){var d=b.current,e=d.title,c=a.type;f.isFunction(e)&&(e=e.call(d.element,d));if(q(e)&&""!==f.trim(e)){d=f('<div class="fancybox-title fancybox-title-'+c+'-wrap">'+e+"</div>");switch(c){case"inside":c=b.skin;break;case"outside":c=b.wrap;break;case"over":c=b.inner;break;default:c=b.skin,d.appendTo("body"),I&&d.width(d.width()),d.wrapInner('<span class="child"></span>'),b.current.margin[2]+=Math.abs(l(d.css("margin-bottom")))}d["top"===a.position?"prependTo":"appendTo"](c)}}};f.fn.fancybox=function(a){var d,e=f(this),c=this.selector||"",k=function(g){var h=f(this).blur(),j=d,k,l;!g.ctrlKey&&(!g.altKey&&!g.shiftKey&&!g.metaKey)&&!h.is(".fancybox-wrap")&&(k=a.groupAttr||"data-fancybox-group",l=h.attr(k),l||(k="rel",l=h.get(0)[k]),l&&(""!==l&&"nofollow"!==l)&&(h=c.length?f(c):e,h=h.filter("["+k+'="'+l+'"]'),j=h.index(this)),a.index=j,!1!==b.open(h,a)&&g.preventDefault())};a=a||{};d=a.index||0;!c||!1===a.live?e.unbind("click.fb-start").bind("click.fb-start",k):p.undelegate(c,"click.fb-start").delegate(c+":not('.fancybox-item, .fancybox-nav')","click.fb-start",k);this.filter("[data-fancybox-start=1]").trigger("click");return this};p.ready(function(){var a,d;f.scrollbarWidth===v&&(f.scrollbarWidth=function(){var a=f('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),b=a.children(),b=b.innerWidth()-b.height(99).innerWidth();a.remove();return b});if(f.support.fixedPosition===v){a=f.support;d=f('<div style="position:fixed;top:20px;"></div>').appendTo("body");var e=20===d[0].offsetTop||15===d[0].offsetTop;d.remove();a.fixedPosition=e}f.extend(b.defaults,{scrollbarWidth:f.scrollbarWidth(),fixed:f.support.fixedPosition,parent:f("body")});a=f(r).width();J.addClass("fancybox-lock-test");d=f(r).width();J.removeClass("fancybox-lock-test");f("<style type='text/css'>.fancybox-margin{margin-right:"+(d-a)+"px;}</style>").appendTo("head")})})(window,document,jQuery);
;/* == jquery mousewheel plugin == Version: 3.1.12, License: MIT License (MIT) */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(m=-1*g.deltaY,j=m),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});
/* == malihu jquery custom scrollbar plugin == Version: 3.0.8, License: MIT License (MIT) */
!function(e){"undefined"!=typeof module&&module.exports?module.exports=e:e(jQuery,window,document)}(function(e){!function(t){var o="function"==typeof define&&define.amd,a="undefined"!=typeof module&&module.exports,n="https:"==document.location.protocol?"https:":"http:",i="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.12/jquery.mousewheel.min.js";o||(a?require("jquery-mousewheel")(e):e.event.special.mousewheel||e("head").append(decodeURI("%3Cscript src="+n+"//"+i+"%3E%3C/script%3E"))),t()}(function(){var t,o="mCustomScrollbar",a="mCS",n=".mCustomScrollbar",i={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:!0},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},r=0,l={},s=window.attachEvent&&!window.addEventListener?1:0,c=!1,d=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],u={init:function(t){var t=e.extend(!0,{},i,t),o=f.call(this);if(t.live){var s=t.liveSelector||this.selector||n,c=e(s);if("off"===t.live)return void m(s);l[s]=setTimeout(function(){c.mCustomScrollbar(t),"once"===t.live&&c.length&&m(s)},500)}else m(s);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?"x":p(t.axis),t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia,"object"!=typeof t.mouseWheel&&1==t.mouseWheel&&(t.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=g(t.scrollButtons.scrollType),h(t),e(o).each(function(){var o=e(this);if(!o.data(a)){o.data(a,{idx:++r,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:o.css("direction"),cbOffsets:null,trigger:null});var n=o.data(a),i=n.opt,l=o.data("mcs-axis"),s=o.data("mcs-scrollbar-position"),c=o.data("mcs-theme");l&&(i.axis=l),s&&(i.scrollbarPosition=s),c&&(i.theme=c,h(i)),v.call(this),e("#mCSB_"+n.idx+"_container img:not(."+d[2]+")").addClass(d[2]),u.update.call(null,o)}})},update:function(t,o){var n=t||f.call(this);return e(n).each(function(){var t=e(this);if(t.data(a)){var n=t.data(a),i=n.opt,r=e("#mCSB_"+n.idx+"_container"),l=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];if(!r.length)return;n.tweenRunning&&V(t),t.hasClass(d[3])&&t.removeClass(d[3]),t.hasClass(d[4])&&t.removeClass(d[4]),S.call(this),_.call(this),"y"===i.axis||i.advanced.autoExpandHorizontalScroll||r.css("width",x(r.children())),n.overflowed=B.call(this),O.call(this),i.autoDraggerLength&&b.call(this),C.call(this),k.call(this);var s=[Math.abs(r[0].offsetTop),Math.abs(r[0].offsetLeft)];"x"!==i.axis&&(n.overflowed[0]?l[0].height()>l[0].parent().height()?T.call(this):(Q(t,s[0].toString(),{dir:"y",dur:0,overwrite:"none"}),n.contentReset.y=null):(T.call(this),"y"===i.axis?M.call(this):"yx"===i.axis&&n.overflowed[1]&&Q(t,s[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==i.axis&&(n.overflowed[1]?l[1].width()>l[1].parent().width()?T.call(this):(Q(t,s[1].toString(),{dir:"x",dur:0,overwrite:"none"}),n.contentReset.x=null):(T.call(this),"x"===i.axis?M.call(this):"yx"===i.axis&&n.overflowed[0]&&Q(t,s[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),o&&n&&(2===o&&i.callbacks.onImageLoad&&"function"==typeof i.callbacks.onImageLoad?i.callbacks.onImageLoad.call(this):3===o&&i.callbacks.onSelectorChange&&"function"==typeof i.callbacks.onSelectorChange?i.callbacks.onSelectorChange.call(this):i.callbacks.onUpdate&&"function"==typeof i.callbacks.onUpdate&&i.callbacks.onUpdate.call(this)),X.call(this)}})},scrollTo:function(t,o){if("undefined"!=typeof t&&null!=t){var n=f.call(this);return e(n).each(function(){var n=e(this);if(n.data(a)){var i=n.data(a),r=i.opt,l={trigger:"external",scrollInertia:r.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},s=e.extend(!0,{},l,o),c=Y.call(this,t),d=s.scrollInertia>0&&s.scrollInertia<17?17:s.scrollInertia;c[0]=j.call(this,c[0],"y"),c[1]=j.call(this,c[1],"x"),s.moveDragger&&(c[0]*=i.scrollRatio.y,c[1]*=i.scrollRatio.x),s.dur=d,setTimeout(function(){null!==c[0]&&"undefined"!=typeof c[0]&&"x"!==r.axis&&i.overflowed[0]&&(s.dir="y",s.overwrite="all",Q(n,c[0].toString(),s)),null!==c[1]&&"undefined"!=typeof c[1]&&"y"!==r.axis&&i.overflowed[1]&&(s.dir="x",s.overwrite="none",Q(n,c[1].toString(),s))},s.timeout)}})}},stop:function(){var t=f.call(this);return e(t).each(function(){var t=e(this);t.data(a)&&V(t)})},disable:function(t){var o=f.call(this);return e(o).each(function(){var o=e(this);if(o.data(a)){{o.data(a)}X.call(this,"remove"),M.call(this),t&&T.call(this),O.call(this,!0),o.addClass(d[3])}})},destroy:function(){var t=f.call(this);return e(t).each(function(){var n=e(this);if(n.data(a)){var i=n.data(a),r=i.opt,l=e("#mCSB_"+i.idx),s=e("#mCSB_"+i.idx+"_container"),c=e(".mCSB_"+i.idx+"_scrollbar");r.live&&m(r.liveSelector||e(t).selector),X.call(this,"remove"),M.call(this),T.call(this),n.removeData(a),Z(this,"mcs"),c.remove(),s.find("img."+d[2]).removeClass(d[2]),l.replaceWith(s.contents()),n.removeClass(o+" _"+a+"_"+i.idx+" "+d[6]+" "+d[7]+" "+d[5]+" "+d[3]).addClass(d[4])}})}},f=function(){return"object"!=typeof e(this)||e(this).length<1?n:this},h=function(t){var o=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],a=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],n=["minimal","minimal-dark"],i=["minimal","minimal-dark"],r=["minimal","minimal-dark"];t.autoDraggerLength=e.inArray(t.theme,o)>-1?!1:t.autoDraggerLength,t.autoExpandScrollbar=e.inArray(t.theme,a)>-1?!1:t.autoExpandScrollbar,t.scrollButtons.enable=e.inArray(t.theme,n)>-1?!1:t.scrollButtons.enable,t.autoHideScrollbar=e.inArray(t.theme,i)>-1?!0:t.autoHideScrollbar,t.scrollbarPosition=e.inArray(t.theme,r)>-1?"outside":t.scrollbarPosition},m=function(e){l[e]&&(clearTimeout(l[e]),Z(l,e))},p=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},g=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},v=function(){var t=e(this),n=t.data(a),i=n.opt,r=i.autoExpandScrollbar?" "+d[1]+"_expand":"",l=["<div id='mCSB_"+n.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_vertical"+r+"'><div class='"+d[12]+"'><div id='mCSB_"+n.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+n.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_horizontal"+r+"'><div class='"+d[12]+"'><div id='mCSB_"+n.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],s="yx"===i.axis?"mCSB_vertical_horizontal":"x"===i.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===i.axis?l[0]+l[1]:"x"===i.axis?l[1]:l[0],u="yx"===i.axis?"<div id='mCSB_"+n.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",f=i.autoHideScrollbar?" "+d[6]:"",h="x"!==i.axis&&"rtl"===n.langDir?" "+d[7]:"";i.setWidth&&t.css("width",i.setWidth),i.setHeight&&t.css("height",i.setHeight),i.setLeft="y"!==i.axis&&"rtl"===n.langDir?"989999px":i.setLeft,t.addClass(o+" _"+a+"_"+n.idx+f+h).wrapInner("<div id='mCSB_"+n.idx+"' class='mCustomScrollBox mCS-"+i.theme+" "+s+"'><div id='mCSB_"+n.idx+"_container' class='mCSB_container' style='position:relative; top:"+i.setTop+"; left:"+i.setLeft+";' dir="+n.langDir+" /></div>");var m=e("#mCSB_"+n.idx),p=e("#mCSB_"+n.idx+"_container");"y"===i.axis||i.advanced.autoExpandHorizontalScroll||p.css("width",x(p.children())),"outside"===i.scrollbarPosition?("static"===t.css("position")&&t.css("position","relative"),t.css("overflow","visible"),m.addClass("mCSB_outside").after(c)):(m.addClass("mCSB_inside").append(c),p.wrap(u)),w.call(this);var g=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height()),g[1].css("min-width",g[1].width())},x=function(t){return Math.max.apply(Math,t.map(function(){return e(this).outerWidth(!0)}).get())},_=function(){var t=e(this),o=t.data(a),n=o.opt,i=e("#mCSB_"+o.idx+"_container");n.advanced.autoExpandHorizontalScroll&&"y"!==n.axis&&i.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(i[0].getBoundingClientRect().right+.4)-Math.floor(i[0].getBoundingClientRect().left),position:"relative"}).unwrap()},w=function(){var t=e(this),o=t.data(a),n=o.opt,i=e(".mCSB_"+o.idx+"_scrollbar:first"),r=tt(n.scrollButtons.tabindex)?"tabindex='"+n.scrollButtons.tabindex+"'":"",l=["<a href='#' class='"+d[13]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+d[14]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+d[15]+"' oncontextmenu='return false;' "+r+" />","<a href='#' class='"+d[16]+"' oncontextmenu='return false;' "+r+" />"],s=["x"===n.axis?l[2]:l[0],"x"===n.axis?l[3]:l[1],l[2],l[3]];n.scrollButtons.enable&&i.prepend(s[0]).append(s[1]).next(".mCSB_scrollTools").prepend(s[2]).append(s[3])},S=function(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=t.css("max-height")||"none",r=-1!==i.indexOf("%"),l=t.css("box-sizing");if("none"!==i){var s=r?t.parent().height()*parseInt(i)/100:parseInt(i);"border-box"===l&&(s-=t.innerHeight()-t.height()+(t.outerHeight()-t.innerHeight())),n.css("max-height",Math.round(s))}},b=function(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],l=[n.height()/i.outerHeight(!1),n.width()/i.outerWidth(!1)],c=[parseInt(r[0].css("min-height")),Math.round(l[0]*r[0].parent().height()),parseInt(r[1].css("min-width")),Math.round(l[1]*r[1].parent().width())],d=s&&c[1]<c[0]?c[0]:c[1],u=s&&c[3]<c[2]?c[2]:c[3];r[0].css({height:d,"max-height":r[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":c[0]+"px"}),r[1].css({width:u,"max-width":r[1].parent().width()-10})},C=function(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],l=[i.outerHeight(!1)-n.height(),i.outerWidth(!1)-n.width()],s=[l[0]/(r[0].parent().height()-r[0].height()),l[1]/(r[1].parent().width()-r[1].width())];o.scrollRatio={y:s[0],x:s[1]}},y=function(e,t,o){var a=o?d[0]+"_expanded":"",n=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(d[0]+" "+a),n.toggleClass(d[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(d[0]),n.removeClass(d[1])):(e.addClass(d[0]),n.addClass(d[1])))},B=function(){var t=e(this),o=t.data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=null==o.overflowed?i.height():i.outerHeight(!1),l=null==o.overflowed?i.width():i.outerWidth(!1);return[r>n.height(),l>n.width()]},T=function(){var t=e(this),o=t.data(a),n=o.opt,i=e("#mCSB_"+o.idx),r=e("#mCSB_"+o.idx+"_container"),l=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")];if(V(t),("x"!==n.axis&&!o.overflowed[0]||"y"===n.axis&&o.overflowed[0])&&(l[0].add(r).css("top",0),Q(t,"_resetY")),"y"!==n.axis&&!o.overflowed[1]||"x"===n.axis&&o.overflowed[1]){var s=dx=0;"rtl"===o.langDir&&(s=i.width()-r.outerWidth(!1),dx=Math.abs(s/o.scrollRatio.x)),r.css("left",s),l[1].css("left",dx),Q(t,"_resetX")}},k=function(){function t(){r=setTimeout(function(){e.event.special.mousewheel?(clearTimeout(r),W.call(o[0])):t()},100)}var o=e(this),n=o.data(a),i=n.opt;if(!n.bindEvents){if(R.call(this),i.contentTouchScroll&&E.call(this),D.call(this),i.mouseWheel.enable){var r;t()}P.call(this),H.call(this),i.advanced.autoScrollOnFocus&&z.call(this),i.scrollButtons.enable&&U.call(this),i.keyboard.enable&&q.call(this),n.bindEvents=!0}},M=function(){var t=e(this),o=t.data(a),n=o.opt,i=a+"_"+o.idx,r=".mCSB_"+o.idx+"_scrollbar",l=e("#mCSB_"+o.idx+",#mCSB_"+o.idx+"_container,#mCSB_"+o.idx+"_container_wrapper,"+r+" ."+d[12]+",#mCSB_"+o.idx+"_dragger_vertical,#mCSB_"+o.idx+"_dragger_horizontal,"+r+">a"),s=e("#mCSB_"+o.idx+"_container");n.advanced.releaseDraggableSelectors&&l.add(e(n.advanced.releaseDraggableSelectors)),o.bindEvents&&(e(document).unbind("."+i),l.each(function(){e(this).unbind("."+i)}),clearTimeout(t[0]._focusTimeout),Z(t[0],"_focusTimeout"),clearTimeout(o.sequential.step),Z(o.sequential,"step"),clearTimeout(s[0].onCompleteTimeout),Z(s[0],"onCompleteTimeout"),o.bindEvents=!1)},O=function(t){var o=e(this),n=o.data(a),i=n.opt,r=e("#mCSB_"+n.idx+"_container_wrapper"),l=r.length?r:e("#mCSB_"+n.idx+"_container"),s=[e("#mCSB_"+n.idx+"_scrollbar_vertical"),e("#mCSB_"+n.idx+"_scrollbar_horizontal")],c=[s[0].find(".mCSB_dragger"),s[1].find(".mCSB_dragger")];"x"!==i.axis&&(n.overflowed[0]&&!t?(s[0].add(c[0]).add(s[0].children("a")).css("display","block"),l.removeClass(d[8]+" "+d[10])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[0].css("display","none"),l.removeClass(d[10])):(s[0].css("display","none"),l.addClass(d[10])),l.addClass(d[8]))),"y"!==i.axis&&(n.overflowed[1]&&!t?(s[1].add(c[1]).add(s[1].children("a")).css("display","block"),l.removeClass(d[9]+" "+d[11])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[1].css("display","none"),l.removeClass(d[11])):(s[1].css("display","none"),l.addClass(d[11])),l.addClass(d[9]))),n.overflowed[0]||n.overflowed[1]?o.removeClass(d[5]):o.addClass(d[5])},I=function(e){var t=e.type;switch(t){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return e.target.ownerDocument!==document?[e.originalEvent.screenY,e.originalEvent.screenX,!1]:[e.originalEvent.pageY,e.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var o=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],a=e.originalEvent.touches.length||e.originalEvent.changedTouches.length;return e.target.ownerDocument!==document?[o.screenY,o.screenX,a>1]:[o.pageY,o.pageX,a>1];default:return[e.pageY,e.pageX,!1]}},R=function(){function t(e){var t=m.find("iframe");if(t.length){var o=e?"auto":"none";t.css("pointer-events",o)}}function o(e,t,o,a){if(m[0].idleTimer=u.scrollInertia<233?250:0,n.attr("id")===h[1])var i="x",r=(n[0].offsetLeft-t+a)*d.scrollRatio.x;else var i="y",r=(n[0].offsetTop-e+o)*d.scrollRatio.y;Q(l,r.toString(),{dir:i,drag:!0})}var n,i,r,l=e(this),d=l.data(a),u=d.opt,f=a+"_"+d.idx,h=["mCSB_"+d.idx+"_dragger_vertical","mCSB_"+d.idx+"_dragger_horizontal"],m=e("#mCSB_"+d.idx+"_container"),p=e("#"+h[0]+",#"+h[1]),g=u.advanced.releaseDraggableSelectors?p.add(e(u.advanced.releaseDraggableSelectors)):p;p.bind("mousedown."+f+" touchstart."+f+" pointerdown."+f+" MSPointerDown."+f,function(o){if(o.stopImmediatePropagation(),o.preventDefault(),$(o)){c=!0,s&&(document.onselectstart=function(){return!1}),t(!1),V(l),n=e(this);var a=n.offset(),d=I(o)[0]-a.top,f=I(o)[1]-a.left,h=n.height()+a.top,m=n.width()+a.left;h>d&&d>0&&m>f&&f>0&&(i=d,r=f),y(n,"active",u.autoExpandScrollbar)}}).bind("touchmove."+f,function(e){e.stopImmediatePropagation(),e.preventDefault();var t=n.offset(),a=I(e)[0]-t.top,l=I(e)[1]-t.left;o(i,r,a,l)}),e(document).bind("mousemove."+f+" pointermove."+f+" MSPointerMove."+f,function(e){if(n){var t=n.offset(),a=I(e)[0]-t.top,l=I(e)[1]-t.left;if(i===a)return;o(i,r,a,l)}}).add(g).bind("mouseup."+f+" touchend."+f+" pointerup."+f+" MSPointerUp."+f,function(){n&&(y(n,"active",u.autoExpandScrollbar),n=null),c=!1,s&&(document.onselectstart=null),t(!0)})},E=function(){function o(e){if(!et(e)||c||I(e)[2])return void(t=0);t=1,S=0,b=0;var o=M.offset();d=I(e)[0]-o.top,u=I(e)[1]-o.left,A=[I(e)[0],I(e)[1]]}function n(e){if(et(e)&&!c&&!I(e)[2]&&(e.stopImmediatePropagation(),!b||S)){p=J();var t=k.offset(),o=I(e)[0]-t.top,a=I(e)[1]-t.left,n="mcsLinearOut";if(R.push(o),E.push(a),A[2]=Math.abs(I(e)[0]-A[0]),A[3]=Math.abs(I(e)[1]-A[1]),y.overflowed[0])var i=O[0].parent().height()-O[0].height(),r=d-o>0&&o-d>-(i*y.scrollRatio.y)&&(2*A[3]<A[2]||"yx"===B.axis);if(y.overflowed[1])var l=O[1].parent().width()-O[1].width(),f=u-a>0&&a-u>-(l*y.scrollRatio.x)&&(2*A[2]<A[3]||"yx"===B.axis);r||f?(e.preventDefault(),S=1):b=1,_="yx"===B.axis?[d-o,u-a]:"x"===B.axis?[null,u-a]:[d-o,null],M[0].idleTimer=250,y.overflowed[0]&&s(_[0],D,n,"y","all",!0),y.overflowed[1]&&s(_[1],D,n,"x",W,!0)}}function i(e){if(!et(e)||c||I(e)[2])return void(t=0);t=1,e.stopImmediatePropagation(),V(C),m=J();var o=k.offset();f=I(e)[0]-o.top,h=I(e)[1]-o.left,R=[],E=[]}function r(e){if(et(e)&&!c&&!I(e)[2]){e.stopImmediatePropagation(),S=0,b=0,g=J();var t=k.offset(),o=I(e)[0]-t.top,a=I(e)[1]-t.left;if(!(g-p>30)){x=1e3/(g-m);var n="mcsEaseOut",i=2.5>x,r=i?[R[R.length-2],E[E.length-2]]:[0,0];v=i?[o-r[0],a-r[1]]:[o-f,a-h];var d=[Math.abs(v[0]),Math.abs(v[1])];x=i?[Math.abs(v[0]/4),Math.abs(v[1]/4)]:[x,x];var u=[Math.abs(M[0].offsetTop)-v[0]*l(d[0]/x[0],x[0]),Math.abs(M[0].offsetLeft)-v[1]*l(d[1]/x[1],x[1])];_="yx"===B.axis?[u[0],u[1]]:"x"===B.axis?[null,u[1]]:[u[0],null],w=[4*d[0]+B.scrollInertia,4*d[1]+B.scrollInertia];var C=parseInt(B.contentTouchScroll)||0;_[0]=d[0]>C?_[0]:0,_[1]=d[1]>C?_[1]:0,y.overflowed[0]&&s(_[0],w[0],n,"y",W,!1),y.overflowed[1]&&s(_[1],w[1],n,"x",W,!1)}}}function l(e,t){var o=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?o[0]:o[3]:e>60?t>3?o[3]:o[2]:e>30?t>8?o[1]:t>6?o[0]:t>4?t:o[2]:t>8?t:o[3]}function s(e,t,o,a,n,i){e&&Q(C,e.toString(),{dur:t,scrollEasing:o,dir:a,overwrite:n,drag:i})}var d,u,f,h,m,p,g,v,x,_,w,S,b,C=e(this),y=C.data(a),B=y.opt,T=a+"_"+y.idx,k=e("#mCSB_"+y.idx),M=e("#mCSB_"+y.idx+"_container"),O=[e("#mCSB_"+y.idx+"_dragger_vertical"),e("#mCSB_"+y.idx+"_dragger_horizontal")],R=[],E=[],D=0,W="yx"===B.axis?"none":"all",A=[],P=M.find("iframe"),z=["touchstart."+T+" pointerdown."+T+" MSPointerDown."+T,"touchmove."+T+" pointermove."+T+" MSPointerMove."+T,"touchend."+T+" pointerup."+T+" MSPointerUp."+T];M.bind(z[0],function(e){o(e)}).bind(z[1],function(e){n(e)}),k.bind(z[0],function(e){i(e)}).bind(z[2],function(e){r(e)}),P.length&&P.each(function(){e(this).load(function(){L(this)&&e(this.contentDocument||this.contentWindow.document).bind(z[0],function(e){o(e),i(e)}).bind(z[1],function(e){n(e)}).bind(z[2],function(e){r(e)})})})},D=function(){function o(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function n(e,t,o){d.type=o&&i?"stepped":"stepless",d.scrollAmount=10,F(r,e,t,"mcsLinearOut",o?60:null)}var i,r=e(this),l=r.data(a),s=l.opt,d=l.sequential,u=a+"_"+l.idx,f=e("#mCSB_"+l.idx+"_container"),h=f.parent();f.bind("mousedown."+u,function(){t||i||(i=1,c=!0)}).add(document).bind("mousemove."+u,function(e){if(!t&&i&&o()){var a=f.offset(),r=I(e)[0]-a.top+f[0].offsetTop,c=I(e)[1]-a.left+f[0].offsetLeft;r>0&&r<h.height()&&c>0&&c<h.width()?d.step&&n("off",null,"stepped"):("x"!==s.axis&&l.overflowed[0]&&(0>r?n("on",38):r>h.height()&&n("on",40)),"y"!==s.axis&&l.overflowed[1]&&(0>c?n("on",37):c>h.width()&&n("on",39)))}}).bind("mouseup."+u,function(){t||(i&&(i=0,n("off",null)),c=!1)})},W=function(){function t(t,a){if(V(o),!A(o,t.target)){var r="auto"!==i.mouseWheel.deltaFactor?parseInt(i.mouseWheel.deltaFactor):s&&t.deltaFactor<100?100:t.deltaFactor||100;if("x"===i.axis||"x"===i.mouseWheel.axis)var d="x",u=[Math.round(r*n.scrollRatio.x),parseInt(i.mouseWheel.scrollAmount)],f="auto"!==i.mouseWheel.scrollAmount?u[1]:u[0]>=l.width()?.9*l.width():u[0],h=Math.abs(e("#mCSB_"+n.idx+"_container")[0].offsetLeft),m=c[1][0].offsetLeft,p=c[1].parent().width()-c[1].width(),g=t.deltaX||t.deltaY||a;else var d="y",u=[Math.round(r*n.scrollRatio.y),parseInt(i.mouseWheel.scrollAmount)],f="auto"!==i.mouseWheel.scrollAmount?u[1]:u[0]>=l.height()?.9*l.height():u[0],h=Math.abs(e("#mCSB_"+n.idx+"_container")[0].offsetTop),m=c[0][0].offsetTop,p=c[0].parent().height()-c[0].height(),g=t.deltaY||a;"y"===d&&!n.overflowed[0]||"x"===d&&!n.overflowed[1]||(i.mouseWheel.invert&&(g=-g),i.mouseWheel.normalizeDelta&&(g=0>g?-1:1),(g>0&&0!==m||0>g&&m!==p||i.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),Q(o,(h-g*f).toString(),{dir:d}))}}var o=e(this),n=o.data(a),i=n.opt,r=a+"_"+n.idx,l=e("#mCSB_"+n.idx),c=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")],d=e("#mCSB_"+n.idx+"_container").find("iframe");n&&(d.length&&d.each(function(){e(this).load(function(){L(this)&&e(this.contentDocument||this.contentWindow.document).bind("mousewheel."+r,function(e,o){t(e,o)})})}),l.bind("mousewheel."+r,function(e,o){t(e,o)}))},L=function(e){var t=null;try{var o=e.contentDocument||e.contentWindow.document;t=o.body.innerHTML}catch(a){}return null!==t},A=function(t,o){var n=o.nodeName.toLowerCase(),i=t.data(a).opt.mouseWheel.disableOver,r=["select","textarea"];return e.inArray(n,i)>-1&&!(e.inArray(n,r)>-1&&!e(o).is(":focus"))},P=function(){var t=e(this),o=t.data(a),n=a+"_"+o.idx,i=e("#mCSB_"+o.idx+"_container"),r=i.parent(),l=e(".mCSB_"+o.idx+"_scrollbar ."+d[12]);l.bind("touchstart."+n+" pointerdown."+n+" MSPointerDown."+n,function(){c=!0}).bind("touchend."+n+" pointerup."+n+" MSPointerUp."+n,function(){c=!1}).bind("click."+n,function(a){if(e(a.target).hasClass(d[12])||e(a.target).hasClass("mCSB_draggerRail")){V(t);var n=e(this),l=n.find(".mCSB_dragger");if(n.parent(".mCSB_scrollTools_horizontal").length>0){if(!o.overflowed[1])return;var s="x",c=a.pageX>l.offset().left?-1:1,u=Math.abs(i[0].offsetLeft)-.9*c*r.width()}else{if(!o.overflowed[0])return;var s="y",c=a.pageY>l.offset().top?-1:1,u=Math.abs(i[0].offsetTop)-.9*c*r.height()}Q(t,u.toString(),{dir:s,scrollEasing:"mcsEaseInOut"})}})},z=function(){var t=e(this),o=t.data(a),n=o.opt,i=a+"_"+o.idx,r=e("#mCSB_"+o.idx+"_container"),l=r.parent();r.bind("focusin."+i,function(){var o=e(document.activeElement),a=r.find(".mCustomScrollBox").length,i=0;o.is(n.advanced.autoScrollOnFocus)&&(V(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=a?(i+17)*a:0,t[0]._focusTimeout=setTimeout(function(){var e=[ot(o)[0],ot(o)[1]],a=[r[0].offsetTop,r[0].offsetLeft],s=[a[0]+e[0]>=0&&a[0]+e[0]<l.height()-o.outerHeight(!1),a[1]+e[1]>=0&&a[0]+e[1]<l.width()-o.outerWidth(!1)],c="yx"!==n.axis||s[0]||s[1]?"all":"none";"x"===n.axis||s[0]||Q(t,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:c,dur:i}),"y"===n.axis||s[1]||Q(t,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:c,dur:i})},t[0]._focusTimer))})},H=function(){var t=e(this),o=t.data(a),n=a+"_"+o.idx,i=e("#mCSB_"+o.idx+"_container").parent();i.bind("scroll."+n,function(){(0!==i.scrollTop()||0!==i.scrollLeft())&&e(".mCSB_"+o.idx+"_scrollbar").css("visibility","hidden")})},U=function(){var t=e(this),o=t.data(a),n=o.opt,i=o.sequential,r=a+"_"+o.idx,l=".mCSB_"+o.idx+"_scrollbar",s=e(l+">a");s.bind("mousedown."+r+" touchstart."+r+" pointerdown."+r+" MSPointerDown."+r+" mouseup."+r+" touchend."+r+" pointerup."+r+" MSPointerUp."+r+" mouseout."+r+" pointerout."+r+" MSPointerOut."+r+" click."+r,function(a){function r(e,o){i.scrollAmount=n.snapAmount||n.scrollButtons.scrollAmount,F(t,e,o)}if(a.preventDefault(),$(a)){var l=e(this).attr("class");switch(i.type=n.scrollButtons.scrollType,a.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===i.type)return;c=!0,o.tweenRunning=!1,r("on",l);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===i.type)return;c=!1,i.dir&&r("off",l);break;case"click":if("stepped"!==i.type||o.tweenRunning)return;r("on",l)}}})},q=function(){function t(t){function a(e,t){r.type=i.keyboard.scrollType,r.scrollAmount=i.snapAmount||i.keyboard.scrollAmount,"stepped"===r.type&&n.tweenRunning||F(o,e,t)}switch(t.type){case"blur":n.tweenRunning&&r.dir&&a("off",null);break;case"keydown":case"keyup":var l=t.keyCode?t.keyCode:t.which,s="on";if("x"!==i.axis&&(38===l||40===l)||"y"!==i.axis&&(37===l||39===l)){if((38===l||40===l)&&!n.overflowed[0]||(37===l||39===l)&&!n.overflowed[1])return;"keyup"===t.type&&(s="off"),e(document.activeElement).is(u)||(t.preventDefault(),t.stopImmediatePropagation(),a(s,l))}else if(33===l||34===l){if((n.overflowed[0]||n.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type){V(o);var f=34===l?-1:1;if("x"===i.axis||"yx"===i.axis&&n.overflowed[1]&&!n.overflowed[0])var h="x",m=Math.abs(c[0].offsetLeft)-.9*f*d.width();else var h="y",m=Math.abs(c[0].offsetTop)-.9*f*d.height();Q(o,m.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}else if((35===l||36===l)&&!e(document.activeElement).is(u)&&((n.overflowed[0]||n.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type)){if("x"===i.axis||"yx"===i.axis&&n.overflowed[1]&&!n.overflowed[0])var h="x",m=35===l?Math.abs(d.width()-c.outerWidth(!1)):0;else var h="y",m=35===l?Math.abs(d.height()-c.outerHeight(!1)):0;Q(o,m.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}}var o=e(this),n=o.data(a),i=n.opt,r=n.sequential,l=a+"_"+n.idx,s=e("#mCSB_"+n.idx),c=e("#mCSB_"+n.idx+"_container"),d=c.parent(),u="input,textarea,select,datalist,keygen,[contenteditable='true']",f=c.find("iframe"),h=["blur."+l+" keydown."+l+" keyup."+l];f.length&&f.each(function(){e(this).load(function(){L(this)&&e(this.contentDocument||this.contentWindow.document).bind(h[0],function(e){t(e)})})}),s.attr("tabindex","0").bind(h[0],function(e){t(e)})},F=function(t,o,n,i,r){function l(e){var o="stepped"!==f.type,a=r?r:e?o?p/1.5:g:1e3/60,n=e?o?7.5:40:2.5,s=[Math.abs(h[0].offsetTop),Math.abs(h[0].offsetLeft)],d=[c.scrollRatio.y>10?10:c.scrollRatio.y,c.scrollRatio.x>10?10:c.scrollRatio.x],u="x"===f.dir[0]?s[1]+f.dir[1]*d[1]*n:s[0]+f.dir[1]*d[0]*n,m="x"===f.dir[0]?s[1]+f.dir[1]*parseInt(f.scrollAmount):s[0]+f.dir[1]*parseInt(f.scrollAmount),v="auto"!==f.scrollAmount?m:u,x=i?i:e?o?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",_=e?!0:!1;return e&&17>a&&(v="x"===f.dir[0]?s[1]:s[0]),Q(t,v.toString(),{dir:f.dir[0],scrollEasing:x,dur:a,onComplete:_}),e?void(f.dir=!1):(clearTimeout(f.step),void(f.step=setTimeout(function(){l()},a)))}function s(){clearTimeout(f.step),Z(f,"step"),V(t)}var c=t.data(a),u=c.opt,f=c.sequential,h=e("#mCSB_"+c.idx+"_container"),m="stepped"===f.type?!0:!1,p=u.scrollInertia<26?26:u.scrollInertia,g=u.scrollInertia<1?17:u.scrollInertia;switch(o){case"on":if(f.dir=[n===d[16]||n===d[15]||39===n||37===n?"x":"y",n===d[13]||n===d[15]||38===n||37===n?-1:1],V(t),tt(n)&&"stepped"===f.type)return;l(m);break;case"off":s(),(m||c.tweenRunning&&f.dir)&&l(!0)}},Y=function(t){var o=e(this).data(a).opt,n=[];return"function"==typeof t&&(t=t()),t instanceof Array?n=t.length>1?[t[0],t[1]]:"x"===o.axis?[null,t[0]]:[t[0],null]:(n[0]=t.y?t.y:t.x||"x"===o.axis?null:t,n[1]=t.x?t.x:t.y||"y"===o.axis?null:t),"function"==typeof n[0]&&(n[0]=n[0]()),"function"==typeof n[1]&&(n[1]=n[1]()),n},j=function(t,o){if(null!=t&&"undefined"!=typeof t){var n=e(this),i=n.data(a),r=i.opt,l=e("#mCSB_"+i.idx+"_container"),s=l.parent(),c=typeof t;o||(o="x"===r.axis?"x":"y");var d="x"===o?l.outerWidth(!1):l.outerHeight(!1),f="x"===o?l[0].offsetLeft:l[0].offsetTop,h="x"===o?"left":"top";switch(c){case"function":return t();case"object":var m=t.jquery?t:e(t);if(!m.length)return;return"x"===o?ot(m)[1]:ot(m)[0];case"string":case"number":if(tt(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(d*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(f-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var p=f+parseInt(t.split("+=")[1]);return p>=0?0:Math.abs(p)}if(-1!==t.indexOf("px")&&tt(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(s.height()-l.outerHeight(!1));if("right"===t)return Math.abs(s.width()-l.outerWidth(!1));if("first"===t||"last"===t){var m=l.find(":"+t);return"x"===o?ot(m)[1]:ot(m)[0]}return e(t).length?"x"===o?ot(e(t))[1]:ot(e(t))[0]:(l.css(h,t),void u.update.call(null,n[0]))}}},X=function(t){function o(){clearTimeout(h[0].autoUpdate),h[0].autoUpdate=setTimeout(function(){return f.advanced.updateOnSelectorChange&&(m=r(),m!==w)?(l(3),void(w=m)):(f.advanced.updateOnContentResize&&(p=[h.outerHeight(!1),h.outerWidth(!1),v.height(),v.width(),_()[0],_()[1]],(p[0]!==S[0]||p[1]!==S[1]||p[2]!==S[2]||p[3]!==S[3]||p[4]!==S[4]||p[5]!==S[5])&&(l(p[0]!==S[0]||p[1]!==S[1]),S=p)),f.advanced.updateOnImageLoad&&(g=n(),g!==b&&(h.find("img").each(function(){i(this)}),b=g)),void((f.advanced.updateOnSelectorChange||f.advanced.updateOnContentResize||f.advanced.updateOnImageLoad)&&o()))},60)}function n(){var e=0;return f.advanced.updateOnImageLoad&&(e=h.find("img").length),e}function i(t){function o(e,t){return function(){return t.apply(e,arguments)}}function a(){this.onload=null,e(t).addClass(d[2]),l(2)}if(e(t).hasClass(d[2]))return void l();var n=new Image;n.onload=o(n,a),n.src=t.src}function r(){f.advanced.updateOnSelectorChange===!0&&(f.advanced.updateOnSelectorChange="*");var t=0,o=h.find(f.advanced.updateOnSelectorChange);return f.advanced.updateOnSelectorChange&&o.length>0&&o.each(function(){t+=e(this).height()+e(this).width()}),t}function l(e){clearTimeout(h[0].autoUpdate),u.update.call(null,s[0],e)}var s=e(this),c=s.data(a),f=c.opt,h=e("#mCSB_"+c.idx+"_container");if(t)return clearTimeout(h[0].autoUpdate),void Z(h[0],"autoUpdate");var m,p,g,v=h.parent(),x=[e("#mCSB_"+c.idx+"_scrollbar_vertical"),e("#mCSB_"+c.idx+"_scrollbar_horizontal")],_=function(){return[x[0].is(":visible")?x[0].outerHeight(!0):0,x[1].is(":visible")?x[1].outerWidth(!0):0]},w=r(),S=[h.outerHeight(!1),h.outerWidth(!1),v.height(),v.width(),_()[0],_()[1]],b=n();o()},N=function(e,t,o){return Math.round(e/t)*t-o},V=function(t){var o=t.data(a),n=e("#mCSB_"+o.idx+"_container,#mCSB_"+o.idx+"_container_wrapper,#mCSB_"+o.idx+"_dragger_vertical,#mCSB_"+o.idx+"_dragger_horizontal");n.each(function(){K.call(this)})},Q=function(t,o,n){function i(e){return s&&c.callbacks[e]&&"function"==typeof c.callbacks[e]}function r(){return[c.callbacks.alwaysTriggerOffsets||_>=w[0]+b,c.callbacks.alwaysTriggerOffsets||-C>=_]}function l(){var e=[h[0].offsetTop,h[0].offsetLeft],o=[v[0].offsetTop,v[0].offsetLeft],a=[h.outerHeight(!1),h.outerWidth(!1)],i=[f.height(),f.width()];t[0].mcs={content:h,top:e[0],left:e[1],draggerTop:o[0],draggerLeft:o[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(a[0])-i[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(a[1])-i[1])),direction:n.dir}}var s=t.data(a),c=s.opt,d={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:c.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},n=e.extend(d,n),u=[n.dur,n.drag?0:n.dur],f=e("#mCSB_"+s.idx),h=e("#mCSB_"+s.idx+"_container"),m=h.parent(),p=c.callbacks.onTotalScrollOffset?Y.call(t,c.callbacks.onTotalScrollOffset):[0,0],g=c.callbacks.onTotalScrollBackOffset?Y.call(t,c.callbacks.onTotalScrollBackOffset):[0,0];
if(s.trigger=n.trigger,(0!==m.scrollTop()||0!==m.scrollLeft())&&(e(".mCSB_"+s.idx+"_scrollbar").css("visibility","visible"),m.scrollTop(0).scrollLeft(0)),"_resetY"!==o||s.contentReset.y||(i("onOverflowYNone")&&c.callbacks.onOverflowYNone.call(t[0]),s.contentReset.y=1),"_resetX"!==o||s.contentReset.x||(i("onOverflowXNone")&&c.callbacks.onOverflowXNone.call(t[0]),s.contentReset.x=1),"_resetY"!==o&&"_resetX"!==o){switch(!s.contentReset.y&&t[0].mcs||!s.overflowed[0]||(i("onOverflowY")&&c.callbacks.onOverflowY.call(t[0]),s.contentReset.x=null),!s.contentReset.x&&t[0].mcs||!s.overflowed[1]||(i("onOverflowX")&&c.callbacks.onOverflowX.call(t[0]),s.contentReset.x=null),c.snapAmount&&(o=N(o,c.snapAmount,c.snapOffset)),n.dir){case"x":var v=e("#mCSB_"+s.idx+"_dragger_horizontal"),x="left",_=h[0].offsetLeft,w=[f.width()-h.outerWidth(!1),v.parent().width()-v.width()],S=[o,0===o?0:o/s.scrollRatio.x],b=p[1],C=g[1],B=b>0?b/s.scrollRatio.x:0,T=C>0?C/s.scrollRatio.x:0;break;case"y":var v=e("#mCSB_"+s.idx+"_dragger_vertical"),x="top",_=h[0].offsetTop,w=[f.height()-h.outerHeight(!1),v.parent().height()-v.height()],S=[o,0===o?0:o/s.scrollRatio.y],b=p[0],C=g[0],B=b>0?b/s.scrollRatio.y:0,T=C>0?C/s.scrollRatio.y:0}S[1]<0||0===S[0]&&0===S[1]?S=[0,0]:S[1]>=w[1]?S=[w[0],w[1]]:S[0]=-S[0],t[0].mcs||(l(),i("onInit")&&c.callbacks.onInit.call(t[0])),clearTimeout(h[0].onCompleteTimeout),(s.tweenRunning||!(0===_&&S[0]>=0||_===w[0]&&S[0]<=w[0]))&&(G(v[0],x,Math.round(S[1]),u[1],n.scrollEasing),G(h[0],x,Math.round(S[0]),u[0],n.scrollEasing,n.overwrite,{onStart:function(){n.callbacks&&n.onStart&&!s.tweenRunning&&(i("onScrollStart")&&(l(),c.callbacks.onScrollStart.call(t[0])),s.tweenRunning=!0,y(v),s.cbOffsets=r())},onUpdate:function(){n.callbacks&&n.onUpdate&&i("whileScrolling")&&(l(),c.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(n.callbacks&&n.onComplete){"yx"===c.axis&&clearTimeout(h[0].onCompleteTimeout);var e=h[0].idleTimer||0;h[0].onCompleteTimeout=setTimeout(function(){i("onScroll")&&(l(),c.callbacks.onScroll.call(t[0])),i("onTotalScroll")&&S[1]>=w[1]-B&&s.cbOffsets[0]&&(l(),c.callbacks.onTotalScroll.call(t[0])),i("onTotalScrollBack")&&S[1]<=T&&s.cbOffsets[1]&&(l(),c.callbacks.onTotalScrollBack.call(t[0])),s.tweenRunning=!1,h[0].idleTimer=0,y(v,"hide")},e)}}}))}},G=function(e,t,o,a,n,i,r){function l(){S.stop||(x||m.call(),x=J()-v,s(),x>=S.time&&(S.time=x>S.time?x+f-(x-S.time):x+f-1,S.time<x+1&&(S.time=x+1)),S.time<a?S.id=h(l):g.call())}function s(){a>0?(S.currVal=u(S.time,_,b,a,n),w[t]=Math.round(S.currVal)+"px"):w[t]=o+"px",p.call()}function c(){f=1e3/60,S.time=x+f,h=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return s(),setTimeout(e,.01)},S.id=h(l)}function d(){null!=S.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(S.id):clearTimeout(S.id),S.id=null)}function u(e,t,o,a,n){switch(n){case"linear":case"mcsLinear":return o*e/a+t;case"mcsLinearOut":return e/=a,e--,o*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return e/=a/2,1>e?o/2*e*e+t:(e--,-o/2*(e*(e-2)-1)+t);case"easeInOutStrong":return e/=a/2,1>e?o/2*Math.pow(2,10*(e-1))+t:(e--,o/2*(-Math.pow(2,-10*e)+2)+t);case"easeInOut":case"mcsEaseInOut":return e/=a/2,1>e?o/2*e*e*e+t:(e-=2,o/2*(e*e*e+2)+t);case"easeOutSmooth":return e/=a,e--,-o*(e*e*e*e-1)+t;case"easeOutStrong":return o*(-Math.pow(2,-10*e/a)+1)+t;case"easeOut":case"mcsEaseOut":default:var i=(e/=a)*e,r=i*e;return t+o*(.499999999999997*r*i+-2.5*i*i+5.5*r+-6.5*i+4*e)}}e._mTween||(e._mTween={top:{},left:{}});var f,h,r=r||{},m=r.onStart||function(){},p=r.onUpdate||function(){},g=r.onComplete||function(){},v=J(),x=0,_=e.offsetTop,w=e.style,S=e._mTween[t];"left"===t&&(_=e.offsetLeft);var b=o-_;S.stop=0,"none"!==i&&d(),c()},J=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},K=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=["top","left"],o=0;o<t.length;o++){var a=t[o];e._mTween[a].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[a].id):clearTimeout(e._mTween[a].id),e._mTween[a].id=null,e._mTween[a].stop=1)}},Z=function(e,t){try{delete e[t]}catch(o){e[t]=null}},$=function(e){return!(e.which&&1!==e.which)},et=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},tt=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},ot=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]};e.fn[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)},e[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)},e[o].defaults=i,window[o]=!0,e(window).load(function(){e(n)[o](),e.extend(e.expr[":"],{mcsInView:e.expr[":"].mcsInView||function(t){var o,a,n=e(t),i=n.parents(".mCSB_container");if(i.length)return o=i.parent(),a=[i[0].offsetTop,i[0].offsetLeft],a[0]+ot(n)[0]>=0&&a[0]+ot(n)[0]<o.height()-n.outerHeight(!1)&&a[1]+ot(n)[1]>=0&&a[1]+ot(n)[1]<o.width()-n.outerWidth(!1)},mcsOverflow:e.expr[":"].mcsOverflow||function(t){var o=e(t).data(a);if(o)return o.overflowed[0]||o.overflowed[1]}})})})});
;$(document).ready(function(){if($("#auth_via_vk").length){$("#auth_via_vk").click(function(){var redir_then_to=location.href;var is_local_here=false;var the_dom_here="jut.su";var full_addr_here_is="//jut.su";var pos=redir_then_to.indexOf("jut.su");if(pos==-1){is_local_here=true;}
if(typeof(this_cookie_domain)!="undefined"){the_dom_here=this_cookie_domain.substr(1);full_addr_here_is="//"+the_dom_here;}
var pos_redir=redir_then_to.indexOf(full_addr_here_is+"/vk-auth/");if(pos_redir!=-1){redir_then_to=redir_then_to.substr(pos_redir+full_addr_here_is.length+9);pos_redir=redir_then_to.indexOf("/");redir_then_to=redir_then_to.substr(0,pos_redir);var redir_then_to_encoded=encodeURIComponent(redir_then_to);}
else{pos=redir_then_to.indexOf(full_addr_here_is);if(pos==-1){full_addr_here_is="//forum.jut.su";pos=redir_then_to.indexOf(full_addr_here_is);}
redir_then_to=redir_then_to.substr(pos+full_addr_here_is.length+1);var redir_then_to_encoded=encodeURIComponent(btoa(redir_then_to));}
if(redir_then_to_encoded=='')redir_then_to_encoded="main";if(is_local_here)document.location="https://oauth.vk.com/authorize?client_id=2743354&display=page&redirect_uri="+encodeURIComponent("http://"+the_dom_here+"/vk-auth/"+redir_then_to_encoded+"/")+"&response_type=code&v=5.65";else document.location="https://oauth.vk.com/authorize?client_id=2743354&display=page&redirect_uri="+encodeURIComponent("https://"+the_dom_here+"/vk-auth/"+redir_then_to_encoded+"/")+"&response_type=code&v=5.65";});}});function ShowThePass(isshowen){if(isshowen=='no'){$("#show_the_pass").attr('onclick','ShowThePass(\'yes\'); return false;');$("#show_the_pass").attr('title','  ');$("#show_the_pass").html('^');$("#login_input2").attr('type','text');}
else{$("#show_the_pass").attr('onclick','ShowThePass(\'no\'); return false;');$("#show_the_pass").attr('title','  ');$("#show_the_pass").html('^');$("#login_input2").attr('type','password');}};$(document).ready(function(){if($("#manga_img_here").length){mdomain="https://jut.su";next=$("#nextpg").attr("href");prev=$("#prevpg").attr("href");var access=true;$(".search").find('input').on('focus',function(){access=false;});$(".search").find('input').on('blur',function(){access=true;});$("#login_panel").find('input').on('focus',function(){access=false;});$("#login_panel").find('input').on('blur',function(){access=true;});$(window).keydown(function(event){keyCode=event.keyCode;if((keyCode==39||keyCode==37)){switch(keyCode){case 39:if((next!=null)&&(access==true)){window.location=mdomain+next;}
break;case 37:if((prev!=null)&&(access==true)){window.location=mdomain+prev;}
break;}}});$("#manga_img_here").load(function(){var mng_image=new Image();mng_image.src=$("#manga_img_here").attr("src");var mng_width=mng_image.width;if(mng_width>950||$(window).width()<mng_width){function getScriptCached(url,callback)
{callback=(typeof callback!='undefined')?callback:{};jQuery.ajax({type:"GET",url:url,success:callback,dataType:"script",cache:true});};getScriptCached(js_preres_url+'/engine/classes/highslide/highslide.js',function(){hs.graphicsDir=js_preres_url+'/engine/classes/highslide/graphics/';hs.outlineType='rounded-white';hs.numberOfImagesToPreload=0;hs.showCredits=false;hs.lang={loadingText:'...',playTitle:'  ()',pauseTitle:'',previousTitle:' ',nextTitle:' ',moveTitle:'',closeTitle:' (Esc)',fullExpandTitle:'   ',restoreTitle:'   ,     ',focusTitle:'',loadingTitle:'  '};});$("#manga_img_here").after("<div class=\"right\"><div id=\"manga_img_magnifier\" title=\"   \"></div></div>");$('#manga_img_magnifier').click(function(){hs.expand(null,{src:mng_image.src,anchor:'bottom',targetY:'manga_img_here',targetX:'manga_img_here'});return false;});$("#manga_img_magnifier").mouseout(function(){$(this).css('opacity','0.2');$("#manga_img_here_link").replaceWith($("#manga_img_here"));});$("#manga_img_here").mouseout(function(){$("#manga_img_magnifier").css('opacity','0.2');});$("#manga_img_here").mouseenter(function(){$("#manga_img_magnifier").css('opacity','0.5');});$("#manga_img_magnifier").mouseenter(function(){$(this).css('opacity','0.8');});}});}});;(function(e){e.effects.bounce=function(b){return this.queue(function(){var a=e(this),l=["position","top","bottom","left","right"],h=e.effects.setMode(a,b.options.mode||"effect"),d=b.options.direction||"up",c=b.options.distance||20,m=b.options.times||5,i=b.duration||250;/show|hide/.test(h)&&l.push("opacity");e.effects.save(a,l);a.show();e.effects.createWrapper(a);var f=d=="up"||d=="down"?"top":"left";d=d=="up"||d=="left"?"pos":"neg";c=b.options.distance||(f=="top"?a.outerHeight({margin:true})/3:a.outerWidth({margin:true})/3);if(h=="show")a.css("opacity",0).css(f,d=="pos"?-c:c);if(h=="hide")c/=m*2;h!="hide"&&m--;if(h=="show"){var g={opacity:1};g[f]=(d=="pos"?"+=":"-=")+c;a.animate(g,i/2,b.options.easing);c/=2;m--}for(g=0;g<m;g++){var j={},k={};j[f]=(d=="pos"?"-=":"+=")+c;k[f]=(d=="pos"?"+=":"-=")+c;a.animate(j,i/2,b.options.easing).animate(k,i/2,b.options.easing);c=h=="hide"?c*2:c/2}if(h=="hide"){g={opacity:0};g[f]=(d=="pos"?"-=":"+=")+c;a.animate(g,i/2,b.options.easing,function(){a.hide();e.effects.restore(a,l);e.effects.removeWrapper(a);b.callback&&b.callback.apply(this,arguments)})}else{j={};k={};j[f]=(d=="pos"?"-=":"+=")+c;k[f]=(d=="pos"?"+=":"-=")+c;a.animate(j,i/2,b.options.easing).animate(k,i/2,b.options.easing,function(){e.effects.restore(a,l);e.effects.removeWrapper(a);b.callback&&b.callback.apply(this,arguments)})}a.queue("fx",function(){a.dequeue()});a.dequeue()})}})(jQuery);(function(j){j.effects.explode=function(a){return this.queue(function(){var c=a.options.pieces?Math.round(Math.sqrt(a.options.pieces)):3,d=a.options.pieces?Math.round(Math.sqrt(a.options.pieces)):3;a.options.mode=a.options.mode=="toggle"?j(this).is(":visible")?"hide":"show":a.options.mode;var b=j(this).show().css("visibility","hidden"),g=b.offset();g.top-=parseInt(b.css("marginTop"),10)||0;g.left-=parseInt(b.css("marginLeft"),10)||0;for(var h=b.outerWidth(true),i=b.outerHeight(true),e=0;e<c;e++)for(var f=0;f<d;f++)b.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-f*(h/d),top:-e*(i/c)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:h/d,height:i/c,left:g.left+f*(h/d)+(a.options.mode=="show"?(f-Math.floor(d/2))*(h/d):0),top:g.top+e*(i/c)+(a.options.mode=="show"?(e-Math.floor(c/2))*(i/c):0),opacity:a.options.mode=="show"?0:1}).animate({left:g.left+f*(h/d)+(a.options.mode=="show"?0:(f-Math.floor(d/2))*(h/d)),top:g.top+
e*(i/c)+(a.options.mode=="show"?0:(e-Math.floor(c/2))*(i/c)),opacity:a.options.mode=="show"?1:0},a.duration||500);setTimeout(function(){a.options.mode=="show"?b.css({visibility:"visible"}):b.css({visibility:"visible"}).hide();a.callback&&a.callback.apply(b[0]);b.dequeue();j("div.ui-effects-explode").remove()},a.duration||500)})}})(jQuery);function iChatAdd(place)
{if($.trim(eval('document.'+iChat_fname+'.'+iChat_iname+'.value'))==''){DLEalert(iChat_lang[3],iChat_lang[2]);return false;};if($.trim(eval('document.'+iChat_fname+'.'+iChat_iname+'.value')).length>iChat_cfg[0]){DLEalert(iChat_lang[4],iChat_lang[2]);return false;};if(document.getElementById('name')&&document.getElementById('mail')){var name=document.getElementById('name').value;var mail=document.getElementById('mail').value;}else{var name='';var mail='';}
var message=document.getElementById(iChat_iname).value;iShowLoading('');$.post(dle_root+"engine/modules/iChat/ajax/add.php",{name:name,mail:mail,message:message,place:place,the_login_hash:the_login_hash},function(data){iHideLoading('');$(".iChat-messages").fadeOut(500,function(){$(this).html(data);$(this).fadeIn(500);});});return false;};function iChatEdit(id,place){var b={};b[dle_act_lang[3]]=function(){$(this).dialog('close');};b[dle_act_lang[2]]=function(){if($('#dle-promt-text').val().length<1){$('#dle-promt-text').addClass('ui-state-error');}else{var response=$('#dle-promt-text').val()
$(this).dialog('close');$('#dlepopup').remove();$.post(dle_root+'engine/modules/iChat/ajax/edit.php',{id:id,action:"save",new_message:response,place:place},function(data){if(place!='history')$(".iChat-messages").html(data);else $("#history_c").html(data);reFreshiChat();});}};$.post(dle_root+"engine/modules/iChat/ajax/edit.php",{id:id,action:"show"},function(data){iHideLoading('');old_message=data;$('#dlepopup').remove();$('body').append("<div id='dlepopup' title='"+iChat_lang[0]+"' style='display:none'><br />"+iChat_lang[1]+"<br /><br /><textarea name='dle-promt-text' id='dle-promt-text' class='ui-widget-content ui-corner-all' style='width:97%;height:100px; padding: .4em;'>"+old_message+"</textarea></div>");$('#dlepopup').dialog({autoOpen:true,width:500,buttons:b});});};function iChatDelete(id,place)
{DLEconfirm(dle_del_agree,dle_confirm,function(){iShowLoading('');$.post(dle_root+"engine/modules/iChat/ajax/delete.php",{id:id,place:place},function(data){iHideLoading('');if(place!='history'){$(".iChat-messages").hide('slide',{direction:"left"},500).html(data).show('slide',{direction:"right"},500);}else{$("#history_c").hide('slide',{direction:"left"},500).html(data).show('slide',{direction:"right"},500);reFreshiChat();}});return false;});};function iChatRefresh(place)
{var need_refresh=true;if(place=="site"){if($(".sidebar .inwidget_cont_chat").hasClass("hide_the_chat")&&$(window).width()>990){need_refresh=false;}}
if(need_refresh){$.post(dle_root+"engine/modules/iChat/ajax/refresh.php",{place:place},function(data){if($.trim(data)!='no need refresh'){if(place=='window')$("#iChat-messages").html(data);else $(".iChat-messages").html(data);};});}
return false;};function pls_refresh_chat(){$(".the_refresh_btn").attr('disabled',true);$(".the_refresh_btn").fadeTo(1000,0.2);setTimeout(function(){$(".the_refresh_btn").fadeTo(600,1,function(){$(".the_refresh_btn").removeAttr('disabled');});},10000)
reFreshiChat();}
function pls_refresh_chat_auto(){$(".the_refresh_btn").attr('disabled',true);$(".the_refresh_button").fadeOut(700);iChatRefresh('site');setInterval(reFreshiChat_auto,12000);return false;}
function make_refresh_btn(btn_ttl){$(".the_refresh_button").css({'height':'35px'});$(".the_refresh_button").html('<input class="button the_refresh_btn" style="font-size: 11px; float: right; " title="'+btn_ttl+'" onclick="pls_refresh_chat(); " type="button" value="'+btn_ttl+'" /><div class="clr"></div>');}
function make_refresh_btn_auto(btn_ttl){$(".the_refresh_button").css({'height':'35px'});$(".the_refresh_button").html('<input class="button the_refresh_btn" style="font-size: 11px; float: right; " title="'+btn_ttl+'" onclick="pls_refresh_chat_auto(); " type="button" value="'+btn_ttl+'" /><div class="clr"></div>');}
function iChatRules()
{var b={};b[iChat_lang[5]]=function(){$(this).dialog("close");};if(document.getElementById('rules')){$('#rules').dialog({autoOpen:true,show:'bounce',hide:'explode',buttons:b,width:400});return false;}
iShowLoading('');$.get(dle_root+"engine/modules/iChat/ajax/rules.php",{action:"rules"},function(data){iHideLoading('');$("#rules").remove();$("body").append(data);$('#rules').dialog({autoOpen:true,show:'bounce',hide:'explode',buttons:b,width:400});});return false;};function iChatHistory(page)
{iShowLoading('');$.post(dle_root+"engine/modules/iChat/ajax/history.php",{action:"history",page:page},function(data){iHideLoading('');$("#history").remove();$("body").append(data);$('#history').dialog({autoOpen:true,show:'blind',hide:'blind',width:300,height:410});});return false;};function iChatAdmin()
{iShowLoading('');$.get(dle_root+"engine/modules/iChat/ajax/admin.php",{action:"show"},function(data){iHideLoading('');var b={};b[iChat_lang[8]]=function(){CheckUpdates();return false;};b[iChat_lang[7]]=function(){iChatClearBd();return false;};b[iChat_lang[6]]=function(){SaveCfg();return false;};$("#ECPU").remove();$("body").append(data);$('#ECPU').dialog({autoOpen:true,show:'slide',hide:'slide',buttons:b,width:500});});return false;};function iShowLoading(message)
{if(message)
{$("#loading-layer-text").html(message);}
var setX=($(window).width()-$("#loading-layer").width())/2;var setY=($(window).height()-$("#loading-layer").height())/2;$("#loading-layer").css({left:setX+"px",top:setY+"px",position:'fixed',zIndex:'99'});$("#loading-layer").fadeTo('slow',0.6);};function iHideLoading(message)
{$("#loading-layer").fadeOut('slow');};var uagent=navigator.userAgent.toLowerCase();var is_safari=((uagent.indexOf('safari')!=-1)||(navigator.vendor=="Apple Computer, Inc."));var is_opera=(uagent.indexOf('opera')!=-1);var is_ie=((uagent.indexOf('msie')!=-1)&&(!is_opera)&&(!is_safari));var is_ie4=((is_ie)&&(uagent.indexOf("msie 4.")!=-1));var is_win=((uagent.indexOf("win")!=-1)||(uagent.indexOf("16bit")!=-1));var ua_vers=parseInt(navigator.appVersion);var text_enter_url="  URL ";var text_enter_size="    (, )";var text_enter_flash="    ";var text_enter_page="  ";var text_enter_url_name="  ";var text_enter_page_name="  ";var text_enter_image="  URL ";var text_enter_email=" e-mail ";var text_code=": [CODE]   .. [/CODE]";var text_quote=": [QUOTE]   .. [/QUOTE]";var error_no_url="   URL";var error_no_title="   ";var error_no_email="   e-mail ";var prompt_start="   ";var img_title="      (left, center, right)";var email_title="  ";var text_pages="";var image_align="left";var bb_t_emo=" ";var bb_t_col=":";var text_enter_list="  .      .";var iChatselField="message";iChat_iname='message';iChat_fname='iChat_form';var ie_range_cache='';var list_open_tag='';var list_close_tag='';var listitems='';var bbtags=new Array();var rus_lr2=('-----------------------------------').split('-');var lat_lr2=('/E-/e-/O-/o-O-o-O-o-H-h-H-h-H-h-H-h-'+String.fromCharCode(35)+'-'+String.fromCharCode(39)+'-E-e-U-u-A-a-A-a-o-o-h-h-h-h-e-u-a-a').split('-');var rus_lr1=('------------------------------------------------------').split('-');var lat_lr1=('A-B-V-G-D-E-Z-I-J-K-L-M-N-O-P-R-S-T-U-F-H-X-C-W-Y-Q-a-b-v-g-d-e-z-i-j-k-l-m-n-o-p-r-s-t-u-f-h-x-c-w-'+String.fromCharCode(35)+'-y-'+String.fromCharCode(39)+'-'+String.fromCharCode(96)+'-q').split('-');function iChat_setFieldName(which)
{if(which!=iChatselField)
{if(which=='message')
{iChat_iname='message';iChat_fname='iChat_form';}
else{iChat_iname='message_side';iChat_fname='iChat_form_side';}
iChatselField=which;}};function iChat_emoticon(theSmilie)
{iChatdoInsert(" "+theSmilie+" ","",false);};function iChat_simpletag(thetag)
{iChatdoInsert("["+thetag+"]","[/"+thetag+"]",true);};function iChat_copy_quote(qname)
{dle_txt='';if(window.getSelection)
{dle_txt=window.getSelection();}
else if(document.selection)
{dle_txt=document.selection.createRange().text;}
if(dle_txt!="")
{dle_txt='[quote='+qname+']'+dle_txt+'[/quote]\n';}};function iChat_reply(name)
{if(!document.getElementById(iChat_fname))return false;var input=eval('document.getElementById(iChat_fname).'+iChat_iname);if(dle_txt!=""){input.value+=dle_txt;}
else{input.value+="[b]"+name+"[/b],"+" ";}
document.getElementById(iChat_iname).focus();if(is_ie)
{document.getElementById(iChat_iname).focus();ie_range_cache=document.selection.createRange();}};function iChat_tag_leech()
{var iChatfombj=document.getElementById(iChat_fname);var thesel=iChat_get_sel(eval('iChatfombj.'+iChat_iname))
if(!thesel){thesel='My Webpage';}
DLEprompt(text_enter_url,"http://",dle_prompt,function(r){var enterURL=r;DLEprompt(text_enter_url_name,thesel,dle_prompt,function(r){iChatdoInsert("[leech="+enterURL+"]"+r+"[/leech]","",false);ie_range_cache=null;});});};function iChatdoInsert(ibTag,ibClsTag,isSingle)
{var iChatfombj=document.getElementById(iChat_fname);var isClose=false;var obj_ta=eval('iChatfombj.'+iChat_iname);if((ua_vers>=4)&&is_ie&&is_win)
{if(obj_ta.isTextEdit)
{obj_ta.focus();var sel=document.selection;var rng=ie_range_cache?ie_range_cache:sel.createRange();rng.colapse;if((sel.type=="Text"||sel.type=="None")&&rng!=null)
{if(ibClsTag!=""&&rng.text.length>0)
ibTag+=rng.text+ibClsTag;else if(isSingle)
ibTag+=rng.text+ibClsTag;rng.text=ibTag;}}
else
{obj_ta.value+=ibTag+ibClsTag;}
rng.select();ie_range_cache=null;}
else if(obj_ta.selectionEnd)
{var ss=obj_ta.selectionStart;var st=obj_ta.scrollTop;var es=obj_ta.selectionEnd;var start=(obj_ta.value).substring(0,ss);var middle=(obj_ta.value).substring(ss,es);var end=(obj_ta.value).substring(es,obj_ta.textLength);if(!isSingle)middle="";if(obj_ta.selectionEnd-obj_ta.selectionStart>0)
{middle=ibTag+middle+ibClsTag;}
else
{middle=ibTag+middle+ibClsTag;}
obj_ta.value=start+middle+end;var cpos=ss+(middle.length);obj_ta.selectionStart=cpos;obj_ta.selectionEnd=cpos;obj_ta.scrollTop=st;}
else
{obj_ta.value+=ibTag+ibClsTag;}
obj_ta.focus();return isClose;};function iChat_ins_color(buttonElement)
{document.getElementById(iChat_iname).focus();if(is_ie)
{document.getElementById(iChat_iname).focus();ie_range_cache=document.selection.createRange();}
$("#cp").remove();$("body").append("<div id='cp' title='"+bb_t_col+"' style='display:none'><br /><iframe width=\"154\" height=\"104\" src=\""+dle_root+"templates/"+dle_skin+"/iChat/img/bbcode/color.html\" frameborder=\"0\" marginwidth=\"0\" marginheight=\"0\" scrolling=\"no\"></iframe></div>");$('#cp').dialog({autoOpen:true,width:180});};function iChat_setColor(color)
{iChatdoInsert("[color="+color+"]","[/color]",true);$('#cp').dialog("close");};function iChat_ins_emo(buttonElement)
{document.getElementById(iChat_iname).focus();if(is_ie)
{document.getElementById(iChat_iname).focus();ie_range_cache=document.selection.createRange();}
if(document.getElementById('iChat_emo')){var w='300';var h='auto';if($('#iChat_emos').width()>=450){$('#iChat_emos').width(450);w='505';}
if($('#iChat_emos').height()>=300){$('#iChat_emos').height(300);h='340';}
ichat_emo_dialog=$('#iChat_emo').dialog({autoOpen:true,show:'slide',hide:'explode',width:w,height:h});return false;}
$.get(dle_root+"engine/modules/iChat/ajax/smilies.php",{},function(data){$("#iChat_emo").remove();$("body").append("<div id='iChat_emo' title='"+bb_t_emo+"' style='display:none'>"+data+"</div>");var w='300';var h='auto';if($('#iChat_emos').width()>=450){$('#iChat_emos').width(450);w='505';}
if($('#iChat_emos').height()>=300){$('#iChat_emos').height(300);h='340';}
ichat_emo_dialog=$('#iChat_emo').dialog({autoOpen:true,show:'slide',hide:'explode',width:w,height:h});if($('#iChat_emos').width()>=450){$('#iChat_emos').width(450);w='505';}
if($('#iChat_emos').height()>=300){$('#iChat_emos').height(300);h='340';}});};function iChat_smiley(text){iChatdoInsert(' '+text+' ','',false);ichat_emo_dialog.dialog("close");ie_range_cache=null;};function iChat_translit()
{var iChatfombj=document.getElementById(iChat_fname);var obj_ta=eval('iChatfombj.'+iChat_iname);if((ua_vers>=4)&&is_ie&&is_win){if(obj_ta.isTextEdit){obj_ta.focus();var sel=document.selection;var rng=sel.createRange();rng.colapse;if((sel.type=="Text"||sel.type=="None")&&rng!=null){rng.text=iChat_dotranslate(rng.text);}}else{obj_ta.value=iChat_dotranslate(obj_ta.value);}}else{obj_ta.value=iChat_dotranslate(obj_ta.value);}
obj_ta.focus();return;};function iChat_dotranslate(text)
{var txtnew="";var symb=0;var subsymb="";var trans=1;for(kk=0;kk<text.length;kk++)
{subsymb=text.substr(kk,1);if((subsymb=="[")||(subsymb=="<"))
{trans=0;}
if((subsymb=="]")||(subsymb==">"))
{trans=1;}
if(trans)
{symb=iChat_transsymbtocyr(txtnew.substr(txtnew.length-1,1),subsymb);}
else
{symb=txtnew.substr(txtnew.length-1,1)+subsymb;}
txtnew=txtnew.substr(0,txtnew.length-1)+symb;}
return txtnew;};function iChat_transsymbtocyr(pretxt,txt)
{var doubletxt=pretxt+txt;var code=txt.charCodeAt(0);if(!(((code>=65)&&(code<=123))||(code==35)||(code==39)))return doubletxt;var ii;for(ii=0;ii<lat_lr2.length;ii++)
{if(lat_lr2[ii]==doubletxt)return rus_lr2[ii];}
for(ii=0;ii<lat_lr1.length;ii++)
{if(lat_lr1[ii]==txt)return pretxt+rus_lr1[ii];}
return doubletxt;};function iChat_get_sel(obj)
{if(document.selection)
{if(is_ie)
{document.getElementById(iChat_iname).focus();ie_range_cache=document.selection.createRange();}
var s=document.selection.createRange();if(s.text)
{return s.text;}}
else if(typeof(obj.selectionStart)=="number")
{if(obj.selectionStart!=obj.selectionEnd)
{var start=obj.selectionStart;var end=obj.selectionEnd;return(obj.value.substr(start,end-start));}}
return false;};;function reFreshiChat()
{iChatRefresh('site');return false;};var reFreshiChat_auto_event=function(){if(!document.hidden){document.removeEventListener('visibilitychange',reFreshiChat_auto_event,false);refresh_ichat_on_showtab=false;reFreshiChat();}};function reFreshiChat_auto()
{if(typeof(document.hidden)!=="undefined"&&document.hidden){if(typeof(refresh_ichat_on_showtab)==="undefined"||!refresh_ichat_on_showtab){refresh_ichat_on_showtab=true;document.addEventListener('visibilitychange',reFreshiChat_auto_event,false);}}
else{reFreshiChat();}
return false;};$(document).ready(function(){if($(window).width()<=990){iChat_iname='message_side';iChat_fname='iChat_form_side';}
else{iChat_iname='message';iChat_fname='iChat_form';}});if(typeof(auto_refresh_chat)=="undefined"){auto_refresh_chat='no';}
$(document).ready(function(){if(auto_refresh_chat=='no'||typeof(is_rescue_server)!="undefined"){make_refresh_btn(' ');}
else{if($(window).width()<=990){make_refresh_btn_auto('  ');}
else{setInterval(reFreshiChat_auto,iChat_cfg[1]*1000);}}
$(".iChat_form textarea[name='message']").keypress(function(e){if((e.ctrlKey)&&((e.keyCode==0xA)||(e.keyCode==0xD))){iChatAdd('site');return false;}});});;if(!hs){var hs={lang:{cssDirection:"ltr",loadingText:"Loading...",loadingTitle:"Click to cancel",focusTitle:"Click to bring to front",fullExpandTitle:"Expand to actual size (f)",creditsText:"Powered by <i>Highslide JS</i>",creditsTitle:"Go to the Highslide JS homepage",previousText:"Previous",nextText:"Next",moveText:"Move",closeText:"Close",closeTitle:"Close (esc)",resizeTitle:"Resize",playText:"Play",playTitle:"Play slideshow (spacebar)",pauseText:"Pause",pauseTitle:"Pause slideshow (spacebar)",previousTitle:"Previous (arrow left)",nextTitle:"Next (arrow right)",moveTitle:"Move",fullExpandText:"1:1",number:"Image %1 of %2",restoreTitle:"Click to close image, click and drag to move. Use arrow keys for next and previous."},graphicsDir:"highslide/graphics/",expandCursor:"zoomin.cur",restoreCursor:"zoomout.cur",expandDuration:250,restoreDuration:250,marginLeft:15,marginRight:15,marginTop:15,marginBottom:15,zIndexCounter:1001,loadingOpacity:0.75,allowMultipleInstances:!0,outlineWhileAnimating:2,outlineStartOffset:3,padToMinWidth:!1,fullExpandPosition:"bottom right",fullExpandOpacity:1,showCredits:!0,creditsHref:"http://highslide.com/",creditsTarget:"_self",enableKeyListener:!0,openerTagNames:["a"],transitions:[],transitionDuration:250,dimmingOpacity:0,dimmingDuration:50,anchor:"auto",align:"auto",targetX:null,targetY:null,dragByHeading:!0,minWidth:200,minHeight:200,allowSizeReduction:!0,outlineType:"drop-shadow",skin:{controls:'<div class="highslide-controls"><ul><li class="highslide-previous"><a href="#" title="{hs.lang.previousTitle}"><span>{hs.lang.previousText}</span></a></li><li class="highslide-play"><a href="#" title="{hs.lang.playTitle}"><span>{hs.lang.playText}</span></a></li><li class="highslide-pause"><a href="#" title="{hs.lang.pauseTitle}"><span>{hs.lang.pauseText}</span></a></li><li class="highslide-next"><a href="#" title="{hs.lang.nextTitle}"><span>{hs.lang.nextText}</span></a></li><li class="highslide-move"><a href="#" title="{hs.lang.moveTitle}"><span>{hs.lang.moveText}</span></a></li><li class="highslide-full-expand"><a href="#" title="{hs.lang.fullExpandTitle}"><span>{hs.lang.fullExpandText}</span></a></li><li class="highslide-close"><a href="#" title="{hs.lang.closeTitle}" ><span>{hs.lang.closeText}</span></a></li></ul></div>'},expanders:[],overrides:"allowSizeReduction useBox anchor align targetX targetY outlineType outlineWhileAnimating captionId captionText captionEval captionOverlay headingId headingText headingEval headingOverlay creditsPosition dragByHeading autoplay numberPosition transitions dimmingOpacity width height wrapperClassName minWidth minHeight maxWidth maxHeight pageOrigin slideshowGroup easing easingClose fadeInOut src".split(" "),overlays:[],idCounter:0,oPos:{x:["leftpanel","left","center","right","rightpanel"],y:["above","top","middle","bottom","below"]},mouse:{},headingOverlay:{},captionOverlay:{},timers:[],slideshows:[],pendingOutlines:{},clones:{},onReady:[],uaVersion:/Trident\/4\.0/.test(navigator.userAgent)?8:parseFloat((navigator.userAgent.toLowerCase().match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1]),ie:document.all&&!window.opera,safari:/Safari/.test(navigator.userAgent),geckoMac:/Macintosh.+rv:1\.[0-8].+Gecko/.test(navigator.userAgent),$:function(a){if(a)return document.getElementById(a)},push:function(a,b){a[a.length]=b},createElement:function(a,b,c,d,e){a=document.createElement(a);b&&hs.extend(a,b);e&&hs.setStyles(a,{padding:0,border:"none",margin:0});c&&hs.setStyles(a,c);d&&d.appendChild(a);return a},extend:function(a,b){for(var c in b)a[c]=b[c];return a},setStyles:function(a,b){for(var c in b)hs.ieLt9&&"opacity"==c?0.99<b[c]?a.style.removeAttribute("filter"):a.style.filter="alpha(opacity="+100*b[c]+")":a.style[c]=b[c]},animate:function(a,b,c){var d,e,f;if("object"!=typeof c||null===c)d=arguments,c={duration:d[2],easing:d[3],complete:d[4]};"number"!=typeof c.duration&&(c.duration=250);c.easing=Math[c.easing]||Math.easeInQuad;c.curAnim=hs.extend({},b);for(var g in b){var k=new hs.fx(a,c,g);d=parseFloat(hs.css(a,g))||0;e=parseFloat(b[g]);f="opacity"!=g?"px":"";k.custom(d,e,f)}},css:function(a,b){if(a.style[b])return a.style[b];if(document.defaultView)return document.defaultView.getComputedStyle(a,null).getPropertyValue(b);"opacity"==b&&(b="filter");var c=a.currentStyle[b.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()})];"filter"==b&&(c=c.replace(/alpha\(opacity=([0-9]+)\)/,function(a,b){return b/100}));return""===c?1:c},getPageSize:function(){var a=document,b=a.compatMode&&"BackCompat"!=a.compatMode?a.documentElement:a.body,c=hs.ie&&(9>hs.uaVersion||"undefined"==typeof pageXOffset);hs.page={width:c?b.clientWidth:a.documentElement.clientWidth||self.innerWidth,height:c?b.clientHeight:self.innerHeight,scrollLeft:c?b.scrollLeft:pageXOffset,scrollTop:c?b.scrollTop:pageYOffset};return hs.page},getPosition:function(a){for(var b={x:a.offsetLeft,y:a.offsetTop};a.offsetParent;)a=a.offsetParent,b.x+=a.offsetLeft,b.y+=a.offsetTop,a!=document.body&&a!=document.documentElement&&(b.x-=a.scrollLeft,b.y-=a.scrollTop);return b},expand:function(a,b,c,d){a||(a=hs.createElement("a",null,{display:"none"},hs.container));if("function"==typeof a.getParams)return b;try{return new hs.Expander(a,b,c),!1}catch(e){return!0}},getElementByClass:function(a,b,c){a=a.getElementsByTagName(b);for(b=0;b<a.length;b++)if(RegExp(c).test(a[b].className))return a[b];return null},replaceLang:function(a){a=a.replace(/\s/g," ");var b=/{hs\.lang\.([^}]+)\}/g,c=a.match(b),d;if(c)for(var e=0;e<c.length;e++)d=c[e].replace(b,"$1"),"undefined"!=typeof hs.lang[d]&&(a=a.replace(c[e],hs.lang[d]));return a},setClickEvents:function(){for(var a=document.getElementsByTagName("a"),b=0;b<a.length;b++)hs.isUnobtrusiveAnchor(a[b])&&!a[b].hsHasSetClick&&(function(){a[b].onclick=function(){return hs.expand(this)}}(),a[b].hsHasSetClick=!0);hs.getAnchors()},isUnobtrusiveAnchor:function(a){if("highslide"==a.rel)return"image"},focusTopmost:function(){for(var a=0,b=-1,c=hs.expanders,d,e=0;e<c.length;e++)(d=c[e])&&(d=d.wrapper.style.zIndex)&&d>a&&(a=d,b=e);-1==b?hs.focusKey=-1:c[b].focus()},getParam:function(a,b){a.getParams=a.onclick;var c=a.getParams?a.getParams():null;a.getParams=null;return c&&"undefined"!=typeof c[b]?c[b]:"undefined"!=typeof hs[b]?hs[b]:null},getSrc:function(a){var b=hs.getParam(a,"src");return b?b:a.href},getNode:function(a){var b=hs.$(a),c=hs.clones[a];if(!b&&!c)return null;if(c)return c.cloneNode(!0);c=b.cloneNode(!0);c.id="";hs.clones[a]=c;return b},discardElement:function(a){a&&hs.garbageBin.appendChild(a);hs.garbageBin.innerHTML=""},dim:function(a){if(!hs.dimmer&&(c=!0,hs.dimmer=hs.createElement("div",{className:"highslide-dimming highslide-viewport-size",owner:"",onclick:function(){hs.close()}},{visibility:"visible",opacity:0},hs.container,!0),/(Android|iPad|iPhone|iPod)/.test(navigator.userAgent))){var b=document.body,c=function(){hs.setStyles(hs.dimmer,{width:b.scrollWidth+"px",height:b.scrollHeight+"px"})};c();hs.addEventListener(window,"resize",c)}hs.dimmer.style.display="";var c=""==hs.dimmer.owner;hs.dimmer.owner+="|"+a.key;c&&(hs.geckoMac&&hs.dimmingGeckoFix?hs.setStyles(hs.dimmer,{background:"url("+hs.graphicsDir+"geckodimmer.png)",opacity:1}):hs.animate(hs.dimmer,{opacity:a.dimmingOpacity},hs.dimmingDuration))},undim:function(a){hs.dimmer&&("undefined"!=typeof a&&(hs.dimmer.owner=hs.dimmer.owner.replace("|"+
a,"")),"undefined"!=typeof a&&""!=hs.dimmer.owner||hs.upcoming&&hs.getParam(hs.upcoming,"dimmingOpacity")||(hs.geckoMac&&hs.dimmingGeckoFix?hs.dimmer.style.display="none":hs.animate(hs.dimmer,{opacity:0},hs.dimmingDuration,null,function(){hs.dimmer.style.display="none"})))},transit:function(a,b){var c=b||hs.getExpander();b=c;if(hs.upcoming)return!1;hs.last=c;hs.removeEventListener(document,window.opera?"keypress":"keydown",hs.keyHandler);try{hs.upcoming=a,a.onclick()}catch(d){hs.last=hs.upcoming=null}try{a&&"crossfade"==b.transitions[1]||b.close()}catch(e){}return!1},previousOrNext:function(a,b){var c=hs.getExpander(a);return c?hs.transit(c.getAdjacentAnchor(b),c):!1},previous:function(a){return hs.previousOrNext(a,-1)},next:function(a){return hs.previousOrNext(a,1)},keyHandler:function(a){a||(a=window.event);a.target||(a.target=a.srcElement);if("undefined"!=typeof a.target.form)return!0;var b=hs.getExpander(),c=null;switch(a.keyCode){case 70:return b&&b.doFullExpand(),!0;case 32:c=2;break;case 34:case 39:case 40:c=1;break;case 8:case 33:case 37:case 38:c=-1;break;case 27:case 13:c=0}if(null!==c){2!=c&&hs.removeEventListener(document,window.opera?"keypress":"keydown",hs.keyHandler);if(!hs.enableKeyListener)return!0;a.preventDefault?a.preventDefault():a.returnValue=!1;if(b)return 0==c?b.close():2==c?b.slideshow&&b.slideshow.hitSpace():(b.slideshow&&b.slideshow.pause(),hs.previousOrNext(b.key,c)),!1}return!0},registerOverlay:function(a){hs.push(hs.overlays,hs.extend(a,{hsId:"hsId"+hs.idCounter++}))},addSlideshow:function(a){var b=a.slideshowGroup;if("object"==typeof b)for(var c=0;c<b.length;c++){var d={},e;for(e in a)d[e]=a[e];d.slideshowGroup=b[c];hs.push(hs.slideshows,d)}else hs.push(hs.slideshows,a)},getWrapperKey:function(a,b){var c,d=/^highslide-wrapper-([0-9]+)$/;for(c=a;c.parentNode;){if(void 0!==c.hsKey)return c.hsKey;if(c.id&&d.test(c.id))return c.id.replace(d,"$1");c=c.parentNode}if(!b)for(c=a;c.parentNode;){if(c.tagName&&hs.isHsAnchor(c))for(d=0;d<hs.expanders.length;d++){var e=hs.expanders[d];if(e&&e.a==c)return d}c=c.parentNode}return null},getExpander:function(a,b){if("undefined"==typeof a)return hs.expanders[hs.focusKey]||null;if("number"==typeof a)return hs.expanders[a]||null;"string"==typeof a&&(a=hs.$(a));return hs.expanders[hs.getWrapperKey(a,b)]||null},isHsAnchor:function(a){return a.onclick&&a.onclick.toString().replace(/\s/g," ").match(/hs.(htmlE|e)xpand/)},reOrder:function(){for(var a=0;a<hs.expanders.length;a++)hs.expanders[a]&&hs.expanders[a].isExpanded&&hs.focusTopmost()},mouseClickHandler:function(a){a||(a=window.event);if(1<a.button)return!0;a.target||(a.target=a.srcElement);for(var b=a.target;b.parentNode&&!/highslide-(image|move|html|resize)/.test(b.className);)b=b.parentNode;var c=hs.getExpander(b);if(c&&(c.isClosing||!c.isExpanded))return!0;if(c&&"mousedown"==a.type){if(a.target.form)return!0;if(b=b.className.match(/highslide-(image|move|resize)/))hs.dragArgs={exp:c,type:b[1],left:c.x.pos,width:c.x.size,top:c.y.pos,height:c.y.size,clickX:a.clientX,clickY:a.clientY},hs.addEventListener(document,"mousemove",hs.dragHandler),a.preventDefault&&a.preventDefault(),/highslide-(image|html)-blur/.test(c.content.className)&&(c.focus(),hs.hasFocused=!0)}else"mouseup"==a.type&&(hs.removeEventListener(document,"mousemove",hs.dragHandler),hs.dragArgs?(hs.styleRestoreCursor&&"image"==hs.dragArgs.type&&(hs.dragArgs.exp.content.style.cursor=hs.styleRestoreCursor),hs.dragArgs.hasDragged||hs.hasFocused||/(move|resize)/.test(hs.dragArgs.type)||c.close(),hs.hasFocused=!1,hs.dragArgs=null):/highslide-image-blur/.test(b.className)&&(b.style.cursor=hs.styleRestoreCursor));return!1},dragHandler:function(a){if(!hs.dragArgs)return!0;a||(a=window.event);var b=hs.dragArgs,c=b.exp;b.dX=a.clientX-b.clickX;b.dY=a.clientY-b.clickY;var d=Math.sqrt(Math.pow(b.dX,2)+Math.pow(b.dY,2));b.hasDragged||(b.hasDragged="image"!=b.type&&0<d||d>(hs.dragSensitivity||5));b.hasDragged&&5<a.clientX&&5<a.clientY&&("resize"==b.type?c.resize(b):(c.moveTo(b.left+b.dX,b.top+b.dY),"image"==b.type&&(c.content.style.cursor="move")));return!1},wrapperMouseHandler:function(a){try{a||(a=window.event);var b=/mouseover/i.test(a.type);a.target||(a.target=a.srcElement);a.relatedTarget||(a.relatedTarget=b?a.fromElement:a.toElement);var c=hs.getExpander(a.target);if(c.isExpanded&&c&&a.relatedTarget&&hs.getExpander(a.relatedTarget,!0)!=c&&!hs.dragArgs)for(a=0;a<c.overlays.length;a++){var d=hs.$("hsId"+c.overlays[a]);d&&d.hideOnMouseOut&&(b&&hs.setStyles(d,{visibility:"visible",display:""}),hs.animate(d,{opacity:b?d.opacity:0},d.dur))}}catch(e){}},addEventListener:function(a,b,c){a==document&&"ready"==b&&hs.push(hs.onReady,c);try{a.addEventListener(b,c,!1)}catch(d){try{a.detachEvent("on"+b,c),a.attachEvent("on"+b,c)}catch(e){a["on"+b]=c}}},removeEventListener:function(a,b,c){try{a.removeEventListener(b,c,!1)}catch(d){try{a.detachEvent("on"+b,c)}catch(e){a["on"+b]=null}}},init:function(){if(!hs.container){hs.ieLt7=hs.ie&&7>hs.uaVersion;hs.ieLt9=hs.ie&&9>hs.uaVersion;hs.getPageSize();for(var a in hs.langDefaults)"undefined"!=typeof hs[a]?hs.lang[a]=hs[a]:"undefined"==typeof hs.lang[a]&&"undefined"!=typeof hs.langDefaults[a]&&(hs.lang[a]=hs.langDefaults[a]);hs.container=hs.createElement("div",{className:"highslide-container"},{position:"absolute",left:0,top:0,width:"100%",zIndex:hs.zIndexCounter,direction:"ltr"},document.body,!0);hs.loading=hs.createElement("a",{className:"highslide-loading",title:hs.lang.loadingTitle,innerHTML:hs.lang.loadingText,href:"javascript:;"},{position:"absolute",top:"-9999px",opacity:hs.loadingOpacity,zIndex:1},hs.container);hs.garbageBin=hs.createElement("div",null,{display:"none"},hs.container);hs.viewport=hs.createElement("div",{className:"highslide-viewport highslide-viewport-size"},{visibility:hs.safari&&525>hs.uaVersion?"visible":"hidden"},hs.container,1);Math.linearTween=function(a,c,d,e){return d*a/e+c};Math.easeInQuad=function(a,c,d,e){return d*(a/=e)*a+c}}},ready:function(){if(!hs.isReady){hs.isReady=!0;for(var a=0;a<hs.onReady.length;a++)hs.onReady[a]()}},updateAnchors:function(){for(var a,b,c=[],d=[],e={},f,g=0;g<hs.openerTagNames.length;g++){b=document.getElementsByTagName(hs.openerTagNames[g]);for(var k=0;k<b.length;k++)if(a=b[k],f=hs.isHsAnchor(a))hs.push(c,a),"hs.expand"==f[0]&&hs.push(d,a),f=hs.getParam(a,"slideshowGroup")||"none",e[f]||(e[f]=[]),hs.push(e[f],a)}hs.anchors={all:c,groups:e,images:d};return hs.anchors},getAnchors:function(){return hs.anchors||hs.updateAnchors()},close:function(a){(a=hs.getExpander(a))&&a.close();return!1},fx:function(a,b,c){this.options=b;this.elem=a;this.prop=c;b.orig||(b.orig={})}};hs.fx.prototype={update:function(){(hs.fx.step[this.prop]||hs.fx.step._default)(this);this.options.step&&this.options.step.call(this.elem,this.now,this)},custom:function(a,b,c){function d(a){return e.step(a)}this.startTime=(new Date).getTime();this.start=a;this.end=b;this.unit=c;this.now=this.start;this.pos=this.state=0;var e=this;d.elem=this.elem;d()&&1==hs.timers.push(d)&&(hs.timerId=setInterval(function(){for(var a=hs.timers,b=0;b<a.length;b++)a[b]()||a.splice(b--,1);a.length||clearInterval(hs.timerId)},13))},step:function(a){var b=(new Date).getTime();if(a||b>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();a=this.options.curAnim[this.prop]=!0;for(var c in this.options.curAnim)!0!==this.options.curAnim[c]&&(a=!1);a&&this.options.complete&&this.options.complete.call(this.elem);return!1}c=b-this.startTime;this.state=c/this.options.duration;this.pos=this.options.easing(c,0,1,this.options.duration);this.now=this.start+
(this.end-this.start)*this.pos;this.update();return!0}};hs.extend(hs.fx,{step:{opacity:function(a){hs.setStyles(a.elem,{opacity:a.now})},_default:function(a){try{a.elem.style&&null!=a.elem.style[a.prop]?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}catch(b){}}}});hs.Outline=function(a,b){this.onLoad=b;this.outlineType=a;var c;this.hasAlphaImageLoader=hs.ie&&7>hs.uaVersion;if(a){hs.init();this.table=hs.createElement("table",{cellSpacing:0},{visibility:"hidden",position:"absolute",borderCollapse:"collapse",width:0},hs.container,!0);var d=hs.createElement("tbody",null,null,this.table,1);this.td=[];for(var e=0;8>=e;e++)0==e%3&&(c=hs.createElement("tr",null,{height:"auto"},d,!0)),this.td[e]=hs.createElement("td",null,null,c,!0),hs.setStyles(this.td[e],4!=e?{lineHeight:0,fontSize:0}:{position:"relative"});this.td[4].className=a+" highslide-outline";this.preloadGraphic()}else b&&b()};hs.Outline.prototype={preloadGraphic:function(){var a=hs.graphicsDir+(hs.outlinesDir||"outlines/")+this.outlineType+".png";this.graphic=hs.createElement("img",null,{position:"absolute",top:"-9999px"},hs.safari&&525>hs.uaVersion?hs.container:null,!0);var b=this;this.graphic.onload=function(){b.onGraphicLoad()};this.graphic.src=a},onGraphicLoad:function(){for(var a=this.offset=this.graphic.width/4,b=[[0,0],[0,-4],[-2,0],[0,-8],0,[-2,-8],[0,-2],[0,-6],[-2,-2]],c={height:2*a+"px",width:2*a+"px"},d=0;8>=d;d++)if(b[d]){if(this.hasAlphaImageLoader){var e=1==d||7==d?"100%":this.graphic.width+"px",f=hs.createElement("div",null,{width:"100%",height:"100%",position:"relative",overflow:"hidden"},this.td[d],!0);hs.createElement("div",null,{filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale, src='"+this.graphic.src+"')",position:"absolute",width:e,height:this.graphic.height+"px",left:b[d][0]*a+"px",top:b[d][1]*a+"px"},f,!0)}else hs.setStyles(this.td[d],{background:"url("+this.graphic.src+") "+b[d][0]*a+"px "+b[d][1]*a+"px"});!window.opera||3!=d&&5!=d||hs.createElement("div",null,c,this.td[d],!0);hs.setStyles(this.td[d],c)}this.graphic=null;hs.pendingOutlines[this.outlineType]&&hs.pendingOutlines[this.outlineType].destroy();hs.pendingOutlines[this.outlineType]=this;if(this.onLoad)this.onLoad()},setPosition:function(a,b,c,d,e){d=this.exp;b=b||0;a=a||{x:d.x.pos+b,y:d.y.pos+b,w:d.x.get("wsize")-2*b,h:d.y.get("wsize")-2*b};c&&(this.table.style.visibility=a.h>=4*this.offset?"visible":"hidden");hs.setStyles(this.table,{left:a.x-this.offset+"px",top:a.y-this.offset+"px",width:a.w+2*this.offset+"px"});a.w-=2*this.offset;a.h-=2*this.offset;hs.setStyles(this.td[4],{width:0<=a.w?a.w+"px":0,height:0<=a.h?a.h+"px":0});this.hasAlphaImageLoader&&(this.td[3].style.height=this.td[5].style.height=this.td[4].style.height)},destroy:function(a){a?this.table.style.visibility="hidden":hs.discardElement(this.table)}};hs.Dimension=function(a,b){this.exp=a;this.dim=b;this.ucwh="x"==b?"Width":"Height";this.wh=this.ucwh.toLowerCase();this.uclt="x"==b?"Left":"Top";this.lt=this.uclt.toLowerCase();this.ucrb="x"==b?"Right":"Bottom";this.rb=this.ucrb.toLowerCase();this.p1=this.p2=0};hs.Dimension.prototype={get:function(a){switch(a){case"loadingPos":return this.tpos+this.tb+(this.t-hs.loading["offset"+this.ucwh])/2;case"loadingPosXfade":return this.pos+this.cb+this.p1+(this.size-hs.loading["offset"+this.ucwh])/2;case"wsize":return this.size+2*this.cb+this.p1+this.p2;case"fitsize":return this.clientSize-this.marginMin-this.marginMax;case"maxsize":return this.get("fitsize")-2*this.cb-this.p1-this.p2;case"opos":return this.pos-(this.exp.outline?this.exp.outline.offset:0);case"osize":return this.get("wsize")+(this.exp.outline?2*this.exp.outline.offset:0);case"imgPad":return this.imgSize?Math.round((this.size-this.imgSize)/2):0}},calcBorders:function(){this.cb=(this.exp.content["offset"+this.ucwh]-this.t)/2;this.marginMax=hs["margin"+this.ucrb]},calcThumb:function(){this.t=this.exp.el[this.wh]?parseInt(this.exp.el[this.wh]):this.exp.el["offset"+this.ucwh];this.tpos=this.exp.tpos[this.dim];this.tb=(this.exp.el["offset"+this.ucwh]-this.t)/2;if(0==this.tpos||-1==this.tpos)this.tpos=hs.page[this.wh]/2+hs.page["scroll"+this.uclt]},calcExpanded:function(){var a=this.exp;this.justify="auto";"center"==a.align?this.justify="center":RegExp(this.lt).test(a.anchor)?this.justify=null:RegExp(this.rb).test(a.anchor)&&(this.justify="max");this.pos=this.tpos-this.cb+this.tb;this.maxHeight&&"x"==this.dim&&(a.maxWidth=Math.min(a.maxWidth||this.full,a.maxHeight*this.full/a.y.full));this.size=Math.min(this.full,a["max"+this.ucwh]||this.full);this.minSize=a.allowSizeReduction?Math.min(a["min"+this.ucwh],this.full):this.full;a.isImage&&a.useBox&&(this.size=a[this.wh],this.imgSize=this.full);"x"==this.dim&&hs.padToMinWidth&&(this.minSize=a.minWidth);this.target=a["target"+this.dim.toUpperCase()];this.marginMin=hs["margin"+this.uclt];this.scroll=hs.page["scroll"+this.uclt];this.clientSize=hs.page[this.wh]},setSize:function(a){var b=this.exp;b.isImage&&(b.useBox||hs.padToMinWidth)?(this.imgSize=a,this.size=Math.max(this.size,this.imgSize),b.content.style[this.lt]=this.get("imgPad")+"px"):this.size=a;b.content.style[this.wh]=a+"px";b.wrapper.style[this.wh]=this.get("wsize")+"px";b.outline&&b.outline.setPosition();"x"==this.dim&&b.overlayBox&&b.sizeOverlayBox(!0);"x"==this.dim&&b.slideshow&&b.isImage&&(a==this.full?b.slideshow.disable("full-expand"):b.slideshow.enable("full-expand"))},setPos:function(a){this.pos=a;this.exp.wrapper.style[this.lt]=a+"px";this.exp.outline&&this.exp.outline.setPosition()}};hs.Expander=function(a,b,c,d){if(document.readyState&&hs.ie&&!hs.isReady)hs.addEventListener(document,"ready",function(){new hs.Expander(a,b,c,d)});else{this.a=a;this.custom=c;this.contentType=d||"image";this.isImage=!this.isHtml;this.overlays=[];this.last=hs.last;hs.last=null;hs.init();for(var e=this.key=hs.expanders.length,f=0;f<hs.overrides.length;f++){var g=hs.overrides[f];this[g]=b&&"undefined"!=typeof b[g]?b[g]:hs[g]}this.src||(this.src=a.href);g=b&&b.thumbnailId?hs.$(b.thumbnailId):a;g=this.thumb=g.getElementsByTagName("img")[0]||g;this.thumbsUserSetId=g.id||a.id;for(f=0;f<hs.expanders.length;f++)if(hs.expanders[f]&&hs.expanders[f].a==a&&(!this.last||"crossfade"!=this.transitions[1]))return hs.expanders[f].focus(),!1;if(!hs.allowSimultaneousLoading)for(f=0;f<hs.expanders.length;f++)hs.expanders[f]&&hs.expanders[f].thumb!=g&&!hs.expanders[f].onLoadStarted&&hs.expanders[f].cancelLoading();hs.expanders[e]=this;hs.allowMultipleInstances||hs.upcoming||(hs.expanders[e-1]&&hs.expanders[e-1].close(),"undefined"!=typeof hs.focusKey&&hs.expanders[hs.focusKey]&&hs.expanders[hs.focusKey].close());this.el=g;this.tpos=this.pageOrigin||hs.getPosition(g);hs.getPageSize();(this.x=new hs.Dimension(this,"x")).calcThumb();(this.y=new hs.Dimension(this,"y")).calcThumb();this.wrapper=hs.createElement("div",{id:"highslide-wrapper-"+this.key,className:"highslide-wrapper "+this.wrapperClassName},{visibility:"hidden",position:"absolute",zIndex:hs.zIndexCounter+=2},null,!0);this.wrapper.onmouseover=this.wrapper.onmouseout=hs.wrapperMouseHandler;"image"==this.contentType&&2==this.outlineWhileAnimating&&(this.outlineWhileAnimating=0);if(!this.outlineType||this.last&&this.isImage&&"crossfade"==this.transitions[1])this[this.contentType+"Create"]();else if(hs.pendingOutlines[this.outlineType])this.connectOutline(),this[this.contentType+"Create"]();else{this.showLoading();var k=this;new hs.Outline(this.outlineType,function(){k.connectOutline();k[k.contentType+"Create"]()})}return!0}};hs.Expander.prototype={error:function(a){hs.debug?alert("Line "+a.lineNumber+": "+a.message):window.location.href=this.src},connectOutline:function(){var a=this.outline=hs.pendingOutlines[this.outlineType];a.exp=this;a.table.style.zIndex=this.wrapper.style.zIndex-1;hs.pendingOutlines[this.outlineType]=null},showLoading:function(){if(!this.onLoadStarted&&!this.loading){this.loading=hs.loading;var a=this;this.loading.onclick=function(){a.cancelLoading()};var a=this,b=this.x.get("loadingPos")+"px",c=this.y.get("loadingPos")+"px";if(!d&&this.last&&"crossfade"==this.transitions[1])var d=this.last;d&&(b=d.x.get("loadingPosXfade")+"px",c=d.y.get("loadingPosXfade")+"px",this.loading.style.zIndex=hs.zIndexCounter++);setTimeout(function(){a.loading&&hs.setStyles(a.loading,{left:b,top:c,zIndex:hs.zIndexCounter++})},100)}},imageCreate:function(){var a=this,b=document.createElement("img");this.content=b;b.onload=function(){hs.expanders[a.key]&&a.contentLoaded()};hs.blockRightClick&&(b.oncontextmenu=function(){return!1});b.className="highslide-image";hs.setStyles(b,{visibility:"hidden",display:"block",position:"absolute",maxWidth:"9999px",zIndex:3});b.title=hs.lang.restoreTitle;hs.safari&&525>hs.uaVersion&&hs.container.appendChild(b);hs.ie&&hs.flushImgSize&&(b.src=null);b.src=this.src;this.showLoading()},contentLoaded:function(){try{if(this.content&&(this.content.onload=null,!this.onLoadStarted)){this.onLoadStarted=!0;var a=this.x,b=this.y;this.loading&&(hs.setStyles(this.loading,{top:"-9999px"}),this.loading=null);a.full=this.content.width;b.full=this.content.height;hs.setStyles(this.content,{width:a.t+"px",height:b.t+"px"});this.wrapper.appendChild(this.content);hs.container.appendChild(this.wrapper);a.calcBorders();b.calcBorders();hs.setStyles(this.wrapper,{left:a.tpos+a.tb-a.cb+"px",top:b.tpos+a.tb-b.cb+"px"});this.initSlideshow();this.getOverlays();var c=a.full/b.full;a.calcExpanded();this.justify(a);b.calcExpanded();this.justify(b);this.overlayBox&&this.sizeOverlayBox(0,1);if(this.allowSizeReduction){this.correctRatio(c);var d=this.slideshow;if(d&&this.last&&d.controls&&d.fixedControls){var e=d.overlayOptions.position||"",f,g;for(g in hs.oPos)for(a=0;5>a;a++)f=this[g],e.match(hs.oPos[g][a])&&(f.pos=this.last[g].pos+(this.last[g].p1-f.p1)+(this.last[g].size-f.size)*[0,0,0.5,1,1][a],"fit"==d.fixedControls&&(f.pos+f.size+f.p1+f.p2>f.scroll+f.clientSize-f.marginMax&&(f.pos=f.scroll+f.clientSize-f.size-f.marginMin-f.marginMax-f.p1-f.p2),f.pos<f.scroll+f.marginMin&&(f.pos=f.scroll+f.marginMin)))}this.isImage&&this.x.full>(this.x.imgSize||this.x.size)&&(this.createFullExpand(),1==this.overlays.length&&this.sizeOverlayBox())}this.show()}}catch(k){this.error(k)}},justify:function(a,b){var c,d=a.target,e=a==this.x?"x":"y";d&&d.match(/ /)&&(c=d.split(" "),d=c[0]);if(d&&hs.$(d))a.pos=hs.getPosition(hs.$(d))[e],c&&c[1]&&c[1].match(/^[-]?[0-9]+px$/)&&(a.pos+=parseInt(c[1])),a.size<a.minSize&&(a.size=a.minSize);else if("auto"==a.justify||"center"==a.justify){c=!1;var f=a.exp.allowSizeReduction;a.pos="center"==a.justify?Math.round(a.scroll+(a.clientSize+a.marginMin-a.marginMax-a.get("wsize"))/2):Math.round(a.pos-
(a.get("wsize")-a.t)/2);a.pos<a.scroll+a.marginMin&&(a.pos=a.scroll+a.marginMin,c=!0);!b&&a.size<a.minSize&&(a.size=a.minSize,f=!1);a.pos+a.get("wsize")>a.scroll+a.clientSize-a.marginMax&&(!b&&c&&f?a.size=Math.min(a.size,a.get("y"==e?"fitsize":"maxsize")):a.get("wsize")<a.get("fitsize")?a.pos=a.scroll+a.clientSize-a.marginMax-a.get("wsize"):(a.pos=a.scroll+a.marginMin,!b&&f&&(a.size=a.get("y"==e?"fitsize":"maxsize"))));!b&&a.size<a.minSize&&(a.size=a.minSize,f=!1)}else"max"==a.justify&&(a.pos=Math.floor(a.pos-
a.size+a.t));a.pos<a.marginMin&&(e=a.pos,a.pos=a.marginMin,f&&!b&&(a.size-=a.pos-e))},correctRatio:function(a){var b=this.x,c=this.y,d=!1,e=Math.min(b.full,b.size),f=Math.min(c.full,c.size),g=this.useBox||hs.padToMinWidth;e/f>a?(e=f*a,e<b.minSize&&(e=b.minSize,f=e/a),d=!0):e/f<a&&(f=e/a,d=!0);hs.padToMinWidth&&b.full<b.minSize?(b.imgSize=b.full,c.size=c.imgSize=c.full):this.useBox?(b.imgSize=e,c.imgSize=f):(b.size=e,c.size=f);d=this.fitOverlayBox(this.useBox?null:a,d);g&&c.size<c.imgSize&&(c.imgSize=c.size,b.imgSize=c.size*a);if(d||g)b.pos=b.tpos-b.cb+b.tb,b.minSize=b.size,this.justify(b,!0),c.pos=c.tpos-c.cb+c.tb,c.minSize=c.size,this.justify(c,!0),this.overlayBox&&this.sizeOverlayBox()},fitOverlayBox:function(a,b){var c=this.x,d=this.y;if(this.overlayBox)for(;d.size>this.minHeight&&c.size>this.minWidth&&d.get("wsize")>d.get("fitsize");)d.size-=10,a&&(c.size=d.size*a),this.sizeOverlayBox(0,1),b=!0;return b},show:function(){var a=this.x,b=this.y;this.changeSize(1,{wrapper:{width:a.get("wsize"),height:b.get("wsize"),left:a.pos,top:b.pos},content:{left:a.p1+a.get("imgPad"),top:b.p1+b.get("imgPad"),width:a.imgSize||a.size,height:b.imgSize||b.size}},hs.expandDuration)},changeSize:function(a,b,c){var d=this.transitions,e=a?this.last?this.last.a:null:hs.upcoming,d=d[1]&&e&&hs.getParam(e,"transitions")[1]==d[1]?d[1]:d[0];if(this[d]&&"expand"!=d)this[d](a,b);else{this.outline&&!this.outlineWhileAnimating&&(a?this.outline.setPosition():this.outline.destroy());a||this.destroyOverlays();var f=this,g=f.x,k=f.y,d=this.easing;a||(d=this.easingClose||d);e=a?function(){f.outline&&(f.outline.table.style.visibility="visible");setTimeout(function(){f.afterExpand()},50)}:function(){f.afterClose()};a&&hs.setStyles(this.wrapper,{width:g.t+"px",height:k.t+"px"});this.fadeInOut&&(hs.setStyles(this.wrapper,{opacity:a?0:1}),hs.extend(b.wrapper,{opacity:a}));hs.animate(this.wrapper,b.wrapper,{duration:c,easing:d,step:function(b,c){if(f.outline&&f.outlineWhileAnimating&&"top"==c.prop){var d=a?c.pos:1-c.pos,d={w:g.t+(g.get("wsize")-g.t)*d,h:k.t+(k.get("wsize")-k.t)*d,x:g.tpos+(g.pos-g.tpos)*d,y:k.tpos+(k.pos-k.tpos)*d};f.outline.setPosition(d,0,1)}}});hs.animate(this.content,b.content,c,d,e);a&&(this.wrapper.style.visibility="visible",this.content.style.visibility="visible",this.a.className+=" highslide-active-anchor")}},fade:function(a,b){this.outlineWhileAnimating=!1;var c=this,d=a?hs.expandDuration:0;a&&(hs.animate(this.wrapper,b.wrapper,0),hs.setStyles(this.wrapper,{opacity:0,visibility:"visible"}),hs.animate(this.content,b.content,0),this.content.style.visibility="visible",hs.animate(this.wrapper,{opacity:1},d,null,function(){c.afterExpand()}));if(this.outline){this.outline.table.style.zIndex=this.wrapper.style.zIndex;for(var e=a||-1,f=this.outline.offset,g=a?3:f,k=a?f:3,l=g;e*l<=e*k;l+=e,d+=25)(function(){var b=a?k-l:g-l;setTimeout(function(){c.outline.setPosition(0,b,1)},d)})()}a||setTimeout(function(){c.outline&&c.outline.destroy(c.preserveContent);c.destroyOverlays();hs.animate(c.wrapper,{opacity:0},hs.restoreDuration,null,function(){c.afterClose()})},d)},crossfade:function(a,b,c){if(a){var d=this,e=this.last,f=this.x,g=this.y,k=e.x,l=e.y,r=this.wrapper,t=this.content,m=this.overlayBox;hs.removeEventListener(document,"mousemove",hs.dragHandler);hs.setStyles(t,{width:(f.imgSize||f.size)+"px",height:(g.imgSize||g.size)+"px"});m&&(m.style.overflow="visible");if(this.outline=e.outline)this.outline.exp=d;e.outline=null;var s=hs.createElement("div",{className:"highslide-"+this.contentType},{position:"absolute",zIndex:4,overflow:"hidden",display:"none"});a={oldImg:e,newImg:this};for(var n in a)this[n]=a[n].content.cloneNode(1),hs.setStyles(this[n],{position:"absolute",border:0,visibility:"visible"}),s.appendChild(this[n]);r.appendChild(s);m&&(m.className="",r.appendChild(m));s.style.display="";e.content.style.display="none";hs.safari&&525>hs.uaVersion&&(this.wrapper.style.visibility="visible");hs.animate(r,{width:f.size},{duration:hs.transitionDuration,step:function(a,b){var c=b.pos,q=1-c,p,h={},n=["pos","size","p1","p2"],u;for(u in n)p=n[u],h["x"+p]=Math.round(q*k[p]+c*f[p]),h["y"+p]=Math.round(q*l[p]+c*g[p]),h.ximgSize=Math.round(q*(k.imgSize||k.size)+c*(f.imgSize||f.size)),h.ximgPad=Math.round(q*k.get("imgPad")+c*f.get("imgPad")),h.yimgSize=Math.round(q*(l.imgSize||l.size)+c*(g.imgSize||g.size)),h.yimgPad=Math.round(q*l.get("imgPad")+c*g.get("imgPad"));d.outline&&d.outline.setPosition({x:h.xpos,y:h.ypos,w:h.xsize+h.xp1+h.xp2+2*f.cb,h:h.ysize+h.yp1+h.yp2+2*g.cb});e.wrapper.style.clip="rect("+(h.ypos-l.pos)+"px, "+(h.xsize+h.xp1+h.xp2+h.xpos+2*k.cb-k.pos)+"px, "+(h.ysize+h.yp1+h.yp2+h.ypos+2*l.cb-l.pos)+"px, "+(h.xpos-k.pos)+"px)";hs.setStyles(t,{top:h.yp1+g.get("imgPad")+"px",left:h.xp1+f.get("imgPad")+"px",marginTop:g.pos-h.ypos+"px",marginLeft:f.pos-h.xpos+"px"});hs.setStyles(r,{top:h.ypos+"px",left:h.xpos+"px",width:h.xp1+h.xp2+h.xsize+2*f.cb+"px",height:h.yp1+h.yp2+h.ysize+2*g.cb+"px"});hs.setStyles(s,{width:(h.ximgSize||h.xsize)+"px",height:(h.yimgSize||h.ysize)+"px",left:h.xp1+
h.ximgPad+"px",top:h.yp1+h.yimgPad+"px",visibility:"visible"});hs.setStyles(d.oldImg,{top:l.pos-h.ypos+l.p1-h.yp1+l.get("imgPad")-h.yimgPad+"px",left:k.pos-h.xpos+k.p1-h.xp1+k.get("imgPad")-h.ximgPad+"px"});hs.setStyles(d.newImg,{opacity:c,top:g.pos-h.ypos+g.p1-h.yp1+g.get("imgPad")-h.yimgPad+"px",left:f.pos-h.xpos+f.p1-h.xp1+f.get("imgPad")-h.ximgPad+"px"});m&&hs.setStyles(m,{width:h.xsize+"px",height:h.ysize+"px",left:h.xp1+f.cb+"px",top:h.yp1+g.cb+"px"})},complete:function(){r.style.visibility=t.style.visibility="visible";t.style.display="block";hs.discardElement(s);d.afterExpand();e.afterClose();d.last=null}})}},reuseOverlay:function(a,b){if(!this.last)return!1;for(var c=0;c<this.last.overlays.length;c++){var d=hs.$("hsId"+this.last.overlays[c]);if(d&&d.hsId==a.hsId)return this.genOverlayBox(),d.reuse=this.key,hs.push(this.overlays,this.last.overlays[c]),!0}return!1},afterExpand:function(){this.isExpanded=!0;this.focus();this.dimmingOpacity&&hs.dim(this);hs.upcoming&&hs.upcoming==this.a&&(hs.upcoming=null);this.prepareNextOutline();var a=hs.page,b=hs.mouse.x+a.scrollLeft,a=hs.mouse.y+a.scrollTop;this.mouseIsOver=this.x.pos<b&&b<this.x.pos+this.x.get("wsize")&&this.y.pos<a&&a<this.y.pos+this.y.get("wsize");this.overlayBox&&this.showOverlays()},prepareNextOutline:function(){new hs.Outline(this.outlineType)},getAdjacentAnchor:function(a){var b=this.getAnchorIndex(),c=hs.anchors.groups[this.slideshowGroup||"none"];if(c&&!c[b+a]&&this.slideshow&&this.slideshow.repeat){if(1==a)return c[0];if(-1==a)return c[c.length-1]}return c&&c[b+a]||null},getAnchorIndex:function(){var a=hs.getAnchors().groups[this.slideshowGroup||"none"];if(a)for(var b=0;b<a.length;b++)if(a[b]==this.a)return b;return null},getNumber:function(){if(this[this.numberPosition]){var a=hs.anchors.groups[this.slideshowGroup||"none"];a&&(a=hs.lang.number.replace("%1",this.getAnchorIndex()+1).replace("%2",a.length),this[this.numberPosition].innerHTML='<div class="highslide-number">'+a+"</div>"+this[this.numberPosition].innerHTML)}},initSlideshow:function(){if(this.last)this.slideshow=this.last.slideshow;else for(var a=0;a<hs.slideshows.length;a++){var b=hs.slideshows[a],c=b.slideshowGroup;if("undefined"==typeof c||null===c||c===this.slideshowGroup)this.slideshow=new hs.Slideshow(this.key,b)}if(b=this.slideshow){var d=b.expKey=this.key;b.checkFirstAndLast();b.disable("full-expand");b.controls&&this.createOverlay(hs.extend(b.overlayOptions||{},{overlayId:b.controls,hsId:"controls",zIndex:5}));!this.last&&this.autoplay&&b.play(!0);b.autoplay&&(b.autoplay=setTimeout(function(){hs.next(d)},b.interval||500))}},cancelLoading:function(){hs.discardElement(this.wrapper);hs.expanders[this.key]=null;hs.upcoming==this.a&&(hs.upcoming=null);hs.undim(this.key);this.loading&&(hs.loading.style.left="-9999px")},writeCredits:function(){this.credits||(this.credits=hs.createElement("a",{href:hs.creditsHref,target:hs.creditsTarget,className:"highslide-credits",innerHTML:hs.lang.creditsText,title:hs.lang.creditsTitle}),this.createOverlay({overlayId:this.credits,position:this.creditsPosition||"top left",hsId:"credits"}))},getInline:function(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=null;!this[d+"Id"]&&this.thumbsUserSetId&&(this[d+"Id"]=d+"-for-"+this.thumbsUserSetId);this[d+"Id"]&&(this[d]=hs.getNode(this[d+"Id"]));if(!this[d]&&!this[d+"Text"]&&this[d+"Eval"])try{e=eval(this[d+"Eval"])}catch(f){}!this[d]&&this[d+"Text"]&&(e=this[d+"Text"]);if(!this[d]&&!e&&(this[d]=hs.getNode(this.a["_"+d+"Id"]),!this[d]))for(var g=this.a.nextSibling;g&&!hs.isHsAnchor(g);){if(RegExp("highslide-"+
d).test(g.className||null)){g.id||(this.a["_"+d+"Id"]=g.id="hsId"+hs.idCounter++);this[d]=hs.getNode(g.id);break}g=g.nextSibling}this[d]||e||this.numberPosition!=d||(e="\n");!this[d]&&e&&(this[d]=hs.createElement("div",{className:"highslide-"+d,innerHTML:e}));if(b&&this[d]){var e={position:"heading"==d?"above":"below"},k;for(k in this[d+"Overlay"])e[k]=this[d+"Overlay"][k];e.overlayId=this[d];this.createOverlay(e)}}},focus:function(){this.wrapper.style.zIndex=hs.zIndexCounter+=2;for(var a=0;a<hs.expanders.length;a++)if(hs.expanders[a]&&a==hs.focusKey){var b=hs.expanders[a];b.content.className+=" highslide-"+b.contentType+"-blur";b.content.style.cursor=hs.ieLt7?"hand":"pointer";b.content.title=hs.lang.focusTitle}this.outline&&(this.outline.table.style.zIndex=this.wrapper.style.zIndex-1);this.content.className="highslide-"+this.contentType;this.content.title=hs.lang.restoreTitle;hs.restoreCursor&&(hs.styleRestoreCursor=window.opera?"pointer":"url("+hs.graphicsDir+hs.restoreCursor+"), pointer",hs.ieLt7&&6>hs.uaVersion&&(hs.styleRestoreCursor="hand"),this.content.style.cursor=hs.styleRestoreCursor);hs.focusKey=this.key;hs.addEventListener(document,window.opera?"keypress":"keydown",hs.keyHandler)},moveTo:function(a,b){this.x.setPos(a);this.y.setPos(b)},resize:function(a){var b,c=a.width/a.height;a=Math.max(a.width+a.dX,Math.min(this.minWidth,this.x.full));this.isImage&&12>Math.abs(a-this.x.full)&&(a=this.x.full);b=a/c;b<Math.min(this.minHeight,this.y.full)&&(b=Math.min(this.minHeight,this.y.full),this.isImage&&(a=b*c));this.resizeTo(a,b)},resizeTo:function(a,b){this.y.setSize(b);this.x.setSize(a);this.wrapper.style.height=this.y.get("wsize")+"px"},close:function(){if(!this.isClosing&&this.isExpanded){"crossfade"==this.transitions[1]&&hs.upcoming&&(hs.getExpander(hs.upcoming).cancelLoading(),hs.upcoming=null);this.isClosing=!0;this.slideshow&&!hs.upcoming&&this.slideshow.pause();hs.removeEventListener(document,window.opera?"keypress":"keydown",hs.keyHandler);try{this.content.style.cursor="default",this.changeSize(0,{wrapper:{width:this.x.t,height:this.y.t,left:this.x.tpos-this.x.cb+this.x.tb,top:this.y.tpos-this.y.cb+this.y.tb},content:{left:0,top:0,width:this.x.t,height:this.y.t}},hs.restoreDuration)}catch(a){this.afterClose()}}},createOverlay:function(a){var b=a.overlayId,c="viewport"==a.relativeTo&&!/panel$/.test(a.position);"string"==typeof b&&(b=hs.getNode(b));a.html&&(b=hs.createElement("div",{innerHTML:a.html}));if(b&&"string"!=typeof b&&(b.style.display="block",a.hsId=a.hsId||a.overlayId,"crossfade"!=this.transitions[1]||!this.reuseOverlay(a,b))){this.genOverlayBox();var d=a.width&&/^[0-9]+(px|%)$/.test(a.width)?a.width:"auto";/^(left|right)panel$/.test(a.position)&&!/^[0-9]+px$/.test(a.width)&&(d="200px");d=hs.createElement("div",{id:"hsId"+hs.idCounter++,hsId:a.hsId},{position:"absolute",visibility:"hidden",width:d,direction:hs.lang.cssDirection||"",opacity:0},c?hs.viewport:this.overlayBox,!0);c&&(d.hsKey=this.key);d.appendChild(b);hs.extend(d,{opacity:1,offsetX:0,offsetY:0,dur:0===a.fade||!1===a.fade||2==a.fade&&hs.ie?0:250});hs.extend(d,a);this.gotOverlays&&(this.positionOverlay(d),d.hideOnMouseOut&&!this.mouseIsOver||hs.animate(d,{opacity:d.opacity},d.dur));hs.push(this.overlays,hs.idCounter-1)}},positionOverlay:function(a){var b=a.position||"middle center",c="viewport"==a.relativeTo,d=a.offsetX,e=a.offsetY;c?(hs.viewport.style.display="block",a.hsKey=this.key,a.offsetWidth>a.parentNode.offsetWidth&&(a.style.width="100%")):a.parentNode!=this.overlayBox&&this.overlayBox.appendChild(a);/left$/.test(b)&&(a.style.left=d+"px");/center$/.test(b)&&hs.setStyles(a,{left:"50%",marginLeft:d-Math.round(a.offsetWidth/2)+"px"});/right$/.test(b)&&(a.style.right=-d+"px");/^leftpanel$/.test(b)?(hs.setStyles(a,{right:"100%",marginRight:this.x.cb+"px",top:-this.y.cb+"px",bottom:-this.y.cb+"px",overflow:"auto"}),this.x.p1=a.offsetWidth):/^rightpanel$/.test(b)&&(hs.setStyles(a,{left:"100%",marginLeft:this.x.cb+"px",top:-this.y.cb+"px",bottom:-this.y.cb+"px",overflow:"auto"}),this.x.p2=a.offsetWidth);d=a.parentNode.offsetHeight;a.style.height="auto";c&&a.offsetHeight>d&&(a.style.height=hs.ieLt7?d+"px":"100%");/^top/.test(b)&&(a.style.top=e+"px");/^middle/.test(b)&&hs.setStyles(a,{top:"50%",marginTop:e-Math.round(a.offsetHeight/2)+"px"});/^bottom/.test(b)&&(a.style.bottom=-e+"px");/^above$/.test(b)?(hs.setStyles(a,{left:-this.x.p1-this.x.cb+"px",right:-this.x.p2-this.x.cb+"px",bottom:"100%",marginBottom:this.y.cb+"px",width:"auto"}),this.y.p1=a.offsetHeight):/^below$/.test(b)&&(hs.setStyles(a,{position:"relative",left:-this.x.p1-this.x.cb+"px",right:-this.x.p2-
this.x.cb+"px",top:"100%",marginTop:this.y.cb+"px",width:"auto"}),this.y.p2=a.offsetHeight,a.style.position="absolute")},getOverlays:function(){this.getInline(["heading","caption"],!0);this.getNumber();this.heading&&this.dragByHeading&&(this.heading.className+=" highslide-move");hs.showCredits&&this.writeCredits();for(var a=0;a<hs.overlays.length;a++){var b=hs.overlays[a],c=b.thumbnailId,d=b.slideshowGroup;(!c&&!d||c&&c==this.thumbsUserSetId||d&&d===this.slideshowGroup)&&this.createOverlay(b)}c=[];for(a=0;a<this.overlays.length;a++)b=hs.$("hsId"+this.overlays[a]),/panel$/.test(b.position)?this.positionOverlay(b):hs.push(c,b);for(a=0;a<c.length;a++)this.positionOverlay(c[a]);this.gotOverlays=!0},genOverlayBox:function(){this.overlayBox||(this.overlayBox=hs.createElement("div",{className:this.wrapperClassName},{position:"absolute",width:(this.x.size||(this.useBox?this.width:null)||this.x.full)+"px",height:(this.y.size||this.y.full)+"px",visibility:"hidden",overflow:"hidden",zIndex:hs.ie?4:"auto"},hs.container,!0))},sizeOverlayBox:function(a,b){var c=this.overlayBox,d=this.x,e=this.y;hs.setStyles(c,{width:d.size+"px",height:e.size+"px"});if(a||b)for(var f=0;f<this.overlays.length;f++){var g=hs.$("hsId"+this.overlays[f]),k=hs.ieLt7||"BackCompat"==document.compatMode;g&&/^(above|below)$/.test(g.position)&&(k&&(g.style.width=c.offsetWidth+2*d.cb+d.p1+d.p2+"px"),e["above"==g.position?"p1":"p2"]=g.offsetHeight);g&&k&&/^(left|right)panel$/.test(g.position)&&(g.style.height=c.offsetHeight+2*e.cb+"px")}a&&(hs.setStyles(this.content,{top:e.p1+"px"}),hs.setStyles(c,{top:e.p1+e.cb+"px"}))},showOverlays:function(){var a=this.overlayBox;a.className="";hs.setStyles(a,{top:this.y.p1+this.y.cb+"px",left:this.x.p1+this.x.cb+"px",overflow:"visible"});hs.safari&&(a.style.visibility="visible");this.wrapper.appendChild(a);for(a=0;a<this.overlays.length;a++){var b=hs.$("hsId"+this.overlays[a]);b.style.zIndex=b.zIndex||4;if(!b.hideOnMouseOut||this.mouseIsOver)b.style.visibility="visible",hs.setStyles(b,{visibility:"visible",display:""}),hs.animate(b,{opacity:b.opacity},b.dur)}},destroyOverlays:function(){if(this.overlays.length){if(this.slideshow){var a=this.slideshow.controls;a&&hs.getExpander(a)==this&&a.parentNode.removeChild(a)}for(a=0;a<this.overlays.length;a++){var b=hs.$("hsId"+this.overlays[a]);b&&b.parentNode==hs.viewport&&hs.getExpander(b)==this&&hs.discardElement(b)}hs.discardElement(this.overlayBox)}},createFullExpand:function(){this.slideshow&&this.slideshow.controls?this.slideshow.enable("full-expand"):(this.fullExpandLabel=hs.createElement("a",{href:"javascript:hs.expanders["+this.key+"].doFullExpand();",title:hs.lang.fullExpandTitle,className:"highslide-full-expand"}),this.createOverlay({overlayId:this.fullExpandLabel,position:hs.fullExpandPosition,hideOnMouseOut:!0,opacity:hs.fullExpandOpacity}))},doFullExpand:function(){try{this.fullExpandLabel&&hs.discardElement(this.fullExpandLabel);this.focus();var a=this.x.size,b=this.y.size;this.resizeTo(this.x.full,this.y.full);var c=this.x.pos-(this.x.size-
a)/2;c<hs.marginLeft&&(c=hs.marginLeft);var d=this.y.pos-(this.y.size-b)/2;d<hs.marginTop&&(d=hs.marginTop);this.moveTo(c,d)}catch(e){this.error(e)}},afterClose:function(){this.a.className=this.a.className.replace("highslide-active-anchor","");this.outline&&this.outlineWhileAnimating&&this.outline.destroy();hs.discardElement(this.wrapper);this.destroyOverlays();hs.viewport.childNodes.length||(hs.viewport.style.display="none");this.dimmingOpacity&&hs.undim(this.key);hs.expanders[this.key]=null;hs.reOrder()}};hs.Slideshow=function(a,b){!1!==hs.dynamicallyUpdateAnchors&&hs.updateAnchors();this.expKey=a;for(var c in b)this[c]=b[c];this.useControls&&this.getControls()};hs.Slideshow.prototype={getControls:function(){this.controls=hs.createElement("div",{innerHTML:hs.replaceLang(hs.skin.controls)},null,hs.container);var a="play pause previous next move full-expand close".split(" ");this.btn={};for(var b=0;b<a.length;b++)this.btn[a[b]]=hs.getElementByClass(this.controls,"li","highslide-"+a[b]),this.enable(a[b]);this.btn.pause.style.display="none"},checkFirstAndLast:function(){if(!this.repeat&&this.controls){var a=hs.expanders[this.expKey],b=a.getAnchorIndex(),c=/disabled$/;0==b?this.disable("previous"):c.test(this.btn.previous.getElementsByTagName("a")[0].className)&&this.enable("previous");b+1==hs.anchors.groups[a.slideshowGroup||"none"].length?(this.disable("next"),this.disable("play")):c.test(this.btn.next.getElementsByTagName("a")[0].className)&&(this.enable("next"),this.enable("play"))}},enable:function(a){if(this.btn){var b=this,c=this.btn[a].getElementsByTagName("a")[0],d=/disabled$/;c.onclick=function(){b[a]();return!1};d.test(c.className)&&(c.className=c.className.replace(d,""))}},disable:function(a){this.btn&&(a=this.btn[a].getElementsByTagName("a")[0],a.onclick=function(){return!1},/disabled$/.test(a.className)||(a.className+=" disabled"))},hitSpace:function(){this.autoplay?this.pause():this.play()},play:function(a){this.btn&&(this.btn.play.style.display="none",this.btn.pause.style.display="");this.autoplay=!0;a||hs.next(this.expKey)},pause:function(){this.btn&&(this.btn.pause.style.display="none",this.btn.play.style.display="");clearTimeout(this.autoplay);this.autoplay=null},previous:function(){this.pause();hs.previous(this.btn.previous)},next:function(){this.pause();hs.next(this.btn.next)},move:function(){},"full-expand":function(){hs.getExpander().doFullExpand()},close:function(){hs.close(this.btn.close)}};hs.langDefaults=hs.lang;var HsExpander=hs.Expander;hs.ie&&window==window.top&&function(){try{document.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,50);return}hs.ready()}();hs.addEventListener(document,"DOMContentLoaded",hs.ready);hs.addEventListener(window,"load",hs.ready);hs.addEventListener(document,"ready",function(){if(hs.expandCursor||hs.dimmingOpacity){var a=hs.createElement("style",{type:"text/css"},null,document.getElementsByTagName("HEAD")[0]),b="BackCompat"==document.compatMode,c=function(c,d){if(hs.ie&&(9>hs.uaVersion||b)){var g=document.styleSheets[document.styleSheets.length-1];"object"==typeof g.addRule&&g.addRule(c,d)}else a.appendChild(document.createTextNode(c+" {"+d+"}"))},d=function(a){return"expression( ( ( ignoreMe = document.documentElement."+a+" ? document.documentElement."+a+" : document.body."+a+" ) ) + 'px' );"};hs.expandCursor&&c(".highslide img","cursor: url("+hs.graphicsDir+hs.expandCursor+"), pointer !important;");c(".highslide-viewport-size",hs.ie&&(7>hs.uaVersion||b)?"position: absolute; left:"+d("scrollLeft")+"top:"+d("scrollTop")+"width:"+d("clientWidth")+"height:"+d("clientHeight"):"position: fixed; width: 100%; height: 100%; left: 0; top: 0")}});hs.addEventListener(window,"resize",function(){hs.getPageSize();if(hs.viewport)for(var a=0;a<hs.viewport.childNodes.length;a++){var b=hs.viewport.childNodes[a];hs.getExpander(b).positionOverlay(b)}});hs.addEventListener(document,"mousemove",function(a){hs.mouse={x:a.clientX,y:a.clientY}});hs.addEventListener(document,"mousedown",hs.mouseClickHandler);hs.addEventListener(document,"mouseup",hs.mouseClickHandler);hs.addEventListener(document,"ready",hs.setClickEvents)};